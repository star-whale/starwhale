{"version":3,"file":"module.js","sources":["../../../node_modules/.pnpm/media-encoder-host-broker@7.0.70/node_modules/media-encoder-host-broker/build/es2019/module.js","../../../node_modules/.pnpm/media-encoder-host@8.0.78/node_modules/media-encoder-host/build/es2019/worker/worker.js","../../../node_modules/.pnpm/media-encoder-host@8.0.78/node_modules/media-encoder-host/build/es2019/module.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/blob-event-factory.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/decode-web-m-chunk.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/event-target-constructor.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/event-target-factory.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/invalid-modification-error.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/invalid-state-error.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/is-supported-promise.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/media-recorder-constructor.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/native-blob-event-constructor.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/native-media-recorder.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/native-media-recorder-constructor.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/not-supported-error.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/read-element-content.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/read-element-type.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/read-variable-size-integer.js","../../../node_modules/.pnpm/rxjs-interop@2.0.0/node_modules/rxjs-interop/dist/esm/symbols.js","../../../node_modules/.pnpm/rxjs-interop@2.0.0/node_modules/rxjs-interop/dist/esm/patch.js","../../../node_modules/.pnpm/rxjs-interop@2.0.0/node_modules/rxjs-interop/dist/esm/to-observer.js","../../../node_modules/.pnpm/subscribable-things@2.1.7/node_modules/subscribable-things/build/es2019/factories/on.js","../../../node_modules/.pnpm/subscribable-things@2.1.7/node_modules/subscribable-things/build/es2019/factories/wrap-subscribe-function.js","../../../node_modules/.pnpm/subscribable-things@2.1.7/node_modules/subscribable-things/build/es2019/module.js","../../../node_modules/.pnpm/dashify@2.0.0/node_modules/dashify/index.js","../../../node_modules/.pnpm/indefinite-article@0.0.2/node_modules/indefinite-article/indefinite-article.js","../../../node_modules/.pnpm/compilerr@9.0.21/node_modules/compilerr/build/es2019/module.js","../../../node_modules/.pnpm/worker-factory@6.0.69/node_modules/worker-factory/build/es2019/helpers/error-renderers.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/factories/add-recorder-audio-worklet-module.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/factories/listener.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/factories/post-message-factory.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/factories/recorder-audio-worklet-node-factory.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/functions/validate-state.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/worklet/worklet.js","../../../node_modules/.pnpm/recorder-audio-worklet@5.1.29/node_modules/recorder-audio-worklet/build/es2019/module.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-extended-exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-extended-linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-set-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-set-value-curve-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-target-value-at-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/any-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/set-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/set-value-curve-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-value-of-automation-event-at-index-at-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-end-time-and-value-of-previous-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/cancel-and-hold-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/cancel-scheduled-values-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-event-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-exponential-ramp-value-at-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-linear-ramp-value-at-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/interpolate-value.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/get-value-curve-value-at-time.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/guards/set-target-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/classes/automation-event-list.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-cancel-and-hold-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-cancel-scheduled-values-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-exponential-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-linear-ramp-to-value-automation-event.js","../../../node_modules/.pnpm/automation-events@4.0.21/node_modules/automation-events/build/es2019/functions/create-set-target-automation-event.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/abort-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-active-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-audio-node-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-audio-param-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/globals.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-constructible.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/split-import-statements.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-audio-worklet-module.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-value-for-key.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/pick-element-from-set.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-event-listeners-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-active.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/set-internal-state-to-passive-when-necessary.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-passive-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-silent-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/add-unrendered-audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-owned-by-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/index-size-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-get-channel-data-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/constants.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-active-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-buffer-source-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/audio-buffer-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/biquad-filter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/constant-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/gain-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/oscillator-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/stereo-panner-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-node-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-param-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/deactivate-active-audio-node-input-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/deactivate-audio-graph.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-valid-latency-hint.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-destination-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-listener-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/audio-node-output-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/insert-element-in-set.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/add-active-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/add-passive-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/native-audio-node-faker.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/connect-native-audio-node-to-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/delete-active-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/delete-event-listeners-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/delete-passive-input-connection-to-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/disconnect-native-audio-node-from-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-native-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-part-of-a-cycle.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/is-passive-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-node-disconnect-method-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/visit-each-audio-node-once.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-node-disconnect-method.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-param-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-param-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/read-only-map.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/copy-from-channel.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/copy-to-channel.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/create-nested-arrays.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-audio-worklet-processor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/audio-worklet-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/cache-test-result.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/connect-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/connect-multiple-outputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/constant-source-node-renderer-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/convert-number-to-unsigned-long.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/decrement-cycle-counter.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/delete-active-input-connection-to-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/delete-unrendered-audio-worklet-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/guards/delay-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/detect-cycles.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/disconnect-multiple-outputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/evaluate-source.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/event-target-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/expose-current-frame-and-current-time.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/fetch-source.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-active-audio-worklet-node-inputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-audio-node-tail-time.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-audio-param-renderer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-backup-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/invalid-state-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-native-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-or-create-backup-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/get-unrendered-audio-worklet-nodes.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/invalid-access-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/increment-cycle-counter-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/is-native-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/is-native-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/is-secure-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/media-stream-audio-source-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/minimal-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/minimal-base-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-promise-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/monitor-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-option.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/assign-native-audio-node-audio-param-value.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-buffer-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-destination-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-clonability-of-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/compute-buffer-size.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/clone-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor-promise.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/create-audio-worklet-processor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-audio-worklet-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-channel-merger-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-channel-splitter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-channel-splitter-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/intercept-connections.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-constant-source-node-faker-factory.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-gain-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-media-stream-audio-source-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-offline-audio-context-constructor.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/native-script-processor-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/not-supported-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/render-automation.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/render-inputs-of-audio-param.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/render-native-offline-audio-context.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/set-active-audio-worklet-node-inputs.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/test-audio-buffer-constructor-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/test-audio-worklet-processor-post-message-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/test-offline-audio-context-current-time-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/unknown-error.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/window.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/factories/wrap-channel-merger-node.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/get-first-sample.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/overwrite-accessors.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/sanitize-audio-worklet-node-options.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/set-value-at-time-until-possible.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-start-method-offset-clamping-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-worklet-node-options-clonability.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-buffer-source-node-start-method-offset-clamping.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/helpers/wrap-event-listener.js","../../../node_modules/.pnpm/standardized-audio-context@25.3.32/node_modules/standardized-audio-context/build/es2019/module.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/web-audio-media-recorder.js","../../../node_modules/.pnpm/multi-buffer-data-view@3.0.21/node_modules/multi-buffer-data-view/build/es2019/classes/multi-buffer-data-view.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/webm-pcm-media-recorder.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/factories/window.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/functions/read-variable-size-integer-length.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/functions/wrap-event-listener.js","../../../node_modules/.pnpm/extendable-media-recorder@7.0.2/node_modules/extendable-media-recorder/build/es2019/module.js"],"sourcesContent":["import { createBroker } from 'broker-factory';\nimport { addUniqueNumber } from 'fast-unique-numbers';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst encoderIds = new Set();\nexport const wrap = createBroker({\n    encode: ({ call }) => {\n        return async (encoderId, timeslice) => {\n            const arrayBuffers = await call('encode', { encoderId, timeslice });\n            encoderIds.delete(encoderId);\n            return arrayBuffers;\n        };\n    },\n    instantiate: ({ call }) => {\n        return async (mimeType, sampleRate) => {\n            const encoderId = addUniqueNumber(encoderIds);\n            const port = await call('instantiate', { encoderId, mimeType, sampleRate });\n            return { encoderId, port };\n        };\n    },\n    register: ({ call }) => {\n        return (port) => {\n            return call('register', { port }, [port]);\n        };\n    }\n});\nexport const load = (url) => {\n    const worker = new Worker(url);\n    return wrap(worker);\n};\n//# sourceMappingURL=module.js.map","// This is the minified and stringified code of the media-encoder-host-worker package.\nexport const worker = `(()=>{var e={775:function(e,t,r){!function(e,t,r,n){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var a=o(t),s=o(r),i=o(n),c=function(e,t){return void 0===t?e:t.reduce((function(e,t){if(\"capitalize\"===t){var r=e.charAt(0).toUpperCase(),n=e.slice(1);return\"\".concat(r).concat(n)}return\"dashify\"===t?s.default(e):\"prependIndefiniteArticle\"===t?\"\".concat(i.default(e),\" \").concat(e):e}),e)},u=function(e){var t=e.name+e.modifiers.map((function(e){return\"\\\\\\\\.\".concat(e,\"\\\\\\\\(\\\\\\\\)\")})).join(\"\");return new RegExp(\"\\\\\\\\$\\\\\\\\{\".concat(t,\"}\"),\"g\")},l=function(e,t){for(var r=/\\\\\\${([^.}]+)((\\\\.[^(]+\\\\(\\\\))*)}/g,n=[],o=r.exec(e);null!==o;){var s={modifiers:[],name:o[1]};if(void 0!==o[3])for(var i=/\\\\.[^(]+\\\\(\\\\)/g,l=i.exec(o[2]);null!==l;)s.modifiers.push(l[0].slice(1,-2)),l=i.exec(o[2]);n.push(s),o=r.exec(e)}var d=n.reduce((function(e,r){return e.map((function(e){return\"string\"==typeof e?e.split(u(r)).reduce((function(e,n,o){return 0===o?[n]:r.name in t?[].concat(a.default(e),[c(t[r.name],r.modifiers),n]):[].concat(a.default(e),[function(e){return c(e[r.name],r.modifiers)},n])}),[]):[e]})).reduce((function(e,t){return[].concat(a.default(e),a.default(t))}),[])}),[e]);return function(e){return d.reduce((function(t,r){return[].concat(a.default(t),\"string\"==typeof r?[r]:[r(e)])}),[]).join(\"\")}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0===e.code?void 0:l(e.code,t),n=void 0===e.message?void 0:l(e.message,t);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,a=void 0===o&&(t instanceof Error||void 0!==t.code&&\"Exception\"===t.code.slice(-9))?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},s=a.cause,i=a.missingParameters,c=void 0===n?new Error:new Error(n(i));return null!==s&&(c.cause=s),void 0!==r&&(c.code=r(i)),void 0!==e.status&&(c.status=e.status),c}return o};e.compile=d,Object.defineProperty(e,\"__esModule\",{value:!0})}(t,r(106),r(881),r(507))},881:e=>{\"use strict\";e.exports=(e,t)=>{if(\"string\"!=typeof e)throw new TypeError(\"expected a string\");return e.trim().replace(/([a-z])([A-Z])/g,\"$1-$2\").replace(/\\\\W/g,(e=>/[À-ž]/.test(e)?e:\"-\")).replace(/^-+|-+$/g,\"\").replace(/-{2,}/g,(e=>t&&t.condense?\"-\":e)).toLowerCase()}},107:function(e,t){!function(e){\"use strict\";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=2*o,s=function(e,t){return function(r){var s=t.get(r),i=void 0===s?r.size:s<a?s+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error(\"Congratulations, you created a collection of unique numbers which uses all available integers!\");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),u=s(c,i),l=t(u);e.addUniqueNumber=l,e.generateUniqueNumber=u,Object.defineProperty(e,\"__esModule\",{value:!0})}(t)},507:e=>{var t=function(e){var t,r,n=/\\\\w+/.exec(e);if(!n)return\"an\";var o=(r=n[0]).toLowerCase(),a=[\"honest\",\"hour\",\"hono\"];for(t in a)if(0==o.indexOf(a[t]))return\"an\";if(1==o.length)return\"aedhilmnorsx\".indexOf(o)>=0?\"an\":\"a\";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return\"an\";var s=[/^e[uw]/,/^onc?e\\\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<s.length;t++)if(o.match(s[t]))return\"a\";return r.match(/^U[NK][AIEO]/)?\"a\":r==r.toUpperCase()?\"aedhilmnorsx\".indexOf(o[0])>=0?\"an\":\"a\":\"aeiou\".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?\"an\":\"a\"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t},768:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,r)=>{var n=r(768);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},642:e=>{e.exports=function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},344:e=>{e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.__esModule=!0,e.exports.default=e.exports},106:(e,t,r)=>{var n=r(907),o=r(642),a=r(906),s=r(344);e.exports=function(e){return n(e)||o(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},906:(e,t,r)=>{var n=r(768);e.exports=function(e,t){if(e){if(\"string\"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{\"use strict\";var e=r(775);const t=-32603,n=-32602,o=-32601,a=(0,e.compile)({message:'The requested method called \"\\${method}\" is not supported.',status:o}),s=(0,e.compile)({message:'The handler of the method called \"\\${method}\" returned no required result.',status:t}),i=(0,e.compile)({message:'The handler of the method called \"\\${method}\" returned an unexpected result.',status:t}),c=(0,e.compile)({message:'The specified parameter called \"portId\" with the given value \"\\${portId}\" does not identify a port connected to this worker.',status:n}),u=(e,t)=>async r=>{let{data:{id:n,method:o,params:c}}=r;const u=t[o];try{if(void 0===u)throw a({method:o});const t=void 0===c?u():u(c);if(void 0===t)throw s({method:o});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw i({method:o})}else{if(void 0===r.result)throw i({method:o});const{result:t,transferables:a=[]}=r;e.postMessage({id:n,result:t},a)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}};var l=r(107);const d=new Map,f=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const o=e(n,t),a=(0,l.generateUniqueNumber)(d);return d.set(a,(()=>{o(),n.close(),d.delete(a)})),{result:a}},disconnect:e=>{let{portId:t}=e;const r=d.get(t);if(void 0===r)throw c({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const n=f(p,t,r),o=u(e,n);return e.addEventListener(\"message\",o),()=>e.removeEventListener(\"message\",o)},m=e=>{e.onmessage=null,e.close()},h=new WeakMap,g=new WeakMap,v=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t(\"connect\",{port:e},[e]);return h.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=h.get(e);if(void 0===r)throw new Error(\"The given port is not connected.\");await t(\"disconnect\",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t(\"isSupported\")}});var r;return e=>{const r=(e=>{if(g.has(e))return g.get(e);const t=new Map;return g.set(e,t),t})(e);e.addEventListener(\"message\",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>\"function\"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((a,s)=>{const i=(0,l.generateUniqueNumber)(r);r.set(i,{reject:s,resolve:a}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let a={};for(const[e,r]of Object.entries(t))a={...a,[e]:r({call:n,notify:o})};return{...a}}})({characterize:e=>{let{call:t}=e;return()=>t(\"characterize\")},encode:e=>{let{call:t}=e;return(e,r)=>t(\"encode\",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t(\"record\",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),w=async(e,t)=>{const r=v(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error(\"There is already an encoder stored which handles exactly the same mime types.\");return e.set(o,[n,r]),n},x=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error(\"There was no instance of an encoder stored with the given id.\");return r})(x),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(x,y),b=new Map,E=((e,t)=>r=>{const[n,o,a,s]=t(r);return a?new Promise((t=>{o.onmessage=a=>{let{data:i}=a;0===i.length?(e(o),t(n.encode(r,null))):n.record(r,s,i)}})):n.encode(r,null)})(m,M),A=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error(\"There is no encoder registered which could handle the given mimeType.\")})(b),_=((e,t,r)=>(n,o,a)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called \"'.concat(n,'\".'));const s=r(o),{port1:i,port2:c}=new MessageChannel,u=[s,i,!0,a];return t.set(n,u),i.onmessage=t=>{let{data:r}=t;0===r.length?(e(i),u[2]=!1):s.record(n,a,r)},c})(m,x,A),I=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);p(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await E(t):await I(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=_(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await w(b,t)}}})})()})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","import { load as loadWorker } from 'media-encoder-host-broker';\nimport { worker } from './worker/worker';\nconst blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\nconst url = URL.createObjectURL(blob);\nconst mediaEncoderHost = loadWorker(url);\nexport const connect = mediaEncoderHost.connect;\nexport const disconnect = mediaEncoderHost.disconnect;\nexport const encode = mediaEncoderHost.encode;\nexport const instantiate = mediaEncoderHost.instantiate;\nexport const isSupported = mediaEncoderHost.isSupported;\nexport const register = mediaEncoderHost.register;\nURL.revokeObjectURL(url);\n//# sourceMappingURL=module.js.map","export const createBlobEventFactory = (nativeBlobEventConstructor) => {\n    return (type, blobEventInit) => {\n        if (nativeBlobEventConstructor === null) {\n            throw new Error('A native BlobEvent could not be created.');\n        }\n        return new nativeBlobEventConstructor(type, blobEventInit);\n    };\n};\n//# sourceMappingURL=blob-event-factory.js.map","export const createDecodeWebMChunk = (readElementContent, readElementType) => {\n    return (dataView, elementType, channelCount) => {\n        const contents = [];\n        let currentElementType = elementType;\n        let offset = 0;\n        while (offset < dataView.byteLength) {\n            if (currentElementType === null) {\n                const lengthAndType = readElementType(dataView, offset);\n                if (lengthAndType === null) {\n                    break;\n                }\n                const { length, type } = lengthAndType;\n                currentElementType = type;\n                offset += length;\n            }\n            else {\n                const contentAndLength = readElementContent(dataView, offset, currentElementType, channelCount);\n                if (contentAndLength === null) {\n                    break;\n                }\n                const { content, length } = contentAndLength;\n                currentElementType = null;\n                offset += length;\n                if (content !== null) {\n                    contents.push(content);\n                }\n            }\n        }\n        return { contents, currentElementType, offset };\n    };\n};\n//# sourceMappingURL=decode-web-m-chunk.js.map","export const createEventTargetConstructor = (createEventTarget, wrapEventListener) => {\n    return class EventTarget {\n        constructor(nativeEventTarget = null) {\n            this._listeners = new WeakMap();\n            this._nativeEventTarget = nativeEventTarget === null ? createEventTarget() : nativeEventTarget;\n        }\n        addEventListener(type, listener, options) {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n        dispatchEvent(event) {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n        removeEventListener(type, listener, options) {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n//# sourceMappingURL=event-target-constructor.js.map","export const createEventTargetFactory = (window) => {\n    return () => {\n        if (window === null) {\n            throw new Error('A native EventTarget could not be created.');\n        }\n        return window.document.createElement('p');\n    };\n};\n//# sourceMappingURL=event-target-factory.js.map","export const createInvalidModificationError = (message = '') => {\n    try {\n        return new DOMException(message, 'InvalidModificationError');\n    }\n    catch (err) {\n        // @todo Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 13;\n        err.message = message;\n        err.name = 'InvalidModificationError';\n        return err;\n    }\n};\n//# sourceMappingURL=invalid-modification-error.js.map","export const createInvalidStateError = () => {\n    try {\n        return new DOMException('', 'InvalidStateError');\n    }\n    catch (err) {\n        // Bug #122: Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 11;\n        err.name = 'InvalidStateError';\n        return err;\n    }\n};\n//# sourceMappingURL=invalid-state-error.js.map","export const createIsSupportedPromise = (window) => {\n    if (window !== null &&\n        // Bug #14: Before v14.1 Safari did not support the BlobEvent.\n        window.BlobEvent !== undefined &&\n        window.MediaStream !== undefined &&\n        /*\n         * Bug #10: An early experimental implemenation in Safari did not provide the isTypeSupported() function.\n         */\n        (window.MediaRecorder === undefined || window.MediaRecorder.isTypeSupported !== undefined)) {\n        /*\n         * Bug #5: Up until v70 Firefox did emit a blob of type video/webm when asked to encode a MediaStream with a video track into an\n         * audio codec.\n         */\n        return new Promise((resolve) => {\n            // Bug #11 Safari does not yet support the MediaRecorder but that isn't tested here.\n            if (window.MediaRecorder === undefined) {\n                return resolve(true);\n            }\n            const canvasElement = window.document.createElement('canvas');\n            // @todo https://bugzilla.mozilla.org/show_bug.cgi?id=1388974\n            canvasElement.getContext('2d');\n            if (typeof canvasElement.captureStream !== 'function') {\n                return resolve(false);\n            }\n            const mediaStream = canvasElement.captureStream();\n            const mimeType = 'audio/webm';\n            try {\n                const mediaRecorder = new window.MediaRecorder(mediaStream, { mimeType });\n                mediaRecorder.addEventListener('dataavailable', ({ data }) => resolve(data.type === mimeType));\n                mediaRecorder.start();\n                setTimeout(() => mediaRecorder.stop(), 10);\n            }\n            catch (err) {\n                resolve(err.name === 'NotSupportedError');\n            }\n        });\n    }\n    return Promise.resolve(false);\n};\n//# sourceMappingURL=is-supported-promise.js.map","export const createMediaRecorderConstructor = (createNativeMediaRecorder, createNotSupportedError, createWebAudioMediaRecorder, createWebmPcmMediaRecorder, encoderRegexes, eventTargetConstructor, nativeMediaRecorderConstructor) => {\n    return class MediaRecorder extends eventTargetConstructor {\n        constructor(stream, options = {}) {\n            const { mimeType } = options;\n            if (nativeMediaRecorderConstructor !== null &&\n                // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                (mimeType === undefined ||\n                    (nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                        nativeMediaRecorderConstructor.isTypeSupported(mimeType)))) {\n                const internalMediaRecorder = createNativeMediaRecorder(nativeMediaRecorderConstructor, stream, options);\n                super(internalMediaRecorder);\n                this._internalMediaRecorder = internalMediaRecorder;\n            }\n            else if (mimeType !== undefined && encoderRegexes.some((regex) => regex.test(mimeType))) {\n                super();\n                // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                if (nativeMediaRecorderConstructor !== null &&\n                    nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                    nativeMediaRecorderConstructor.isTypeSupported('audio/webm;codecs=pcm')) {\n                    this._internalMediaRecorder = createWebmPcmMediaRecorder(this, nativeMediaRecorderConstructor, stream, mimeType);\n                }\n                else {\n                    this._internalMediaRecorder = createWebAudioMediaRecorder(this, stream, mimeType);\n                }\n            }\n            else {\n                // This is creating a native MediaRecorder just to provoke it to throw an error.\n                if (nativeMediaRecorderConstructor !== null) {\n                    createNativeMediaRecorder(nativeMediaRecorderConstructor, stream, options);\n                }\n                throw createNotSupportedError();\n            }\n            this._ondataavailable = null;\n            this._onerror = null;\n            this._onpause = null;\n            this._onresume = null;\n            this._onstart = null;\n            this._onstop = null;\n        }\n        get mimeType() {\n            return this._internalMediaRecorder.mimeType;\n        }\n        get ondataavailable() {\n            return this._ondataavailable === null ? this._ondataavailable : this._ondataavailable[0];\n        }\n        set ondataavailable(value) {\n            if (this._ondataavailable !== null) {\n                this.removeEventListener('dataavailable', this._ondataavailable[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('dataavailable', boundListener);\n                this._ondataavailable = [value, boundListener];\n            }\n            else {\n                this._ondataavailable = null;\n            }\n        }\n        get onerror() {\n            return this._onerror === null ? this._onerror : this._onerror[0];\n        }\n        set onerror(value) {\n            if (this._onerror !== null) {\n                this.removeEventListener('error', this._onerror[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('error', boundListener);\n                this._onerror = [value, boundListener];\n            }\n            else {\n                this._onerror = null;\n            }\n        }\n        get onpause() {\n            return this._onpause === null ? this._onpause : this._onpause[0];\n        }\n        set onpause(value) {\n            if (this._onpause !== null) {\n                this.removeEventListener('pause', this._onpause[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('pause', boundListener);\n                this._onpause = [value, boundListener];\n            }\n            else {\n                this._onpause = null;\n            }\n        }\n        get onresume() {\n            return this._onresume === null ? this._onresume : this._onresume[0];\n        }\n        set onresume(value) {\n            if (this._onresume !== null) {\n                this.removeEventListener('resume', this._onresume[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('resume', boundListener);\n                this._onresume = [value, boundListener];\n            }\n            else {\n                this._onresume = null;\n            }\n        }\n        get onstart() {\n            return this._onstart === null ? this._onstart : this._onstart[0];\n        }\n        set onstart(value) {\n            if (this._onstart !== null) {\n                this.removeEventListener('start', this._onstart[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('start', boundListener);\n                this._onstart = [value, boundListener];\n            }\n            else {\n                this._onstart = null;\n            }\n        }\n        get onstop() {\n            return this._onstop === null ? this._onstop : this._onstop[0];\n        }\n        set onstop(value) {\n            if (this._onstop !== null) {\n                this.removeEventListener('stop', this._onstop[1]);\n            }\n            if (typeof value === 'function') {\n                const boundListener = value.bind(this);\n                this.addEventListener('stop', boundListener);\n                this._onstop = [value, boundListener];\n            }\n            else {\n                this._onstop = null;\n            }\n        }\n        get state() {\n            return this._internalMediaRecorder.state;\n        }\n        pause() {\n            return this._internalMediaRecorder.pause();\n        }\n        resume() {\n            return this._internalMediaRecorder.resume();\n        }\n        start(timeslice) {\n            return this._internalMediaRecorder.start(timeslice);\n        }\n        stop() {\n            return this._internalMediaRecorder.stop();\n        }\n        static isTypeSupported(mimeType) {\n            return ((nativeMediaRecorderConstructor !== null &&\n                // Bug #10: Safari does not yet implement the isTypeSupported() method.\n                nativeMediaRecorderConstructor.isTypeSupported !== undefined &&\n                nativeMediaRecorderConstructor.isTypeSupported(mimeType)) ||\n                encoderRegexes.some((regex) => regex.test(mimeType)));\n        }\n    };\n};\n//# sourceMappingURL=media-recorder-constructor.js.map","export const createNativeBlobEventConstructor = (window) => {\n    if (window !== null && window.BlobEvent !== undefined) {\n        return window.BlobEvent;\n    }\n    return null;\n};\n//# sourceMappingURL=native-blob-event-constructor.js.map","export const createNativeMediaRecorderFactory = (createInvalidModificationError, createNotSupportedError) => {\n    return (nativeMediaRecorderConstructor, stream, mediaRecorderOptions) => {\n        const bufferedBlobs = [];\n        const dataAvailableListeners = new WeakMap();\n        const errorListeners = new WeakMap();\n        const nativeMediaRecorder = new nativeMediaRecorderConstructor(stream, mediaRecorderOptions);\n        const stopListeners = new WeakMap();\n        let isActive = true;\n        nativeMediaRecorder.addEventListener = ((addEventListener) => {\n            return (type, listener, options) => {\n                let patchedEventListener = listener;\n                if (typeof listener === 'function') {\n                    if (type === 'dataavailable') {\n                        // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n                        patchedEventListener = (event) => {\n                            setTimeout(() => {\n                                if (isActive && nativeMediaRecorder.state === 'inactive') {\n                                    bufferedBlobs.push(event.data);\n                                }\n                                else {\n                                    if (bufferedBlobs.length > 0) {\n                                        const blob = event.data;\n                                        Object.defineProperty(event, 'data', {\n                                            value: new Blob([...bufferedBlobs, blob], { type: blob.type })\n                                        });\n                                        bufferedBlobs.length = 0;\n                                    }\n                                    listener.call(nativeMediaRecorder, event);\n                                }\n                            });\n                        };\n                        dataAvailableListeners.set(listener, patchedEventListener);\n                    }\n                    else if (type === 'error') {\n                        // Bug #12 & #13: Firefox fires a regular event with an error property.\n                        patchedEventListener = (event) => {\n                            // Bug #3 & #4: Chrome throws an error event without any error.\n                            if (event.error === undefined) {\n                                listener.call(nativeMediaRecorder, new ErrorEvent('error', { error: createInvalidModificationError() }));\n                                // Bug #1 & #2: Firefox throws an error event with an UnknownError.\n                            }\n                            else if (event.error.name === 'UnknownError') {\n                                const message = event.error.message;\n                                listener.call(nativeMediaRecorder, new ErrorEvent('error', { error: createInvalidModificationError(message) }));\n                            }\n                            else if (event instanceof ErrorEvent) {\n                                listener.call(nativeMediaRecorder, event);\n                            }\n                            else {\n                                listener.call(nativeMediaRecorder, new ErrorEvent('error', { error: event.error }));\n                            }\n                        };\n                        errorListeners.set(listener, patchedEventListener);\n                    }\n                    else if (type === 'stop') {\n                        // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n                        patchedEventListener = (event) => {\n                            isActive = false;\n                            setTimeout(() => listener.call(nativeMediaRecorder, event));\n                        };\n                        stopListeners.set(listener, patchedEventListener);\n                    }\n                }\n                return addEventListener.call(nativeMediaRecorder, type, patchedEventListener, options);\n            };\n        })(nativeMediaRecorder.addEventListener);\n        nativeMediaRecorder.dispatchEvent = ((dispatchEvent) => {\n            // Bug #7 & #8: Chrome fires the dataavailable and stop events before it fires the error event.\n            return (event) => {\n                let wasActive;\n                setTimeout(() => {\n                    wasActive = isActive;\n                    isActive = false;\n                });\n                const returnValue = dispatchEvent.call(nativeMediaRecorder, event);\n                setTimeout(() => (isActive = wasActive));\n                return returnValue;\n            };\n        })(nativeMediaRecorder.dispatchEvent);\n        nativeMediaRecorder.removeEventListener = ((removeEventListener) => {\n            return (type, listener, options) => {\n                let patchedEventListener = listener;\n                if (typeof listener === 'function') {\n                    if (type === 'dataavailable') {\n                        const dataAvailableListener = dataAvailableListeners.get(listener);\n                        if (dataAvailableListener !== undefined) {\n                            patchedEventListener = dataAvailableListener;\n                        }\n                    }\n                    else if (type === 'error') {\n                        const errorListener = errorListeners.get(listener);\n                        if (errorListener !== undefined) {\n                            patchedEventListener = errorListener;\n                        }\n                    }\n                    else if (type === 'stop') {\n                        const stopListener = stopListeners.get(listener);\n                        if (stopListener !== undefined) {\n                            patchedEventListener = stopListener;\n                        }\n                    }\n                }\n                return removeEventListener.call(nativeMediaRecorder, type, patchedEventListener, options);\n            };\n        })(nativeMediaRecorder.removeEventListener);\n        nativeMediaRecorder.start = ((start) => {\n            return (timeslice) => {\n                /*\n                 * Bug #6: Chrome will emit a blob without any data when asked to encode a MediaStream with a video track into an audio\n                 * codec.\n                 */\n                if (mediaRecorderOptions.mimeType !== undefined &&\n                    mediaRecorderOptions.mimeType.startsWith('audio/') &&\n                    stream.getVideoTracks().length > 0) {\n                    throw createNotSupportedError();\n                }\n                isActive = timeslice !== undefined;\n                return timeslice === undefined ? start.call(nativeMediaRecorder) : start.call(nativeMediaRecorder, timeslice);\n            };\n        })(nativeMediaRecorder.start);\n        return nativeMediaRecorder;\n    };\n};\n//# sourceMappingURL=native-media-recorder.js.map","export const createNativeMediaRecorderConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    return window.MediaRecorder === undefined ? null : window.MediaRecorder;\n};\n//# sourceMappingURL=native-media-recorder-constructor.js.map","export const createNotSupportedError = () => {\n    try {\n        return new DOMException('', 'NotSupportedError');\n    }\n    catch (err) {\n        // @todo Edge is the only browser that does not yet allow to construct a DOMException.\n        err.code = 9;\n        err.name = 'NotSupportedError';\n        return err;\n    }\n};\n//# sourceMappingURL=not-supported-error.js.map","export const createReadElementContent = (readVariableSizeInteger) => {\n    return (dataView, offset, type, channelCount = 2) => {\n        const lengthAndValue = readVariableSizeInteger(dataView, offset);\n        if (lengthAndValue === null) {\n            return lengthAndValue;\n        }\n        const { length, value } = lengthAndValue;\n        if (type === 'master') {\n            return { content: null, length };\n        }\n        if (offset + length + value > dataView.byteLength) {\n            return null;\n        }\n        if (type === 'binary') {\n            const numberOfSamples = (value / Float32Array.BYTES_PER_ELEMENT - 1) / channelCount;\n            const content = Array.from({ length: channelCount }, () => new Float32Array(numberOfSamples));\n            for (let i = 0; i < numberOfSamples; i += 1) {\n                const elementOffset = i * channelCount + 1;\n                for (let j = 0; j < channelCount; j += 1) {\n                    content[j][i] = dataView.getFloat32(offset + length + (elementOffset + j) * Float32Array.BYTES_PER_ELEMENT, true);\n                }\n            }\n            return { content, length: length + value };\n        }\n        return { content: null, length: length + value };\n    };\n};\n//# sourceMappingURL=read-element-content.js.map","export const createReadElementType = (readVariableSizeInteger) => {\n    return (dataView, offset) => {\n        const lengthAndValue = readVariableSizeInteger(dataView, offset);\n        if (lengthAndValue === null) {\n            return lengthAndValue;\n        }\n        const { length, value } = lengthAndValue;\n        if (value === 35) {\n            return { length, type: 'binary' };\n        }\n        if (value === 46 ||\n            value === 97 ||\n            value === 88713574 ||\n            value === 106212971 ||\n            value === 139690087 ||\n            value === 172351395 ||\n            value === 256095861) {\n            return { length, type: 'master' };\n        }\n        return { length, type: 'unknown' };\n    };\n};\n//# sourceMappingURL=read-element-type.js.map","export const createReadVariableSizeInteger = (readVariableSizeIntegerLength) => {\n    return (dataView, offset) => {\n        const length = readVariableSizeIntegerLength(dataView, offset);\n        if (length === null) {\n            return length;\n        }\n        const firstDataByteOffset = offset + Math.floor((length - 1) / 8);\n        if (firstDataByteOffset + length > dataView.byteLength) {\n            return null;\n        }\n        const firstDataByte = dataView.getUint8(firstDataByteOffset);\n        let value = firstDataByte & ((1 << (8 - (length % 8))) - 1); // tslint:disable-line:no-bitwise\n        for (let i = 1; i < length; i += 1) {\n            value = (value << 8) + dataView.getUint8(firstDataByteOffset + i); // tslint:disable-line:no-bitwise\n        }\n        return { length, value };\n    };\n};\n//# sourceMappingURL=read-variable-size-integer.js.map","export const observable = Symbol.observable || \"@@observable\";\r\n//# sourceMappingURL=symbols.js.map","import { observable } from \"./symbols\";\r\nexport function patch(arg) {\r\n    if (!Symbol.observable) {\r\n        if (typeof arg === \"function\" &&\r\n            arg.prototype &&\r\n            arg.prototype[Symbol.observable]) {\r\n            arg.prototype[observable] = arg.prototype[Symbol.observable];\r\n            delete arg.prototype[Symbol.observable];\r\n        }\r\n        else {\r\n            arg[observable] = arg[Symbol.observable];\r\n            delete arg[Symbol.observable];\r\n        }\r\n    }\r\n    return arg;\r\n}\r\n//# sourceMappingURL=patch.js.map","const noop = () => { };\r\nconst rethrow = (error) => {\r\n    throw error;\r\n};\r\nexport function toObserver(observer) {\r\n    if (observer) {\r\n        if (observer.next && observer.error && observer.complete) {\r\n            return observer;\r\n        }\r\n        return {\r\n            complete: (observer.complete ?? noop).bind(observer),\r\n            error: (observer.error ?? rethrow).bind(observer),\r\n            next: (observer.next ?? noop).bind(observer),\r\n        };\r\n    }\r\n    return {\r\n        complete: noop,\r\n        error: rethrow,\r\n        next: noop,\r\n    };\r\n}\r\n//# sourceMappingURL=to-observer.js.map","export const createOn = (wrapSubscribeFunction) => {\n    return (target, type, options) => wrapSubscribeFunction((observer) => {\n        const listener = (event) => observer.next(event);\n        target.addEventListener(type, listener, options);\n        return () => target.removeEventListener(type, listener, options);\n    });\n};\n//# sourceMappingURL=on.js.map","export const createWrapSubscribeFunction = (patch, toObserver) => {\n    const emptyFunction = () => { }; // tslint:disable-line:no-empty\n    const isNextFunction = (args) => typeof args[0] === 'function';\n    return (innerSubscribe) => {\n        const subscribe = ((...args) => {\n            const unsubscribe = innerSubscribe(isNextFunction(args) ? toObserver({ next: args[0] }) : toObserver(...args));\n            if (unsubscribe !== undefined) {\n                return unsubscribe;\n            }\n            return emptyFunction;\n        });\n        subscribe[Symbol.observable] = () => ({\n            subscribe: (...args) => ({ unsubscribe: subscribe(...args) })\n        });\n        return patch(subscribe);\n    };\n};\n//# sourceMappingURL=wrap-subscribe-function.js.map","import { patch, toObserver } from 'rxjs-interop';\nimport { createAnimationFrame } from './factories/animation-frame';\nimport { createAttribute } from './factories/attribute';\nimport { createGeolocation } from './factories/geolocation';\nimport { createIntersections } from './factories/intersections';\nimport { createMapSubscribableThing } from './factories/map-subscribable-thing';\nimport { createMediaDevices } from './factories/media-devices';\nimport { createMediaQueryMatch } from './factories/media-query-match';\nimport { createMetrics } from './factories/metrics';\nimport { createMidiInputs } from './factories/midi-inputs';\nimport { createMidiOutputs } from './factories/midi-outputs';\nimport { createMutations } from './factories/mutations';\nimport { createOn } from './factories/on';\nimport { createOnline } from './factories/online';\nimport { createPermissionState } from './factories/permission-state';\nimport { createPrependSubscribableThing } from './factories/prepend-subscribable-thing';\nimport { createReports } from './factories/reports';\nimport { createResizes } from './factories/resizes';\nimport { createUnhandledRejection } from './factories/unhandled-rejection';\nimport { createVideoFrame } from './factories/video-frame';\nimport { createWakeLock } from './factories/wake-lock';\nimport { createWindow } from './factories/window';\nimport { createWrapSubscribeFunction } from './factories/wrap-subscribe-function';\nimport { emitNotSupportedError } from './functions/emit-not-supported-error';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst window = createWindow();\nconst wrapSubscribeFunction = createWrapSubscribeFunction(patch, toObserver);\nexport const animationFrame = createAnimationFrame(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const mutations = createMutations(emitNotSupportedError, window, wrapSubscribeFunction);\nconst mapSubscribableThing = createMapSubscribableThing(wrapSubscribeFunction);\nconst prependSubscribableThing = createPrependSubscribableThing(wrapSubscribeFunction);\nexport const attribute = createAttribute(mapSubscribableThing, mutations, prependSubscribableThing);\nexport const geolocation = createGeolocation(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const intersections = createIntersections(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const mediaDevices = createMediaDevices(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const mediaQueryMatch = createMediaQueryMatch(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const metrics = createMetrics(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const midiInputs = createMidiInputs(wrapSubscribeFunction);\nexport const midiOutputs = createMidiOutputs(wrapSubscribeFunction);\nexport const on = createOn(wrapSubscribeFunction);\nexport const online = createOnline(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const permissionState = createPermissionState(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const reports = createReports(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const resizes = createResizes(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const unhandledRejection = createUnhandledRejection(emitNotSupportedError, window, wrapSubscribeFunction);\nexport const videoFrame = createVideoFrame(emitNotSupportedError, wrapSubscribeFunction);\nexport const wakeLock = createWakeLock(emitNotSupportedError, window, wrapSubscribeFunction);\n//# sourceMappingURL=module.js.map","/*!\n * dashify <https://github.com/jonschlinkert/dashify>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = (str, options) => {\n  if (typeof str !== 'string') throw new TypeError('expected a string');\n  return str.trim()\n    .replace(/([a-z])([A-Z])/g, '$1-$2')\n    .replace(/\\W/g, m => /[À-ž]/.test(m) ? m : '-')\n    .replace(/^-+|-+$/g, '')\n    .replace(/-{2,}/g, m => options && options.condense ? '-' : m)\n    .toLowerCase();\n};\n","/*\n * indefinite-article.js v1.0.0, 12-18-2011\n *\n * @author: Rodrigo Neri (@rigoneri)\n *\n * (The MIT License)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nvar indefiniteArticle = function(phrase) {\n    var i, word;\n\n    // Getting the first word\n    var match = /\\w+/.exec(phrase);\n    if (match)\n        word = match[0];\n    else\n        return \"an\";\n\n    var l_word = word.toLowerCase();\n    // Specific start of words that should be preceeded by 'an'\n    var alt_cases = [\"honest\", \"hour\", \"hono\"];\n    for (i in alt_cases) {\n        if (l_word.indexOf(alt_cases[i]) == 0)\n            return \"an\";\n    }\n\n    // Single letter word which should be preceeded by 'an'\n    if (l_word.length == 1) {\n        if (\"aedhilmnorsx\".indexOf(l_word) >= 0)\n            return \"an\";\n        else\n            return \"a\";\n    }\n\n    // Capital words which should likely be preceeded by 'an'\n    if (word.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/)) {\n        return \"an\";\n    }\n\n    // Special cases where a word that begins with a vowel should be preceeded by 'a'\n    var regexes = [/^e[uw]/, /^onc?e\\b/, /^uni([^nmd]|mo)/, /^u[bcfhjkqrst][aeiou]/];\n    for (i = 0; i < regexes.length; i++) {\n        if (l_word.match(regexes[i]))\n            return \"a\"\n    }\n\n    // Special capital words (UK, UN)\n    if (word.match(/^U[NK][AIEO]/)) {\n        return \"a\";\n    }\n    else if (word == word.toUpperCase()) {\n        if (\"aedhilmnorsx\".indexOf(l_word[0]) >= 0)\n            return \"an\";\n        else\n            return \"a\";\n    }\n\n    // Basic method of words that begin with a vowel being preceeded by 'an'\n    if (\"aeiou\".indexOf(l_word[0]) >= 0)\n        return \"an\";\n\n    // Instances where y follwed by specific letters is preceeded by 'an'\n    if (l_word.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/))\n        return \"an\";\n\n    return \"a\";\n};\n\nif ((typeof module !== 'undefined') && (typeof module.exports !== 'undefined')) {\n    module.exports = indefiniteArticle;\n} else {\n    window.indefiniteArticle = indefiniteArticle;\n}\n","import dashify from 'dashify';\nimport indefiniteArticle from 'indefinite-article';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst applyModifiers = (name, modifiers) => {\n    if (modifiers === undefined) {\n        return name;\n    }\n    return modifiers.reduce((modifiedName, modifier) => {\n        if (modifier === 'capitalize') {\n            const head = modifiedName.charAt(0).toUpperCase();\n            const tail = modifiedName.slice(1);\n            return `${head}${tail}`;\n        }\n        if (modifier === 'dashify') {\n            return dashify(modifiedName);\n        }\n        if (modifier === 'prependIndefiniteArticle') {\n            return `${indefiniteArticle(modifiedName)} ${modifiedName}`;\n        }\n        return modifiedName;\n    }, name);\n};\nconst buildRegex = (variable) => {\n    const expression = variable.name + variable.modifiers.map((modifier) => `\\\\.${modifier}\\\\(\\\\)`).join('');\n    return new RegExp(`\\\\$\\\\{${expression}}`, 'g');\n};\nconst preRenderString = (string, parameters) => {\n    const expressionRegex = /\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g;\n    const variables = [];\n    let expressionResult = expressionRegex.exec(string);\n    while (expressionResult !== null) {\n        const variable = {\n            modifiers: [],\n            name: expressionResult[1]\n        };\n        if (expressionResult[3] !== undefined) {\n            const modifiersRegex = /\\.[^(]+\\(\\)/g;\n            let modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n            while (modifiersRegexResult !== null) {\n                variable.modifiers.push(modifiersRegexResult[0].slice(1, -2));\n                modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n            }\n        }\n        variables.push(variable);\n        expressionResult = expressionRegex.exec(string);\n    }\n    const preRenderedParts = variables.reduce((parts, variable) => parts\n        .map((part) => {\n        if (typeof part === 'string') {\n            return part.split(buildRegex(variable)).reduce((prts, prt, index) => {\n                if (index === 0) {\n                    return [prt];\n                }\n                if (variable.name in parameters) {\n                    return [...prts, applyModifiers(parameters[variable.name], variable.modifiers), prt];\n                }\n                return [...prts, (prmtrs) => applyModifiers(prmtrs[variable.name], variable.modifiers), prt];\n            }, []);\n        }\n        return [part];\n    })\n        .reduce((prts, part) => [...prts, ...part], []), [string]);\n    return (missingParameters) => preRenderedParts\n        .reduce((renderedParts, preRenderedPart) => {\n        if (typeof preRenderedPart === 'string') {\n            return [...renderedParts, preRenderedPart];\n        }\n        return [...renderedParts, preRenderedPart(missingParameters)];\n    }, [])\n        .join('');\n};\nexport const compile = (template, knownParameters = {}) => {\n    const renderCode = template.code === undefined ? undefined : preRenderString(template.code, knownParameters);\n    const renderMessage = template.message === undefined ? undefined : preRenderString(template.message, knownParameters);\n    function render(causeOrMissingParameters = {}, optionalCause) {\n        const hasNoOptionalCause = optionalCause === undefined &&\n            (causeOrMissingParameters instanceof Error ||\n                (causeOrMissingParameters.code !== undefined &&\n                    causeOrMissingParameters.code.slice(-9) === 'Exception'));\n        const { cause, missingParameters } = hasNoOptionalCause\n            ? {\n                cause: causeOrMissingParameters,\n                missingParameters: {}\n            }\n            : {\n                cause: optionalCause,\n                missingParameters: causeOrMissingParameters\n            };\n        const err = ((renderMessage === undefined ? new Error() : new Error(renderMessage(missingParameters))));\n        if (cause !== null) {\n            err.cause = cause;\n        }\n        if (renderCode !== undefined) {\n            err.code = renderCode(missingParameters);\n        }\n        if (template.status !== undefined) {\n            err.status = template.status;\n        }\n        return err;\n    }\n    return render;\n};\n//# sourceMappingURL=module.js.map","import { compile } from 'compilerr';\nconst JSON_RPC_ERROR_CODES = { INTERNAL_ERROR: -32603, INVALID_PARAMS: -32602, METHOD_NOT_FOUND: -32601 };\nexport const renderMethodNotFoundError = compile({\n    message: 'The requested method called \"${method}\" is not supported.',\n    status: JSON_RPC_ERROR_CODES.METHOD_NOT_FOUND\n});\nexport const renderMissingResponseError = compile({\n    message: 'The handler of the method called \"${method}\" returned no required result.',\n    status: JSON_RPC_ERROR_CODES.INTERNAL_ERROR\n});\nexport const renderUnexpectedResultError = compile({\n    message: 'The handler of the method called \"${method}\" returned an unexpected result.',\n    status: JSON_RPC_ERROR_CODES.INTERNAL_ERROR\n});\nexport const renderUnknownPortIdError = compile({\n    message: 'The specified parameter called \"portId\" with the given value \"${portId}\" does not identify a port connected to this worker.',\n    status: JSON_RPC_ERROR_CODES.INVALID_PARAMS\n});\n//# sourceMappingURL=error-renderers.js.map","export const createAddRecorderAudioWorkletModule = (blobConstructor, urlConstructor, worklet) => {\n    return async (addAudioWorkletModule) => {\n        const blob = new blobConstructor([worklet], { type: 'application/javascript; charset=utf-8' });\n        const url = urlConstructor.createObjectURL(blob);\n        try {\n            await addAudioWorkletModule(url);\n        }\n        finally {\n            urlConstructor.revokeObjectURL(url);\n        }\n    };\n};\n//# sourceMappingURL=add-recorder-audio-worklet-module.js.map","export const createListener = (ongoingRequests) => {\n    return ({ data: message }) => {\n        const { id } = message;\n        if (id !== null) {\n            const ongoingRequest = ongoingRequests.get(id);\n            if (ongoingRequest !== undefined) {\n                const { reject, resolve } = ongoingRequest;\n                ongoingRequests.delete(id);\n                if (message.error === undefined) {\n                    resolve(message.result);\n                }\n                else {\n                    reject(new Error(message.error.message));\n                }\n            }\n        }\n    };\n};\n//# sourceMappingURL=listener.js.map","export const createPostMessageFactory = (generateUniqueNumber) => {\n    return (ongoingRequests, port) => {\n        return (message, transferables = []) => {\n            return new Promise((resolve, reject) => {\n                const id = generateUniqueNumber(ongoingRequests);\n                ongoingRequests.set(id, { reject, resolve });\n                port.postMessage({ id, ...message }, transferables);\n            });\n        };\n    };\n};\n//# sourceMappingURL=post-message-factory.js.map","export const createRecorderAudioWorkletNodeFactory = (createListener, createPostMessage, on, validateState) => {\n    return (audioWorkletNodeConstructor, context, options = {}) => {\n        const audioWorkletNode = new audioWorkletNodeConstructor(context, 'recorder-audio-worklet-processor', {\n            ...options,\n            channelCountMode: 'explicit',\n            numberOfInputs: 1,\n            numberOfOutputs: 0\n        });\n        const ongoingRequests = new Map();\n        const postMessage = createPostMessage(ongoingRequests, audioWorkletNode.port);\n        const unsubscribe = on(audioWorkletNode.port, 'message')(createListener(ongoingRequests));\n        audioWorkletNode.port.start();\n        let state = 'inactive';\n        Object.defineProperties(audioWorkletNode, {\n            pause: {\n                get() {\n                    return async () => {\n                        validateState(['recording'], state);\n                        state = 'paused';\n                        return postMessage({\n                            method: 'pause'\n                        });\n                    };\n                }\n            },\n            port: {\n                get() {\n                    throw new Error(\"The port of a RecorderAudioWorkletNode can't be accessed.\");\n                }\n            },\n            record: {\n                get() {\n                    return async (encoderPort) => {\n                        validateState(['inactive'], state);\n                        state = 'recording';\n                        return postMessage({\n                            method: 'record',\n                            params: { encoderPort }\n                        }, [encoderPort]);\n                    };\n                }\n            },\n            resume: {\n                get() {\n                    return async () => {\n                        validateState(['paused'], state);\n                        state = 'recording';\n                        return postMessage({\n                            method: 'resume'\n                        });\n                    };\n                }\n            },\n            stop: {\n                get() {\n                    return async () => {\n                        validateState(['paused', 'recording'], state);\n                        state = 'stopped';\n                        try {\n                            await postMessage({ method: 'stop' });\n                        }\n                        finally {\n                            unsubscribe();\n                        }\n                    };\n                }\n            }\n        });\n        return audioWorkletNode;\n    };\n};\n//# sourceMappingURL=recorder-audio-worklet-node-factory.js.map","export const validateState = (expectedStates, currentState) => {\n    if (!expectedStates.includes(currentState)) {\n        throw new Error(`Expected the state to be ${expectedStates\n            .map((expectedState) => `\"${expectedState}\"`)\n            .join(' or ')} but it was \"${currentState}\".`);\n    }\n};\n//# sourceMappingURL=validate-state.js.map","// This is the minified and stringified code of the recorder-audio-worklet-processor package.\nexport const worklet = `(()=>{\"use strict\";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._state=\"inactive\",this.port.onmessage=e=>{let{data:t}=e;\"pause\"===t.method?\"active\"===this._state||\"recording\"===this._state?(this._state=\"paused\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"record\"===t.method?\"inactive\"===this._state?(this._encoderPort=t.params.encoderPort,this._state=\"active\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"resume\"===t.method?\"paused\"===this._state?(this._state=\"active\",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):\"stop\"===t.method?\"active\"!==this._state&&\"paused\"!==this._state&&\"recording\"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):\"number\"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:\"The requested method is not supported.\"},id:t.id})}}process(e){let[t]=e;if(\"inactive\"===this._state||\"paused\"===this._state)return!0;if(\"active\"===this._state){if(void 0===t)throw new Error(\"No channelData was received for the first input.\");if(0===t.length)return!0;this._state=\"recording\"}if(\"recording\"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error(\"No channelData was received for the first input.\");if(0!==t.length)return this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),!0;this._stop(this._encoderPort)}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:\"The internal state does not allow to process the given message.\"},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state=\"stopped\"}}e.parameterDescriptors=[],registerProcessor(\"recorder-audio-worklet-processor\",e)})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worklet.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { on } from 'subscribable-things';\nimport { isSupported } from 'worker-factory';\nimport { createAddRecorderAudioWorkletModule } from './factories/add-recorder-audio-worklet-module';\nimport { createListener } from './factories/listener';\nimport { createPostMessageFactory } from './factories/post-message-factory';\nimport { createRecorderAudioWorkletNodeFactory } from './factories/recorder-audio-worklet-node-factory';\nimport { validateState } from './functions/validate-state';\nimport { worklet } from './worklet/worklet';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nexport const addRecorderAudioWorkletModule = createAddRecorderAudioWorkletModule(Blob, URL, worklet);\nexport const createRecorderAudioWorkletNode = createRecorderAudioWorkletNodeFactory(createListener, createPostMessageFactory(generateUniqueNumber), on, validateState);\nexport { isSupported };\n//# sourceMappingURL=module.js.map","export const createExtendedExponentialRampToValueAutomationEvent = (value, endTime, insertTime) => {\n    return { endTime, insertTime, type: 'exponentialRampToValue', value };\n};\n//# sourceMappingURL=create-extended-exponential-ramp-to-value-automation-event.js.map","export const createExtendedLinearRampToValueAutomationEvent = (value, endTime, insertTime) => {\n    return { endTime, insertTime, type: 'linearRampToValue', value };\n};\n//# sourceMappingURL=create-extended-linear-ramp-to-value-automation-event.js.map","export const createSetValueAutomationEvent = (value, startTime) => {\n    return { startTime, type: 'setValue', value };\n};\n//# sourceMappingURL=create-set-value-automation-event.js.map","export const createSetValueCurveAutomationEvent = (values, startTime, duration) => {\n    return { duration, startTime, type: 'setValueCurve', values };\n};\n//# sourceMappingURL=create-set-value-curve-automation-event.js.map","export const getTargetValueAtTime = (time, valueAtStartTime, { startTime, target, timeConstant }) => {\n    return target + (valueAtStartTime - target) * Math.exp((startTime - time) / timeConstant);\n};\n//# sourceMappingURL=get-target-value-at-time.js.map","export const isExponentialRampToValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'exponentialRampToValue';\n};\n//# sourceMappingURL=exponential-ramp-to-value-automation-event.js.map","export const isLinearRampToValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'linearRampToValue';\n};\n//# sourceMappingURL=linear-ramp-to-value-automation-event.js.map","import { isExponentialRampToValueAutomationEvent } from './exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from './linear-ramp-to-value-automation-event';\nexport const isAnyRampToValueAutomationEvent = (automationEvent) => {\n    return isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent);\n};\n//# sourceMappingURL=any-ramp-to-value-automation-event.js.map","export const isSetValueAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setValue';\n};\n//# sourceMappingURL=set-value-automation-event.js.map","export const isSetValueCurveAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setValueCurve';\n};\n//# sourceMappingURL=set-value-curve-automation-event.js.map","import { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport const getValueOfAutomationEventAtIndexAtTime = (automationEvents, index, time, defaultValue) => {\n    const automationEvent = automationEvents[index];\n    return automationEvent === undefined\n        ? defaultValue\n        : isAnyRampToValueAutomationEvent(automationEvent) || isSetValueAutomationEvent(automationEvent)\n            ? automationEvent.value\n            : isSetValueCurveAutomationEvent(automationEvent)\n                ? automationEvent.values[automationEvent.values.length - 1]\n                : getTargetValueAtTime(time, getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, automationEvent.startTime, defaultValue), automationEvent);\n};\n//# sourceMappingURL=get-value-of-automation-event-at-index-at-time.js.map","import { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport const getEndTimeAndValueOfPreviousAutomationEvent = (automationEvents, index, currentAutomationEvent, nextAutomationEvent, defaultValue) => {\n    return currentAutomationEvent === undefined\n        ? [nextAutomationEvent.insertTime, defaultValue]\n        : isAnyRampToValueAutomationEvent(currentAutomationEvent)\n            ? [currentAutomationEvent.endTime, currentAutomationEvent.value]\n            : isSetValueAutomationEvent(currentAutomationEvent)\n                ? [currentAutomationEvent.startTime, currentAutomationEvent.value]\n                : isSetValueCurveAutomationEvent(currentAutomationEvent)\n                    ? [\n                        currentAutomationEvent.startTime + currentAutomationEvent.duration,\n                        currentAutomationEvent.values[currentAutomationEvent.values.length - 1]\n                    ]\n                    : [\n                        currentAutomationEvent.startTime,\n                        getValueOfAutomationEventAtIndexAtTime(automationEvents, index - 1, currentAutomationEvent.startTime, defaultValue)\n                    ];\n};\n//# sourceMappingURL=get-end-time-and-value-of-previous-automation-event.js.map","export const isCancelAndHoldAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'cancelAndHold';\n};\n//# sourceMappingURL=cancel-and-hold-automation-event.js.map","export const isCancelScheduledValuesAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'cancelScheduledValues';\n};\n//# sourceMappingURL=cancel-scheduled-values-automation-event.js.map","import { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nexport const getEventTime = (automationEvent) => {\n    if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n        return automationEvent.cancelTime;\n    }\n    if (isExponentialRampToValueAutomationEvent(automationEvent) || isLinearRampToValueAutomationEvent(automationEvent)) {\n        return automationEvent.endTime;\n    }\n    return automationEvent.startTime;\n};\n//# sourceMappingURL=get-event-time.js.map","export const getExponentialRampValueAtTime = (time, startTime, valueAtStartTime, { endTime, value }) => {\n    if (valueAtStartTime === value) {\n        return value;\n    }\n    if ((0 < valueAtStartTime && 0 < value) || (valueAtStartTime < 0 && value < 0)) {\n        return valueAtStartTime * (value / valueAtStartTime) ** ((time - startTime) / (endTime - startTime));\n    }\n    return 0;\n};\n//# sourceMappingURL=get-exponential-ramp-value-at-time.js.map","export const getLinearRampValueAtTime = (time, startTime, valueAtStartTime, { endTime, value }) => {\n    return valueAtStartTime + ((time - startTime) / (endTime - startTime)) * (value - valueAtStartTime);\n};\n//# sourceMappingURL=get-linear-ramp-value-at-time.js.map","export const interpolateValue = (values, theoreticIndex) => {\n    const lowerIndex = Math.floor(theoreticIndex);\n    const upperIndex = Math.ceil(theoreticIndex);\n    if (lowerIndex === upperIndex) {\n        return values[lowerIndex];\n    }\n    return (1 - (theoreticIndex - lowerIndex)) * values[lowerIndex] + (1 - (upperIndex - theoreticIndex)) * values[upperIndex];\n};\n//# sourceMappingURL=interpolate-value.js.map","import { interpolateValue } from './interpolate-value';\nexport const getValueCurveValueAtTime = (time, { duration, startTime, values }) => {\n    const theoreticIndex = ((time - startTime) / duration) * (values.length - 1);\n    return interpolateValue(values, theoreticIndex);\n};\n//# sourceMappingURL=get-value-curve-value-at-time.js.map","export const isSetTargetAutomationEvent = (automationEvent) => {\n    return automationEvent.type === 'setTarget';\n};\n//# sourceMappingURL=set-target-automation-event.js.map","import { createExtendedExponentialRampToValueAutomationEvent } from '../functions/create-extended-exponential-ramp-to-value-automation-event';\nimport { createExtendedLinearRampToValueAutomationEvent } from '../functions/create-extended-linear-ramp-to-value-automation-event';\nimport { createSetValueAutomationEvent } from '../functions/create-set-value-automation-event';\nimport { createSetValueCurveAutomationEvent } from '../functions/create-set-value-curve-automation-event';\nimport { getEndTimeAndValueOfPreviousAutomationEvent } from '../functions/get-end-time-and-value-of-previous-automation-event';\nimport { getEventTime } from '../functions/get-event-time';\nimport { getExponentialRampValueAtTime } from '../functions/get-exponential-ramp-value-at-time';\nimport { getLinearRampValueAtTime } from '../functions/get-linear-ramp-value-at-time';\nimport { getTargetValueAtTime } from '../functions/get-target-value-at-time';\nimport { getValueCurveValueAtTime } from '../functions/get-value-curve-value-at-time';\nimport { getValueOfAutomationEventAtIndexAtTime } from '../functions/get-value-of-automation-event-at-index-at-time';\nimport { isAnyRampToValueAutomationEvent } from '../guards/any-ramp-to-value-automation-event';\nimport { isCancelAndHoldAutomationEvent } from '../guards/cancel-and-hold-automation-event';\nimport { isCancelScheduledValuesAutomationEvent } from '../guards/cancel-scheduled-values-automation-event';\nimport { isExponentialRampToValueAutomationEvent } from '../guards/exponential-ramp-to-value-automation-event';\nimport { isLinearRampToValueAutomationEvent } from '../guards/linear-ramp-to-value-automation-event';\nimport { isSetTargetAutomationEvent } from '../guards/set-target-automation-event';\nimport { isSetValueAutomationEvent } from '../guards/set-value-automation-event';\nimport { isSetValueCurveAutomationEvent } from '../guards/set-value-curve-automation-event';\nexport class AutomationEventList {\n    constructor(defaultValue) {\n        this._automationEvents = [];\n        this._currenTime = 0;\n        this._defaultValue = defaultValue;\n    }\n    [Symbol.iterator]() {\n        return this._automationEvents[Symbol.iterator]();\n    }\n    add(automationEvent) {\n        const eventTime = getEventTime(automationEvent);\n        if (isCancelAndHoldAutomationEvent(automationEvent) || isCancelScheduledValuesAutomationEvent(automationEvent)) {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => {\n                if (isCancelScheduledValuesAutomationEvent(automationEvent) && isSetValueCurveAutomationEvent(currentAutomationEvent)) {\n                    return currentAutomationEvent.startTime + currentAutomationEvent.duration >= eventTime;\n                }\n                return getEventTime(currentAutomationEvent) >= eventTime;\n            });\n            const removedAutomationEvent = this._automationEvents[index];\n            if (index !== -1) {\n                this._automationEvents = this._automationEvents.slice(0, index);\n            }\n            if (isCancelAndHoldAutomationEvent(automationEvent)) {\n                const lastAutomationEvent = this._automationEvents[this._automationEvents.length - 1];\n                if (removedAutomationEvent !== undefined && isAnyRampToValueAutomationEvent(removedAutomationEvent)) {\n                    if (isSetTargetAutomationEvent(lastAutomationEvent)) {\n                        throw new Error('The internal list is malformed.');\n                    }\n                    const startTime = isSetValueCurveAutomationEvent(lastAutomationEvent)\n                        ? lastAutomationEvent.startTime + lastAutomationEvent.duration\n                        : getEventTime(lastAutomationEvent);\n                    const startValue = isSetValueCurveAutomationEvent(lastAutomationEvent)\n                        ? lastAutomationEvent.values[lastAutomationEvent.values.length - 1]\n                        : lastAutomationEvent.value;\n                    const value = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? getExponentialRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent)\n                        : getLinearRampValueAtTime(eventTime, startTime, startValue, removedAutomationEvent);\n                    const truncatedAutomationEvent = isExponentialRampToValueAutomationEvent(removedAutomationEvent)\n                        ? createExtendedExponentialRampToValueAutomationEvent(value, eventTime, this._currenTime)\n                        : createExtendedLinearRampToValueAutomationEvent(value, eventTime, this._currenTime);\n                    this._automationEvents.push(truncatedAutomationEvent);\n                }\n                if (lastAutomationEvent !== undefined && isSetTargetAutomationEvent(lastAutomationEvent)) {\n                    this._automationEvents.push(createSetValueAutomationEvent(this.getValue(eventTime), eventTime));\n                }\n                if (lastAutomationEvent !== undefined &&\n                    isSetValueCurveAutomationEvent(lastAutomationEvent) &&\n                    lastAutomationEvent.startTime + lastAutomationEvent.duration > eventTime) {\n                    this._automationEvents[this._automationEvents.length - 1] = createSetValueCurveAutomationEvent(new Float32Array([6, 7]), lastAutomationEvent.startTime, eventTime - lastAutomationEvent.startTime);\n                }\n            }\n        }\n        else {\n            const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > eventTime);\n            const previousAutomationEvent = index === -1 ? this._automationEvents[this._automationEvents.length - 1] : this._automationEvents[index - 1];\n            if (previousAutomationEvent !== undefined &&\n                isSetValueCurveAutomationEvent(previousAutomationEvent) &&\n                getEventTime(previousAutomationEvent) + previousAutomationEvent.duration > eventTime) {\n                return false;\n            }\n            const persistentAutomationEvent = isExponentialRampToValueAutomationEvent(automationEvent)\n                ? createExtendedExponentialRampToValueAutomationEvent(automationEvent.value, automationEvent.endTime, this._currenTime)\n                : isLinearRampToValueAutomationEvent(automationEvent)\n                    ? createExtendedLinearRampToValueAutomationEvent(automationEvent.value, eventTime, this._currenTime)\n                    : automationEvent;\n            if (index === -1) {\n                this._automationEvents.push(persistentAutomationEvent);\n            }\n            else {\n                if (isSetValueCurveAutomationEvent(automationEvent) &&\n                    eventTime + automationEvent.duration > getEventTime(this._automationEvents[index])) {\n                    return false;\n                }\n                this._automationEvents.splice(index, 0, persistentAutomationEvent);\n            }\n        }\n        return true;\n    }\n    flush(time) {\n        const index = this._automationEvents.findIndex((currentAutomationEvent) => getEventTime(currentAutomationEvent) > time);\n        if (index > 1) {\n            const remainingAutomationEvents = this._automationEvents.slice(index - 1);\n            const firstRemainingAutomationEvent = remainingAutomationEvents[0];\n            if (isSetTargetAutomationEvent(firstRemainingAutomationEvent)) {\n                remainingAutomationEvents.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents, index - 2, firstRemainingAutomationEvent.startTime, this._defaultValue), firstRemainingAutomationEvent.startTime));\n            }\n            this._automationEvents = remainingAutomationEvents;\n        }\n    }\n    getValue(time) {\n        if (this._automationEvents.length === 0) {\n            return this._defaultValue;\n        }\n        const indexOfNextEvent = this._automationEvents.findIndex((automationEvent) => getEventTime(automationEvent) > time);\n        const nextAutomationEvent = this._automationEvents[indexOfNextEvent];\n        const indexOfCurrentEvent = (indexOfNextEvent === -1 ? this._automationEvents.length : indexOfNextEvent) - 1;\n        const currentAutomationEvent = this._automationEvents[indexOfCurrentEvent];\n        if (currentAutomationEvent !== undefined &&\n            isSetTargetAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                nextAutomationEvent.insertTime > time)) {\n            return getTargetValueAtTime(time, getValueOfAutomationEventAtIndexAtTime(this._automationEvents, indexOfCurrentEvent - 1, currentAutomationEvent.startTime, this._defaultValue), currentAutomationEvent);\n        }\n        if (currentAutomationEvent !== undefined &&\n            isSetValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n        }\n        if (currentAutomationEvent !== undefined &&\n            isSetValueCurveAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined ||\n                !isAnyRampToValueAutomationEvent(nextAutomationEvent) ||\n                currentAutomationEvent.startTime + currentAutomationEvent.duration > time)) {\n            if (time < currentAutomationEvent.startTime + currentAutomationEvent.duration) {\n                return getValueCurveValueAtTime(time, currentAutomationEvent);\n            }\n            return currentAutomationEvent.values[currentAutomationEvent.values.length - 1];\n        }\n        if (currentAutomationEvent !== undefined &&\n            isAnyRampToValueAutomationEvent(currentAutomationEvent) &&\n            (nextAutomationEvent === undefined || !isAnyRampToValueAutomationEvent(nextAutomationEvent))) {\n            return currentAutomationEvent.value;\n        }\n        if (nextAutomationEvent !== undefined && isExponentialRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue);\n            return getExponentialRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n        if (nextAutomationEvent !== undefined && isLinearRampToValueAutomationEvent(nextAutomationEvent)) {\n            const [startTime, value] = getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents, indexOfCurrentEvent, currentAutomationEvent, nextAutomationEvent, this._defaultValue);\n            return getLinearRampValueAtTime(time, startTime, value, nextAutomationEvent);\n        }\n        return this._defaultValue;\n    }\n}\n//# sourceMappingURL=automation-event-list.js.map","export const createCancelAndHoldAutomationEvent = (cancelTime) => {\n    return { cancelTime, type: 'cancelAndHold' };\n};\n//# sourceMappingURL=create-cancel-and-hold-automation-event.js.map","export const createCancelScheduledValuesAutomationEvent = (cancelTime) => {\n    return { cancelTime, type: 'cancelScheduledValues' };\n};\n//# sourceMappingURL=create-cancel-scheduled-values-automation-event.js.map","export const createExponentialRampToValueAutomationEvent = (value, endTime) => {\n    return { endTime, type: 'exponentialRampToValue', value };\n};\n//# sourceMappingURL=create-exponential-ramp-to-value-automation-event.js.map","export const createLinearRampToValueAutomationEvent = (value, endTime) => {\n    return { endTime, type: 'linearRampToValue', value };\n};\n//# sourceMappingURL=create-linear-ramp-to-value-automation-event.js.map","export const createSetTargetAutomationEvent = (target, startTime, timeConstant) => {\n    return { startTime, target, timeConstant, type: 'setTarget' };\n};\n//# sourceMappingURL=create-set-target-automation-event.js.map","export const createAbortError = () => new DOMException('', 'AbortError');\n//# sourceMappingURL=abort-error.js.map","export const createAddActiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (activeInputs, source, [output, input, eventListener], ignoreDuplicates) => {\n        insertElementInSet(activeInputs[input], [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n    };\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-node.js.map","export const createAddAudioNodeConnections = (audioNodeConnectionsStore) => {\n    return (audioNode, audioNodeRenderer, nativeAudioNode) => {\n        const activeInputs = [];\n        for (let i = 0; i < nativeAudioNode.numberOfInputs; i += 1) {\n            activeInputs.push(new Set());\n        }\n        audioNodeConnectionsStore.set(audioNode, {\n            activeInputs,\n            outputs: new Set(),\n            passiveInputs: new WeakMap(),\n            renderer: audioNodeRenderer\n        });\n    };\n};\n//# sourceMappingURL=add-audio-node-connections.js.map","export const createAddAudioParamConnections = (audioParamConnectionsStore) => {\n    return (audioParam, audioParamRenderer) => {\n        audioParamConnectionsStore.set(audioParam, { activeInputs: new Set(), passiveInputs: new WeakMap(), renderer: audioParamRenderer });\n    };\n};\n//# sourceMappingURL=add-audio-param-connections.js.map","export const ACTIVE_AUDIO_NODE_STORE = new WeakSet();\nexport const AUDIO_NODE_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_NODE_STORE = new WeakMap();\nexport const AUDIO_PARAM_CONNECTIONS_STORE = new WeakMap();\nexport const AUDIO_PARAM_STORE = new WeakMap();\nexport const CONTEXT_STORE = new WeakMap();\nexport const EVENT_LISTENERS = new WeakMap();\nexport const CYCLE_COUNTERS = new WeakMap();\n// This clunky name is borrowed from the spec. :-)\nexport const NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS = new WeakMap();\nexport const NODE_TO_PROCESSOR_MAPS = new WeakMap();\n//# sourceMappingURL=globals.js.map","const handler = {\n    construct() {\n        return handler;\n    }\n};\nexport const isConstructible = (constructible) => {\n    try {\n        const proxy = new Proxy(constructible, handler);\n        new proxy(); // tslint:disable-line:no-unused-expression\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=is-constructible.js.map","/*\n * This massive regex tries to cover all the following cases.\n *\n * import './path';\n * import defaultImport from './path';\n * import { namedImport } from './path';\n * import { namedImport as renamendImport } from './path';\n * import * as namespaceImport from './path';\n * import defaultImport, { namedImport } from './path';\n * import defaultImport, { namedImport as renamendImport } from './path';\n * import defaultImport, * as namespaceImport from './path';\n */\nconst IMPORT_STATEMENT_REGEX = /^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/; // tslint:disable-line:max-line-length\nexport const splitImportStatements = (source, url) => {\n    const importStatements = [];\n    let sourceWithoutImportStatements = source.replace(/^[\\s]+/, '');\n    let result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    while (result !== null) {\n        const unresolvedUrl = result[1].slice(1, -1);\n        const importStatementWithResolvedUrl = result[0]\n            .replace(/([\\s]+)?;?$/, '')\n            .replace(unresolvedUrl, new URL(unresolvedUrl, url).toString());\n        importStatements.push(importStatementWithResolvedUrl);\n        sourceWithoutImportStatements = sourceWithoutImportStatements.slice(result[0].length).replace(/^[\\s]+/, '');\n        result = sourceWithoutImportStatements.match(IMPORT_STATEMENT_REGEX);\n    }\n    return [importStatements.join(';'), sourceWithoutImportStatements];\n};\n//# sourceMappingURL=split-import-statements.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { isConstructible } from '../helpers/is-constructible';\nimport { splitImportStatements } from '../helpers/split-import-statements';\nconst verifyParameterDescriptors = (parameterDescriptors) => {\n    if (parameterDescriptors !== undefined && !Array.isArray(parameterDescriptors)) {\n        throw new TypeError('The parameterDescriptors property of given value for processorCtor is not an array.');\n    }\n};\nconst verifyProcessorCtor = (processorCtor) => {\n    if (!isConstructible(processorCtor)) {\n        throw new TypeError('The given value for processorCtor should be a constructor.');\n    }\n    if (processorCtor.prototype === null || typeof processorCtor.prototype !== 'object') {\n        throw new TypeError('The given value for processorCtor should have a prototype.');\n    }\n};\nexport const createAddAudioWorkletModule = (cacheTestResult, createNotSupportedError, evaluateSource, exposeCurrentFrameAndCurrentTime, fetchSource, getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, ongoingRequests, resolvedRequests, testAudioWorkletProcessorPostMessageSupport, window) => {\n    let index = 0;\n    return (context, moduleURL, options = { credentials: 'omit' }) => {\n        const resolvedRequestsOfContext = resolvedRequests.get(context);\n        if (resolvedRequestsOfContext !== undefined && resolvedRequestsOfContext.has(moduleURL)) {\n            return Promise.resolve();\n        }\n        const ongoingRequestsOfContext = ongoingRequests.get(context);\n        if (ongoingRequestsOfContext !== undefined) {\n            const promiseOfOngoingRequest = ongoingRequestsOfContext.get(moduleURL);\n            if (promiseOfOngoingRequest !== undefined) {\n                return promiseOfOngoingRequest;\n            }\n        }\n        const nativeContext = getNativeContext(context);\n        // Bug #59: Safari does not implement the audioWorklet property.\n        const promise = nativeContext.audioWorklet === undefined\n            ? fetchSource(moduleURL)\n                .then(([source, absoluteUrl]) => {\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * ${ importStatements };\n                 * ((a, b) => {\n                 *     (a[b] = a[b] || [ ]).push(\n                 *         (AudioWorkletProcessor, global, registerProcessor, sampleRate, self, window) => {\n                 *             ${ sourceWithoutImportStatements }\n                 *         }\n                 *     );\n                 * })(window, '_AWGS');\n                 * ```\n                 */\n                // tslint:disable-next-line:max-line-length\n                const wrappedSource = `${importStatements};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${sourceWithoutImportStatements}\n})})(window,'_AWGS')`;\n                // @todo Evaluating the given source code is a possible security problem.\n                return evaluateSource(wrappedSource);\n            })\n                .then(() => {\n                const evaluateAudioWorkletGlobalScope = window._AWGS.pop();\n                if (evaluateAudioWorkletGlobalScope === undefined) {\n                    // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                    throw new SyntaxError();\n                }\n                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => evaluateAudioWorkletGlobalScope(class AudioWorkletProcessor {\n                }, undefined, (name, processorCtor) => {\n                    if (name.trim() === '') {\n                        throw createNotSupportedError();\n                    }\n                    const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n                    if (nodeNameToProcessorConstructorMap !== undefined) {\n                        if (nodeNameToProcessorConstructorMap.has(name)) {\n                            throw createNotSupportedError();\n                        }\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        nodeNameToProcessorConstructorMap.set(name, processorCtor);\n                    }\n                    else {\n                        verifyProcessorCtor(processorCtor);\n                        verifyParameterDescriptors(processorCtor.parameterDescriptors);\n                        NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(nativeContext, new Map([[name, processorCtor]]));\n                    }\n                }, nativeContext.sampleRate, undefined, undefined));\n            })\n            : Promise.all([\n                fetchSource(moduleURL),\n                Promise.resolve(cacheTestResult(testAudioWorkletProcessorPostMessageSupport, testAudioWorkletProcessorPostMessageSupport))\n            ]).then(([[source, absoluteUrl], isSupportingPostMessage]) => {\n                const currentIndex = index + 1;\n                index = currentIndex;\n                const [importStatements, sourceWithoutImportStatements] = splitImportStatements(source, absoluteUrl);\n                /*\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * This is the unminified version of the code used below.\n                 *\n                 * ```js\n                 * class extends AudioWorkletProcessor {\n                 *\n                 *     __buffers = new WeakSet();\n                 *\n                 *     constructor () {\n                 *         super();\n                 *\n                 *         this.port.postMessage = ((postMessage) => {\n                 *             return (message, transferables) => {\n                 *                 const filteredTransferables = (transferables)\n                 *                     ? transferables.filter((transferable) => !this.__buffers.has(transferable))\n                 *                     : transferables;\n                 *\n                 *                 return postMessage.call(this.port, message, filteredTransferables);\n                 *              };\n                 *         })(this.port.postMessage);\n                 *     }\n                 * }\n                 * ```\n                 */\n                const patchedAudioWorkletProcessor = isSupportingPostMessage\n                    ? 'AudioWorkletProcessor'\n                    : 'class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}';\n                /*\n                 * Bug #170: Chrome and Edge do call process() with an array with empty channelData for each input if no input is connected.\n                 *\n                 * Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\n                 *\n                 * Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                 *\n                 * This is the unminified version of the code used below:\n                 *\n                 * ```js\n                 * `${ importStatements };\n                 * ((AudioWorkletProcessor, registerProcessor) => {${ sourceWithoutImportStatements }\n                 * })(\n                 *     ${ patchedAudioWorkletProcessor },\n                 *     (name, processorCtor) => registerProcessor(name, class extends processorCtor {\n                 *\n                 *         __collectBuffers = (array) => {\n                 *             array.forEach((element) => this.__buffers.add(element.buffer));\n                 *         };\n                 *\n                 *         process (inputs, outputs, parameters) {\n                 *             inputs.forEach(this.__collectBuffers);\n                 *             outputs.forEach(this.__collectBuffers);\n                 *             this.__collectBuffers(Object.values(parameters));\n                 *\n                 *             return super.process(\n                 *                 (inputs.map((input) => input.some((channelData) => channelData.length === 0)) ? [ ] : input),\n                 *                 outputs,\n                 *                 parameters\n                 *             );\n                 *         }\n                 *\n                 *     })\n                 * );\n                 *\n                 * registerProcessor(`__sac${currentIndex}`, class extends AudioWorkletProcessor{\n                 *\n                 *     process () {\n                 *         return false;\n                 *     }\n                 *\n                 * })`\n                 * ```\n                 */\n                const memberDefinition = isSupportingPostMessage ? '' : '__c = (a) => a.forEach(e=>this.__b.add(e.buffer));';\n                const bufferRegistration = isSupportingPostMessage\n                    ? ''\n                    : 'i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));';\n                const wrappedSource = `${importStatements};((AudioWorkletProcessor,registerProcessor)=>{${sourceWithoutImportStatements}\n})(${patchedAudioWorkletProcessor},(n,p)=>registerProcessor(n,class extends p{${memberDefinition}process(i,o,p){${bufferRegistration}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${currentIndex}',class extends AudioWorkletProcessor{process(){return !1}})`;\n                const blob = new Blob([wrappedSource], { type: 'application/javascript; charset=utf-8' });\n                const url = URL.createObjectURL(blob);\n                return nativeContext.audioWorklet\n                    .addModule(url, options)\n                    .then(() => {\n                    if (isNativeOfflineAudioContext(nativeContext)) {\n                        return nativeContext;\n                    }\n                    // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n                    const backupOfflineAudioContext = getOrCreateBackupOfflineAudioContext(nativeContext);\n                    return backupOfflineAudioContext.audioWorklet.addModule(url, options).then(() => backupOfflineAudioContext);\n                })\n                    .then((nativeContextOrBackupOfflineAudioContext) => {\n                    if (nativeAudioWorkletNodeConstructor === null) {\n                        throw new SyntaxError();\n                    }\n                    try {\n                        // Bug #190: Safari doesn't throw an error when loading an unparsable module.\n                        new nativeAudioWorkletNodeConstructor(nativeContextOrBackupOfflineAudioContext, `__sac${currentIndex}`); // tslint:disable-line:no-unused-expression\n                    }\n                    catch {\n                        throw new SyntaxError();\n                    }\n                })\n                    .finally(() => URL.revokeObjectURL(url));\n            });\n        if (ongoingRequestsOfContext === undefined) {\n            ongoingRequests.set(context, new Map([[moduleURL, promise]]));\n        }\n        else {\n            ongoingRequestsOfContext.set(moduleURL, promise);\n        }\n        promise\n            .then(() => {\n            const updatedResolvedRequestsOfContext = resolvedRequests.get(context);\n            if (updatedResolvedRequestsOfContext === undefined) {\n                resolvedRequests.set(context, new Set([moduleURL]));\n            }\n            else {\n                updatedResolvedRequestsOfContext.add(moduleURL);\n            }\n        })\n            .finally(() => {\n            const updatedOngoingRequestsOfContext = ongoingRequests.get(context);\n            if (updatedOngoingRequestsOfContext !== undefined) {\n                updatedOngoingRequestsOfContext.delete(moduleURL);\n            }\n        });\n        return promise;\n    };\n};\n//# sourceMappingURL=add-audio-worklet-module.js.map","export const getValueForKey = (map, key) => {\n    const value = map.get(key);\n    if (value === undefined) {\n        throw new Error('A value with the given key could not be found.');\n    }\n    return value;\n};\n//# sourceMappingURL=get-value-for-key.js.map","export const pickElementFromSet = (set, predicate) => {\n    const matchingElements = Array.from(set).filter(predicate);\n    if (matchingElements.length > 1) {\n        throw Error('More than one element was found.');\n    }\n    if (matchingElements.length === 0) {\n        throw Error('No element was found.');\n    }\n    const [matchingElement] = matchingElements;\n    set.delete(matchingElement);\n    return matchingElement;\n};\n//# sourceMappingURL=pick-element-from-set.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioNode = (passiveInputs, source, output, input) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-node.js.map","import { EVENT_LISTENERS } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getEventListenersOfAudioNode = (audioNode) => {\n    return getValueForKey(EVENT_LISTENERS, audioNode);\n};\n//# sourceMappingURL=get-event-listeners-of-audio-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToActive = (audioNode) => {\n    if (ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is already stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.add(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(true));\n};\n//# sourceMappingURL=set-internal-state-to-active.js.map","export const isAudioWorkletNode = (audioNode) => {\n    return 'port' in audioNode;\n};\n//# sourceMappingURL=audio-worklet-node.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nimport { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const setInternalStateToPassive = (audioNode) => {\n    if (!ACTIVE_AUDIO_NODE_STORE.has(audioNode)) {\n        throw new Error('The AudioNode is not stored.');\n    }\n    ACTIVE_AUDIO_NODE_STORE.delete(audioNode);\n    getEventListenersOfAudioNode(audioNode).forEach((eventListener) => eventListener(false));\n};\n//# sourceMappingURL=set-internal-state-to-passive.js.map","import { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\n// Set the internalState of the audioNode to 'passive' if it is not an AudioWorkletNode and if it has no 'active' input connections.\nexport const setInternalStateToPassiveWhenNecessary = (audioNode, activeInputs) => {\n    if (!isAudioWorkletNode(audioNode) && activeInputs.every((connections) => connections.size === 0)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=set-internal-state-to-passive-when-necessary.js.map","import { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nexport const createAddConnectionToAudioNode = (addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode) => {\n    const tailTimeTimeoutIds = new WeakMap();\n    return (source, destination, output, input, isOffline) => {\n        const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n        const { outputs } = getAudioNodeConnections(source);\n        const eventListeners = getEventListenersOfAudioNode(source);\n        const eventListener = (isActive) => {\n            const nativeDestinationAudioNode = getNativeAudioNode(destination);\n            const nativeSourceAudioNode = getNativeAudioNode(source);\n            if (isActive) {\n                const partialConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n                addActiveInputConnectionToAudioNode(activeInputs, source, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                if (isPassiveAudioNode(destination)) {\n                    setInternalStateToActive(destination);\n                }\n            }\n            else {\n                const partialConnection = deleteActiveInputConnectionToAudioNode(activeInputs, source, output, input);\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, partialConnection, false);\n                if (!isOffline && !isPartOfACycle(source)) {\n                    disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output, input);\n                }\n                const tailTime = getAudioNodeTailTime(destination);\n                if (tailTime === 0) {\n                    if (isActiveAudioNode(destination)) {\n                        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                    }\n                }\n                else {\n                    const tailTimeTimeoutId = tailTimeTimeoutIds.get(destination);\n                    if (tailTimeTimeoutId !== undefined) {\n                        clearTimeout(tailTimeTimeoutId);\n                    }\n                    tailTimeTimeoutIds.set(destination, setTimeout(() => {\n                        if (isActiveAudioNode(destination)) {\n                            setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n                        }\n                    }, tailTime * 1000));\n                }\n            }\n        };\n        if (insertElementInSet(outputs, [destination, output, input], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output && outputConnection[2] === input, true)) {\n            eventListeners.add(eventListener);\n            if (isActiveAudioNode(source)) {\n                addActiveInputConnectionToAudioNode(activeInputs, source, [output, input, eventListener], true);\n            }\n            else {\n                addPassiveInputConnectionToAudioNode(passiveInputs, input, [source, output, eventListener], true);\n            }\n            return true;\n        }\n        return false;\n    };\n};\n//# sourceMappingURL=add-connection-to-audio-node.js.map","export const createAddPassiveInputConnectionToAudioNode = (insertElementInSet) => {\n    return (passiveInputs, input, [source, output, eventListener], ignoreDuplicates) => {\n        const passiveInputConnections = passiveInputs.get(source);\n        if (passiveInputConnections === undefined) {\n            passiveInputs.set(source, new Set([[output, input, eventListener]]));\n        }\n        else {\n            insertElementInSet(passiveInputConnections, [output, input, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output && passiveInputConnection[1] === input, ignoreDuplicates);\n        }\n    };\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-node.js.map","export const createAddSilentConnection = (createNativeGainNode) => {\n    return (nativeContext, nativeAudioScheduledSourceNode) => {\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        nativeAudioScheduledSourceNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnect = () => {\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnect);\n            nativeAudioScheduledSourceNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        nativeAudioScheduledSourceNode.addEventListener('ended', disconnect);\n    };\n};\n//# sourceMappingURL=add-silent-connection.js.map","export const createAddUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).add(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=add-unrendered-audio-worklet-node.js.map","export const isOwnedByContext = (nativeAudioNode, nativeContext) => {\n    return nativeAudioNode.context === nativeContext;\n};\n//# sourceMappingURL=is-owned-by-context.js.map","export const testAudioBufferCopyChannelMethodsOutOfBoundsSupport = (nativeAudioBuffer) => {\n    try {\n        nativeAudioBuffer.copyToChannel(new Float32Array(1), 0, -1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-copy-channel-methods-out-of-bounds-support.js.map","export const createIndexSizeError = () => new DOMException('', 'IndexSizeError');\n//# sourceMappingURL=index-size-error.js.map","import { createIndexSizeError } from '../factories/index-size-error';\nexport const wrapAudioBufferGetChannelDataMethod = (audioBuffer) => {\n    audioBuffer.getChannelData = ((getChannelData) => {\n        return (channel) => {\n            try {\n                return getChannelData.call(audioBuffer, channel);\n            }\n            catch (err) {\n                if (err.code === 12) {\n                    throw createIndexSizeError();\n                }\n                throw err;\n            }\n        };\n    })(audioBuffer.getChannelData);\n};\n//# sourceMappingURL=wrap-audio-buffer-get-channel-data-method.js.map","import { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from '../helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { wrapAudioBufferGetChannelDataMethod } from '../helpers/wrap-audio-buffer-get-channel-data-method';\nconst DEFAULT_OPTIONS = {\n    numberOfChannels: 1\n};\nexport const createAudioBufferConstructor = (audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, testNativeAudioBufferConstructorSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds) => {\n    let nativeOfflineAudioContext = null;\n    return class AudioBuffer {\n        constructor(options) {\n            if (nativeOfflineAudioContextConstructor === null) {\n                throw new Error('Missing the native OfflineAudioContext constructor.');\n            }\n            const { length, numberOfChannels, sampleRate } = { ...DEFAULT_OPTIONS, ...options };\n            if (nativeOfflineAudioContext === null) {\n                nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n            }\n            /*\n             * Bug #99: Firefox does not throw a NotSupportedError when the numberOfChannels is zero. But it only does it when using the\n             * factory function. But since Firefox also supports the constructor everything should be fine.\n             */\n            const audioBuffer = nativeAudioBufferConstructor !== null &&\n                cacheTestResult(testNativeAudioBufferConstructorSupport, testNativeAudioBufferConstructorSupport)\n                ? new nativeAudioBufferConstructor({ length, numberOfChannels, sampleRate })\n                : nativeOfflineAudioContext.createBuffer(numberOfChannels, length, sampleRate);\n            // Bug #99: Safari does not throw an error when the numberOfChannels is zero.\n            if (audioBuffer.numberOfChannels === 0) {\n                throw createNotSupportedError();\n            }\n            // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n            // Bug #100: Safari does throw a wrong error when calling getChannelData() with an out-of-bounds value.\n            if (typeof audioBuffer.copyFromChannel !== 'function') {\n                wrapAudioBufferCopyChannelMethods(audioBuffer);\n                wrapAudioBufferGetChannelDataMethod(audioBuffer);\n                // Bug #157: Firefox does not allow the bufferOffset to be out-of-bounds.\n            }\n            else if (!cacheTestResult(testAudioBufferCopyChannelMethodsOutOfBoundsSupport, () => testAudioBufferCopyChannelMethodsOutOfBoundsSupport(audioBuffer))) {\n                wrapAudioBufferCopyChannelMethodsOutOfBounds(audioBuffer);\n            }\n            audioBufferStore.add(audioBuffer);\n            /*\n             * This does violate all good pratices but it is necessary to allow this AudioBuffer to be used with native\n             * (Offline)AudioContexts.\n             */\n            return audioBuffer;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === AudioBuffer.prototype) ||\n                audioBufferStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-constructor.js.map","export const MOST_NEGATIVE_SINGLE_FLOAT = -3.4028234663852886e38;\nexport const MOST_POSITIVE_SINGLE_FLOAT = -MOST_NEGATIVE_SINGLE_FLOAT;\n//# sourceMappingURL=constants.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isActiveAudioNode = (audioNode) => ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n//# sourceMappingURL=is-active-audio-node.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    buffer: null,\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    // Bug #149: Safari does not yet support the detune AudioParam.\n    loop: false,\n    loopEnd: 0,\n    loopStart: 0,\n    playbackRate: 1\n};\nexport const createAudioBufferSourceNodeConstructor = (audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class AudioBufferSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const audioBufferSourceNodeRenderer = ((isOffline ? createAudioBufferSourceNodeRenderer() : null));\n            super(context, false, nativeAudioBufferSourceNode, audioBufferSourceNodeRenderer);\n            this._audioBufferSourceNodeRenderer = audioBufferSourceNodeRenderer;\n            this._isBufferNullified = false;\n            this._isBufferSet = mergedOptions.buffer !== null;\n            this._nativeAudioBufferSourceNode = nativeAudioBufferSourceNode;\n            this._onended = null;\n            // Bug #73: Safari does not export the correct values for maxValue and minValue.\n            this._playbackRate = createAudioParam(this, isOffline, nativeAudioBufferSourceNode.playbackRate, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n        }\n        get buffer() {\n            if (this._isBufferNullified) {\n                return null;\n            }\n            return this._nativeAudioBufferSourceNode.buffer;\n        }\n        set buffer(value) {\n            this._nativeAudioBufferSourceNode.buffer = value;\n            // Bug #72: Only Chrome & Edge do not allow to reassign the buffer yet.\n            if (value !== null) {\n                if (this._isBufferSet) {\n                    throw createInvalidStateError();\n                }\n                this._isBufferSet = true;\n            }\n        }\n        get loop() {\n            return this._nativeAudioBufferSourceNode.loop;\n        }\n        set loop(value) {\n            this._nativeAudioBufferSourceNode.loop = value;\n        }\n        get loopEnd() {\n            return this._nativeAudioBufferSourceNode.loopEnd;\n        }\n        set loopEnd(value) {\n            this._nativeAudioBufferSourceNode.loopEnd = value;\n        }\n        get loopStart() {\n            return this._nativeAudioBufferSourceNode.loopStart;\n        }\n        set loopStart(value) {\n            this._nativeAudioBufferSourceNode.loopStart = value;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioBufferSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeAudioBufferSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        get playbackRate() {\n            return this._playbackRate;\n        }\n        start(when = 0, offset = 0, duration) {\n            this._nativeAudioBufferSourceNode.start(when, offset, duration);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.start = duration === undefined ? [when, offset] : [when, offset, duration];\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeAudioBufferSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeAudioBufferSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeAudioBufferSourceNode.stop(when);\n            if (this._audioBufferSourceNodeRenderer !== null) {\n                this._audioBufferSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createAudioBufferSourceNodeRendererFactory = (connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeAudioBufferSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createAudioBufferSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioBufferSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeAudioBufferSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeAudioBufferSourceNodeIsOwnedByContext = isOwnedByContext(nativeAudioBufferSourceNode, nativeOfflineAudioContext);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                const options = {\n                    buffer: nativeAudioBufferSourceNode.buffer,\n                    channelCount: nativeAudioBufferSourceNode.channelCount,\n                    channelCountMode: nativeAudioBufferSourceNode.channelCountMode,\n                    channelInterpretation: nativeAudioBufferSourceNode.channelInterpretation,\n                    // Bug #149: Safari does not yet support the detune AudioParam.\n                    loop: nativeAudioBufferSourceNode.loop,\n                    loopEnd: nativeAudioBufferSourceNode.loopEnd,\n                    loopStart: nativeAudioBufferSourceNode.loopStart,\n                    playbackRate: nativeAudioBufferSourceNode.playbackRate.value\n                };\n                nativeAudioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeAudioBufferSourceNode.start(...start);\n                }\n                if (stop !== null) {\n                    nativeAudioBufferSourceNode.stop(stop);\n                }\n            }\n            renderedNativeAudioBufferSourceNodes.set(nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            if (!nativeAudioBufferSourceNodeIsOwnedByContext) {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await renderAutomation(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            else {\n                // Bug #149: Safari does not yet support the detune AudioParam.\n                await connectAudioParam(nativeOfflineAudioContext, proxy.playbackRate, nativeAudioBufferSourceNode.playbackRate);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioBufferSourceNode);\n            return nativeAudioBufferSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeAudioBufferSourceNode = renderedNativeAudioBufferSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioBufferSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioBufferSourceNode);\n                }\n                return createAudioBufferSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-buffer-source-node-renderer-factory.js.map","export const isAudioBufferSourceNode = (audioNode) => {\n    return 'playbackRate' in audioNode;\n};\n//# sourceMappingURL=audio-buffer-source-node.js.map","export const isBiquadFilterNode = (audioNode) => {\n    return 'frequency' in audioNode && 'gain' in audioNode;\n};\n//# sourceMappingURL=biquad-filter-node.js.map","export const isConstantSourceNode = (audioNode) => {\n    return 'offset' in audioNode;\n};\n//# sourceMappingURL=constant-source-node.js.map","export const isGainNode = (audioNode) => {\n    return !('frequency' in audioNode) && 'gain' in audioNode;\n};\n//# sourceMappingURL=gain-node.js.map","export const isOscillatorNode = (audioNode) => {\n    return 'detune' in audioNode && 'frequency' in audioNode;\n};\n//# sourceMappingURL=oscillator-node.js.map","export const isStereoPannerNode = (audioNode) => {\n    return 'pan' in audioNode;\n};\n//# sourceMappingURL=stereo-panner-node.js.map","import { AUDIO_NODE_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioNodeConnections = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_CONNECTIONS_STORE, audioNode);\n};\n//# sourceMappingURL=get-audio-node-connections.js.map","import { AUDIO_PARAM_CONNECTIONS_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioParamConnections = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE, audioParam);\n};\n//# sourceMappingURL=get-audio-param-connections.js.map","import { isAudioBufferSourceNode } from '../guards/audio-buffer-source-node';\nimport { isAudioWorkletNode } from '../guards/audio-worklet-node';\nimport { isBiquadFilterNode } from '../guards/biquad-filter-node';\nimport { isConstantSourceNode } from '../guards/constant-source-node';\nimport { isGainNode } from '../guards/gain-node';\nimport { isOscillatorNode } from '../guards/oscillator-node';\nimport { isStereoPannerNode } from '../guards/stereo-panner-node';\nimport { getAudioNodeConnections } from './get-audio-node-connections';\nimport { getAudioParamConnections } from './get-audio-param-connections';\nimport { isActiveAudioNode } from './is-active-audio-node';\nimport { setInternalStateToPassive } from './set-internal-state-to-passive';\nexport const deactivateActiveAudioNodeInputConnections = (audioNode, trace) => {\n    const { activeInputs } = getAudioNodeConnections(audioNode);\n    activeInputs.forEach((connections) => connections.forEach(([source]) => {\n        if (!trace.includes(audioNode)) {\n            deactivateActiveAudioNodeInputConnections(source, [...trace, audioNode]);\n        }\n    }));\n    const audioParams = isAudioBufferSourceNode(audioNode)\n        ? [\n            // Bug #149: Safari does not yet support the detune AudioParam.\n            audioNode.playbackRate\n        ]\n        : isAudioWorkletNode(audioNode)\n            ? Array.from(audioNode.parameters.values())\n            : isBiquadFilterNode(audioNode)\n                ? [audioNode.Q, audioNode.detune, audioNode.frequency, audioNode.gain]\n                : isConstantSourceNode(audioNode)\n                    ? [audioNode.offset]\n                    : isGainNode(audioNode)\n                        ? [audioNode.gain]\n                        : isOscillatorNode(audioNode)\n                            ? [audioNode.detune, audioNode.frequency]\n                            : isStereoPannerNode(audioNode)\n                                ? [audioNode.pan]\n                                : [];\n    for (const audioParam of audioParams) {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections !== undefined) {\n            audioParamConnections.activeInputs.forEach(([source]) => deactivateActiveAudioNodeInputConnections(source, trace));\n        }\n    }\n    if (isActiveAudioNode(audioNode)) {\n        setInternalStateToPassive(audioNode);\n    }\n};\n//# sourceMappingURL=deactivate-active-audio-node-input-connections.js.map","import { deactivateActiveAudioNodeInputConnections } from './deactivate-active-audio-node-input-connections';\nexport const deactivateAudioGraph = (context) => {\n    deactivateActiveAudioNodeInputConnections(context.destination, []);\n};\n//# sourceMappingURL=deactivate-audio-graph.js.map","export const isValidLatencyHint = (latencyHint) => {\n    return (latencyHint === undefined ||\n        typeof latencyHint === 'number' ||\n        (typeof latencyHint === 'string' && (latencyHint === 'balanced' || latencyHint === 'interactive' || latencyHint === 'playback')));\n};\n//# sourceMappingURL=is-valid-latency-hint.js.map","export const createAudioDestinationNodeConstructor = (audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode) => {\n    return class AudioDestinationNode extends audioNodeConstructor {\n        constructor(context, channelCount) {\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const nativeAudioDestinationNode = createNativeAudioDestinationNode(nativeContext, channelCount, isOffline);\n            const audioDestinationNodeRenderer = ((isOffline ? createAudioDestinationNodeRenderer(renderInputsOfAudioNode) : null));\n            super(context, false, nativeAudioDestinationNode, audioDestinationNodeRenderer);\n            this._isNodeOfNativeOfflineAudioContext = isOffline;\n            this._nativeAudioDestinationNode = nativeAudioDestinationNode;\n        }\n        get channelCount() {\n            return this._nativeAudioDestinationNode.channelCount;\n        }\n        set channelCount(value) {\n            // Bug #52: Chrome, Edge & Safari do not throw an exception at all.\n            // Bug #54: Firefox does throw an IndexSizeError.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n            if (value > this._nativeAudioDestinationNode.maxChannelCount) {\n                throw createIndexSizeError();\n            }\n            this._nativeAudioDestinationNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioDestinationNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            // Bug #53: No browser does throw an exception yet.\n            if (this._isNodeOfNativeOfflineAudioContext) {\n                throw createInvalidStateError();\n            }\n            this._nativeAudioDestinationNode.channelCountMode = value;\n        }\n        get maxChannelCount() {\n            return this._nativeAudioDestinationNode.maxChannelCount;\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-constructor.js.map","export const createAudioDestinationNodeRenderer = (renderInputsOfAudioNode) => {\n    const renderedNativeAudioDestinationNodes = new WeakMap();\n    const createAudioDestinationNode = async (proxy, nativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeOfflineAudioContext.destination;\n        renderedNativeAudioDestinationNodes.set(nativeOfflineAudioContext, nativeAudioDestinationNode);\n        await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioDestinationNode);\n        return nativeAudioDestinationNode;\n    };\n    return {\n        render(proxy, nativeOfflineAudioContext) {\n            const renderedNativeAudioDestinationNode = renderedNativeAudioDestinationNodes.get(nativeOfflineAudioContext);\n            if (renderedNativeAudioDestinationNode !== undefined) {\n                return Promise.resolve(renderedNativeAudioDestinationNode);\n            }\n            return createAudioDestinationNode(proxy, nativeOfflineAudioContext);\n        }\n    };\n};\n//# sourceMappingURL=audio-destination-node-renderer-factory.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nexport const createAudioListenerFactory = (createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors) => {\n    return (context, nativeContext) => {\n        const nativeListener = nativeContext.listener;\n        // Bug #117: Only Chrome & Edge support the new interface already.\n        const createFakeAudioParams = () => {\n            const buffer = new Float32Array(1);\n            const channelMergerNode = createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: 9\n            });\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            let isScriptProcessorNodeCreated = false;\n            let lastOrientation = [0, 0, -1, 0, 1, 0];\n            let lastPosition = [0, 0, 0];\n            const createScriptProcessorNode = () => {\n                if (isScriptProcessorNodeCreated) {\n                    return;\n                }\n                isScriptProcessorNodeCreated = true;\n                const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, 256, 9, 0);\n                // tslint:disable-next-line:deprecation\n                scriptProcessorNode.onaudioprocess = ({ inputBuffer }) => {\n                    const orientation = [\n                        getFirstSample(inputBuffer, buffer, 0),\n                        getFirstSample(inputBuffer, buffer, 1),\n                        getFirstSample(inputBuffer, buffer, 2),\n                        getFirstSample(inputBuffer, buffer, 3),\n                        getFirstSample(inputBuffer, buffer, 4),\n                        getFirstSample(inputBuffer, buffer, 5)\n                    ];\n                    if (orientation.some((value, index) => value !== lastOrientation[index])) {\n                        nativeListener.setOrientation(...orientation); // tslint:disable-line:deprecation\n                        lastOrientation = orientation;\n                    }\n                    const positon = [\n                        getFirstSample(inputBuffer, buffer, 6),\n                        getFirstSample(inputBuffer, buffer, 7),\n                        getFirstSample(inputBuffer, buffer, 8)\n                    ];\n                    if (positon.some((value, index) => value !== lastPosition[index])) {\n                        nativeListener.setPosition(...positon); // tslint:disable-line:deprecation\n                        lastPosition = positon;\n                    }\n                };\n                channelMergerNode.connect(scriptProcessorNode);\n            };\n            const createSetOrientation = (index) => (value) => {\n                if (value !== lastOrientation[index]) {\n                    lastOrientation[index] = value;\n                    nativeListener.setOrientation(...lastOrientation); // tslint:disable-line:deprecation\n                }\n            };\n            const createSetPosition = (index) => (value) => {\n                if (value !== lastPosition[index]) {\n                    lastPosition[index] = value;\n                    nativeListener.setPosition(...lastPosition); // tslint:disable-line:deprecation\n                }\n            };\n            const createFakeAudioParam = (input, initialValue, setValue) => {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: initialValue\n                });\n                constantSourceNode.connect(channelMergerNode, 0, input);\n                // @todo This should be stopped when the context is closed.\n                constantSourceNode.start();\n                Object.defineProperty(constantSourceNode.offset, 'defaultValue', {\n                    get() {\n                        return initialValue;\n                    }\n                });\n                /*\n                 * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and\n                 * minValue for GainNodes.\n                 */\n                const audioParam = createAudioParam({ context }, isOffline, constantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n                overwriteAccessors(audioParam, 'value', (get) => () => get.call(audioParam), (set) => (value) => {\n                    try {\n                        set.call(audioParam, value);\n                    }\n                    catch (err) {\n                        if (err.code !== 9) {\n                            throw err;\n                        }\n                    }\n                    createScriptProcessorNode();\n                    if (isOffline) {\n                        // Bug #117: Using setOrientation() and setPosition() doesn't work with an OfflineAudioContext.\n                        setValue(value);\n                    }\n                });\n                audioParam.cancelAndHoldAtTime = ((cancelAndHoldAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelAndHoldAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelAndHoldAtTime);\n                audioParam.cancelScheduledValues = ((cancelScheduledValues) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = cancelScheduledValues.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.cancelScheduledValues);\n                audioParam.exponentialRampToValueAtTime = ((exponentialRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = exponentialRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.exponentialRampToValueAtTime);\n                audioParam.linearRampToValueAtTime = ((linearRampToValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = linearRampToValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.linearRampToValueAtTime);\n                audioParam.setTargetAtTime = ((setTargetAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setTargetAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setTargetAtTime);\n                audioParam.setValueAtTime = ((setValueAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueAtTime);\n                audioParam.setValueCurveAtTime = ((setValueCurveAtTime) => {\n                    if (isOffline) {\n                        return () => {\n                            throw createNotSupportedError();\n                        };\n                    }\n                    return (...args) => {\n                        const value = setValueCurveAtTime.apply(audioParam, args);\n                        createScriptProcessorNode();\n                        return value;\n                    };\n                })(audioParam.setValueCurveAtTime);\n                return audioParam;\n            };\n            return {\n                forwardX: createFakeAudioParam(0, 0, createSetOrientation(0)),\n                forwardY: createFakeAudioParam(1, 0, createSetOrientation(1)),\n                forwardZ: createFakeAudioParam(2, -1, createSetOrientation(2)),\n                positionX: createFakeAudioParam(6, 0, createSetPosition(0)),\n                positionY: createFakeAudioParam(7, 0, createSetPosition(1)),\n                positionZ: createFakeAudioParam(8, 0, createSetPosition(2)),\n                upX: createFakeAudioParam(3, 0, createSetOrientation(3)),\n                upY: createFakeAudioParam(4, 1, createSetOrientation(4)),\n                upZ: createFakeAudioParam(5, 0, createSetOrientation(5))\n            };\n        };\n        const { forwardX, forwardY, forwardZ, positionX, positionY, positionZ, upX, upY, upZ } = nativeListener.forwardX === undefined ? createFakeAudioParams() : nativeListener;\n        return {\n            get forwardX() {\n                return forwardX;\n            },\n            get forwardY() {\n                return forwardY;\n            },\n            get forwardZ() {\n                return forwardZ;\n            },\n            get positionX() {\n                return positionX;\n            },\n            get positionY() {\n                return positionY;\n            },\n            get positionZ() {\n                return positionZ;\n            },\n            get upX() {\n                return upX;\n            },\n            get upY() {\n                return upY;\n            },\n            get upZ() {\n                return upZ;\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-listener-factory.js.map","export const isAudioNode = (audioNodeOrAudioParam) => {\n    return 'context' in audioNodeOrAudioParam;\n};\n//# sourceMappingURL=audio-node.js.map","import { isAudioNode } from './audio-node';\nexport const isAudioNodeOutputConnection = (outputConnection) => {\n    return isAudioNode(outputConnection[0]);\n};\n//# sourceMappingURL=audio-node-output-connection.js.map","export const insertElementInSet = (set, element, predicate, ignoreDuplicates) => {\n    for (const lmnt of set) {\n        if (predicate(lmnt)) {\n            if (ignoreDuplicates) {\n                return false;\n            }\n            throw Error('The set contains at least one similar element.');\n        }\n    }\n    set.add(element);\n    return true;\n};\n//# sourceMappingURL=insert-element-in-set.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addActiveInputConnectionToAudioParam = (activeInputs, source, [output, eventListener], ignoreDuplicates) => {\n    insertElementInSet(activeInputs, [source, output, eventListener], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output, ignoreDuplicates);\n};\n//# sourceMappingURL=add-active-input-connection-to-audio-param.js.map","import { insertElementInSet } from './insert-element-in-set';\nexport const addPassiveInputConnectionToAudioParam = (passiveInputs, [source, output, eventListener], ignoreDuplicates) => {\n    const passiveInputConnections = passiveInputs.get(source);\n    if (passiveInputConnections === undefined) {\n        passiveInputs.set(source, new Set([[output, eventListener]]));\n    }\n    else {\n        insertElementInSet(passiveInputConnections, [output, eventListener], (passiveInputConnection) => passiveInputConnection[0] === output, ignoreDuplicates);\n    }\n};\n//# sourceMappingURL=add-passive-input-connection-to-audio-param.js.map","export const isNativeAudioNodeFaker = (nativeAudioNodeOrNativeAudioNodeFaker) => {\n    return 'inputs' in nativeAudioNodeOrNativeAudioNodeFaker;\n};\n//# sourceMappingURL=native-audio-node-faker.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const connectNativeAudioNodeToNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        const fakeNativeDestinationAudioNode = nativeDestinationAudioNode.inputs[input];\n        nativeSourceAudioNode.connect(fakeNativeDestinationAudioNode, output, 0);\n        return [fakeNativeDestinationAudioNode, output, 0];\n    }\n    nativeSourceAudioNode.connect(nativeDestinationAudioNode, output, input);\n    return [nativeDestinationAudioNode, output, input];\n};\n//# sourceMappingURL=connect-native-audio-node-to-native-audio-node.js.map","export const deleteActiveInputConnection = (activeInputConnections, source, output) => {\n    for (const activeInputConnection of activeInputConnections) {\n        if (activeInputConnection[0] === source && activeInputConnection[1] === output) {\n            activeInputConnections.delete(activeInputConnection);\n            return activeInputConnection;\n        }\n    }\n    return null;\n};\n//# sourceMappingURL=delete-active-input-connection.js.map","import { pickElementFromSet } from './pick-element-from-set';\nexport const deleteActiveInputConnectionToAudioParam = (activeInputs, source, output) => {\n    return pickElementFromSet(activeInputs, (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-param.js.map","import { getEventListenersOfAudioNode } from './get-event-listeners-of-audio-node';\nexport const deleteEventListenerOfAudioNode = (audioNode, eventListener) => {\n    const eventListeners = getEventListenersOfAudioNode(audioNode);\n    if (!eventListeners.delete(eventListener)) {\n        throw new Error('Missing the expected event listener.');\n    }\n};\n//# sourceMappingURL=delete-event-listeners-of-audio-node.js.map","import { getValueForKey } from './get-value-for-key';\nimport { pickElementFromSet } from './pick-element-from-set';\nexport const deletePassiveInputConnectionToAudioParam = (passiveInputs, source, output) => {\n    const passiveInputConnections = getValueForKey(passiveInputs, source);\n    const matchingConnection = pickElementFromSet(passiveInputConnections, (passiveInputConnection) => passiveInputConnection[0] === output);\n    if (passiveInputConnections.size === 0) {\n        passiveInputs.delete(source);\n    }\n    return matchingConnection;\n};\n//# sourceMappingURL=delete-passive-input-connection-to-audio-param.js.map","import { isNativeAudioNodeFaker } from '../guards/native-audio-node-faker';\nexport const disconnectNativeAudioNodeFromNativeAudioNode = (nativeSourceAudioNode, nativeDestinationAudioNode, output, input) => {\n    if (isNativeAudioNodeFaker(nativeDestinationAudioNode)) {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode.inputs[input], output, 0);\n    }\n    else {\n        nativeSourceAudioNode.disconnect(nativeDestinationAudioNode, output, input);\n    }\n};\n//# sourceMappingURL=disconnect-native-audio-node-from-native-audio-node.js.map","import { AUDIO_NODE_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioNode = (audioNode) => {\n    return getValueForKey(AUDIO_NODE_STORE, audioNode);\n};\n//# sourceMappingURL=get-native-audio-node.js.map","import { AUDIO_PARAM_STORE } from '../globals';\nimport { getValueForKey } from './get-value-for-key';\nexport const getNativeAudioParam = (audioParam) => {\n    return getValueForKey(AUDIO_PARAM_STORE, audioParam);\n};\n//# sourceMappingURL=get-native-audio-param.js.map","import { CYCLE_COUNTERS } from '../globals';\nexport const isPartOfACycle = (audioNode) => {\n    return CYCLE_COUNTERS.has(audioNode);\n};\n//# sourceMappingURL=is-part-of-a-cycle.js.map","import { ACTIVE_AUDIO_NODE_STORE } from '../globals';\nexport const isPassiveAudioNode = (audioNode) => {\n    return !ACTIVE_AUDIO_NODE_STORE.has(audioNode);\n};\n//# sourceMappingURL=is-passive-audio-node.js.map","export const testAudioNodeDisconnectMethodSupport = (nativeAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return new Promise((resolve) => {\n        /*\n         * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n         * constructor for an AudioWorkletNode can be used here to skip the test.\n         */\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            resolve(true);\n        }\n        else {\n            const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n            const dummy = nativeAudioContext.createGain();\n            // Bug #95: Safari does not play one sample buffers.\n            const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n            const channelData = ones.getChannelData(0);\n            channelData[0] = 1;\n            channelData[1] = 1;\n            const source = nativeAudioContext.createBufferSource();\n            source.buffer = ones;\n            source.loop = true;\n            source.connect(analyzer).connect(nativeAudioContext.destination);\n            source.connect(dummy);\n            source.disconnect(dummy);\n            // tslint:disable-next-line:deprecation\n            analyzer.onaudioprocess = (event) => {\n                const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n                if (Array.prototype.some.call(chnnlDt, (sample) => sample === 1)) {\n                    resolve(true);\n                }\n                else {\n                    resolve(false);\n                }\n                source.stop();\n                analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n                source.disconnect(analyzer);\n                analyzer.disconnect(nativeAudioContext.destination);\n            };\n            source.start();\n        }\n    });\n};\n//# sourceMappingURL=test-audio-node-disconnect-method-support.js.map","export const visitEachAudioNodeOnce = (cycles, visitor) => {\n    const counts = new Map();\n    for (const cycle of cycles) {\n        for (const audioNode of cycle) {\n            const count = counts.get(audioNode);\n            counts.set(audioNode, count === undefined ? 1 : count + 1);\n        }\n    }\n    counts.forEach((count, audioNode) => visitor(audioNode, count));\n};\n//# sourceMappingURL=visit-each-audio-node-once.js.map","export const isNativeAudioNode = (nativeAudioNodeOrAudioParam) => {\n    return 'context' in nativeAudioNodeOrAudioParam;\n};\n//# sourceMappingURL=native-audio-node.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const wrapAudioNodeDisconnectMethod = (nativeAudioNode) => {\n    const connections = new Map();\n    nativeAudioNode.connect = ((connect) => {\n        // tslint:disable-next-line:invalid-void no-inferrable-types\n        return (destination, output = 0, input = 0) => {\n            const returnValue = isNativeAudioNode(destination) ? connect(destination, output, input) : connect(destination, output);\n            // Save the new connection only if the calls to connect above didn't throw an error.\n            const connectionsToDestination = connections.get(destination);\n            if (connectionsToDestination === undefined) {\n                connections.set(destination, [{ input, output }]);\n            }\n            else {\n                if (connectionsToDestination.every((connection) => connection.input !== input || connection.output !== output)) {\n                    connectionsToDestination.push({ input, output });\n                }\n            }\n            return returnValue;\n        };\n    })(nativeAudioNode.connect.bind(nativeAudioNode));\n    nativeAudioNode.disconnect = ((disconnect) => {\n        return (destinationOrOutput, output, input) => {\n            disconnect.apply(nativeAudioNode);\n            if (destinationOrOutput === undefined) {\n                connections.clear();\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                for (const [destination, connectionsToDestination] of connections) {\n                    const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== destinationOrOutput);\n                    if (filteredConnections.length === 0) {\n                        connections.delete(destination);\n                    }\n                    else {\n                        connections.set(destination, filteredConnections);\n                    }\n                }\n            }\n            else if (connections.has(destinationOrOutput)) {\n                if (output === undefined) {\n                    connections.delete(destinationOrOutput);\n                }\n                else {\n                    const connectionsToDestination = connections.get(destinationOrOutput);\n                    if (connectionsToDestination !== undefined) {\n                        const filteredConnections = connectionsToDestination.filter((connection) => connection.output !== output && (connection.input !== input || input === undefined));\n                        if (filteredConnections.length === 0) {\n                            connections.delete(destinationOrOutput);\n                        }\n                        else {\n                            connections.set(destinationOrOutput, filteredConnections);\n                        }\n                    }\n                }\n            }\n            for (const [destination, connectionsToDestination] of connections) {\n                connectionsToDestination.forEach((connection) => {\n                    if (isNativeAudioNode(destination)) {\n                        nativeAudioNode.connect(destination, connection.output, connection.input);\n                    }\n                    else {\n                        nativeAudioNode.connect(destination, connection.output);\n                    }\n                });\n            }\n        };\n    })(nativeAudioNode.disconnect);\n};\n//# sourceMappingURL=wrap-audio-node-disconnect-method.js.map","import { AUDIO_NODE_STORE, EVENT_LISTENERS } from '../globals';\nimport { isAudioNode } from '../guards/audio-node';\nimport { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nimport { addActiveInputConnectionToAudioParam } from '../helpers/add-active-input-connection-to-audio-param';\nimport { addPassiveInputConnectionToAudioParam } from '../helpers/add-passive-input-connection-to-audio-param';\nimport { connectNativeAudioNodeToNativeAudioNode } from '../helpers/connect-native-audio-node-to-native-audio-node';\nimport { deleteActiveInputConnection } from '../helpers/delete-active-input-connection';\nimport { deleteActiveInputConnectionToAudioParam } from '../helpers/delete-active-input-connection-to-audio-param';\nimport { deleteEventListenerOfAudioNode } from '../helpers/delete-event-listeners-of-audio-node';\nimport { deletePassiveInputConnectionToAudioNode } from '../helpers/delete-passive-input-connection-to-audio-node';\nimport { deletePassiveInputConnectionToAudioParam } from '../helpers/delete-passive-input-connection-to-audio-param';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from '../helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from '../helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from '../helpers/get-event-listeners-of-audio-node';\nimport { getNativeAudioNode } from '../helpers/get-native-audio-node';\nimport { getNativeAudioParam } from '../helpers/get-native-audio-param';\nimport { insertElementInSet } from '../helpers/insert-element-in-set';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { isPartOfACycle } from '../helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from '../helpers/is-passive-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassiveWhenNecessary } from '../helpers/set-internal-state-to-passive-when-necessary';\nimport { testAudioNodeDisconnectMethodSupport } from '../helpers/test-audio-node-disconnect-method-support';\nimport { visitEachAudioNodeOnce } from '../helpers/visit-each-audio-node-once';\nimport { wrapAudioNodeDisconnectMethod } from '../helpers/wrap-audio-node-disconnect-method';\nconst addConnectionToAudioParamOfAudioContext = (source, destination, output, isOffline) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const { outputs } = getAudioNodeConnections(source);\n    const eventListeners = getEventListenersOfAudioNode(source);\n    const eventListener = (isActive) => {\n        const nativeAudioNode = getNativeAudioNode(source);\n        const nativeAudioParam = getNativeAudioParam(destination);\n        if (isActive) {\n            const partialConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n            addActiveInputConnectionToAudioParam(activeInputs, source, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }\n        else {\n            const partialConnection = deleteActiveInputConnectionToAudioParam(activeInputs, source, output);\n            addPassiveInputConnectionToAudioParam(passiveInputs, partialConnection, false);\n            if (!isOffline && !isPartOfACycle(source)) {\n                nativeAudioNode.disconnect(nativeAudioParam, output);\n            }\n        }\n    };\n    if (insertElementInSet(outputs, [destination, output], (outputConnection) => outputConnection[0] === destination && outputConnection[1] === output, true)) {\n        eventListeners.add(eventListener);\n        if (isActiveAudioNode(source)) {\n            addActiveInputConnectionToAudioParam(activeInputs, source, [output, eventListener], true);\n        }\n        else {\n            addPassiveInputConnectionToAudioParam(passiveInputs, [source, output, eventListener], true);\n        }\n        return true;\n    }\n    return false;\n};\nconst deleteInputConnectionOfAudioNode = (source, destination, output, input) => {\n    const { activeInputs, passiveInputs } = getAudioNodeConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs[input], source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioNode(passiveInputs, source, output, input);\n        return [passiveInputConnection[2], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputConnectionOfAudioParam = (source, destination, output) => {\n    const { activeInputs, passiveInputs } = getAudioParamConnections(destination);\n    const activeInputConnection = deleteActiveInputConnection(activeInputs, source, output);\n    if (activeInputConnection === null) {\n        const passiveInputConnection = deletePassiveInputConnectionToAudioParam(passiveInputs, source, output);\n        return [passiveInputConnection[1], false];\n    }\n    return [activeInputConnection[2], true];\n};\nconst deleteInputsOfAudioNode = (source, isOffline, destination, output, input) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioNode(source, destination, output, input);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(source), getNativeAudioNode(destination), output, input);\n        }\n    }\n    if (isActiveAudioNode(destination)) {\n        const { activeInputs } = getAudioNodeConnections(destination);\n        setInternalStateToPassiveWhenNecessary(destination, activeInputs);\n    }\n};\nconst deleteInputsOfAudioParam = (source, isOffline, destination, output) => {\n    const [listener, isActive] = deleteInputConnectionOfAudioParam(source, destination, output);\n    if (listener !== null) {\n        deleteEventListenerOfAudioNode(source, listener);\n        if (isActive && !isOffline && !isPartOfACycle(source)) {\n            getNativeAudioNode(source).disconnect(getNativeAudioParam(destination), output);\n        }\n    }\n};\nconst deleteAnyConnection = (source, isOffline) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        destinations.push(outputConnection[0]);\n    }\n    audioNodeConnectionsOfSource.outputs.clear();\n    return destinations;\n};\nconst deleteConnectionAtOutput = (source, isOffline, output) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    const destinations = [];\n    for (const outputConnection of audioNodeConnectionsOfSource.outputs) {\n        if (outputConnection[1] === output) {\n            if (isAudioNodeOutputConnection(outputConnection)) {\n                deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n            }\n            else {\n                deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n            }\n            destinations.push(outputConnection[0]);\n            audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        }\n    }\n    return destinations;\n};\nconst deleteConnectionToDestination = (source, isOffline, destination, output, input) => {\n    const audioNodeConnectionsOfSource = getAudioNodeConnections(source);\n    return Array.from(audioNodeConnectionsOfSource.outputs)\n        .filter((outputConnection) => outputConnection[0] === destination &&\n        (output === undefined || outputConnection[1] === output) &&\n        (input === undefined || outputConnection[2] === input))\n        .map((outputConnection) => {\n        if (isAudioNodeOutputConnection(outputConnection)) {\n            deleteInputsOfAudioNode(source, isOffline, ...outputConnection);\n        }\n        else {\n            deleteInputsOfAudioParam(source, isOffline, ...outputConnection);\n        }\n        audioNodeConnectionsOfSource.outputs.delete(outputConnection);\n        return outputConnection[0];\n    });\n};\nexport const createAudioNodeConstructor = (addAudioNodeConnections, addConnectionToAudioNode, cacheTestResult, createIncrementCycleCounter, createIndexSizeError, createInvalidAccessError, createNotSupportedError, decrementCycleCounter, detectCycles, eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return class AudioNode extends eventTargetConstructor {\n        constructor(context, isActive, nativeAudioNode, audioNodeRenderer) {\n            super(nativeAudioNode);\n            this._context = context;\n            this._nativeAudioNode = nativeAudioNode;\n            const nativeContext = getNativeContext(context);\n            // Bug #12: Safari does not support to disconnect a specific destination.\n            if (isNativeAudioContext(nativeContext) &&\n                true !==\n                    cacheTestResult(testAudioNodeDisconnectMethodSupport, () => {\n                        return testAudioNodeDisconnectMethodSupport(nativeContext, nativeAudioWorkletNodeConstructor);\n                    })) {\n                wrapAudioNodeDisconnectMethod(nativeAudioNode);\n            }\n            AUDIO_NODE_STORE.set(this, nativeAudioNode);\n            EVENT_LISTENERS.set(this, new Set());\n            if (context.state !== 'closed' && isActive) {\n                setInternalStateToActive(this);\n            }\n            addAudioNodeConnections(this, audioNodeRenderer, nativeAudioNode);\n        }\n        get channelCount() {\n            return this._nativeAudioNode.channelCount;\n        }\n        set channelCount(value) {\n            this._nativeAudioNode.channelCount = value;\n        }\n        get channelCountMode() {\n            return this._nativeAudioNode.channelCountMode;\n        }\n        set channelCountMode(value) {\n            this._nativeAudioNode.channelCountMode = value;\n        }\n        get channelInterpretation() {\n            return this._nativeAudioNode.channelInterpretation;\n        }\n        set channelInterpretation(value) {\n            this._nativeAudioNode.channelInterpretation = value;\n        }\n        get context() {\n            return this._context;\n        }\n        get numberOfInputs() {\n            return this._nativeAudioNode.numberOfInputs;\n        }\n        get numberOfOutputs() {\n            return this._nativeAudioNode.numberOfOutputs;\n        }\n        // tslint:disable-next-line:invalid-void\n        connect(destination, output = 0, input = 0) {\n            // Bug #174: Safari does expose a wrong numberOfOutputs for MediaStreamAudioDestinationNodes.\n            if (output < 0 || output >= this._nativeAudioNode.numberOfOutputs) {\n                throw createIndexSizeError();\n            }\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (isNativeAudioNode(destination) || isNativeAudioParam(destination)) {\n                throw createInvalidAccessError();\n            }\n            if (isAudioNode(destination)) {\n                const nativeDestinationAudioNode = getNativeAudioNode(destination);\n                try {\n                    const connection = connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode, nativeDestinationAudioNode, output, input);\n                    const isPassive = isPassiveAudioNode(this);\n                    if (isOffline || isPassive) {\n                        this._nativeAudioNode.disconnect(...connection);\n                    }\n                    if (this.context.state !== 'closed' && !isPassive && isPassiveAudioNode(destination)) {\n                        setInternalStateToActive(destination);\n                    }\n                }\n                catch (err) {\n                    // Bug #41: Safari does not throw the correct exception so far.\n                    if (err.code === 12) {\n                        throw createInvalidAccessError();\n                    }\n                    throw err;\n                }\n                const isNewConnectionToAudioNode = addConnectionToAudioNode(this, destination, output, input, isOffline);\n                // Bug #164: Only Firefox detects cycles so far.\n                if (isNewConnectionToAudioNode) {\n                    const cycles = detectCycles([this], destination);\n                    visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n                }\n                return destination;\n            }\n            const nativeAudioParam = getNativeAudioParam(destination);\n            /*\n             * Bug #73, #147 & #153: Safari does not support to connect an input signal to the playbackRate AudioParam of an\n             * AudioBufferSourceNode. This can't be easily detected and that's why the outdated name property is used here to identify\n             * Safari. In addition to that the maxValue property is used to only detect the affected versions below v14.0.2.\n             */\n            if (nativeAudioParam.name === 'playbackRate' && nativeAudioParam.maxValue === 1024) {\n                throw createNotSupportedError();\n            }\n            try {\n                this._nativeAudioNode.connect(nativeAudioParam, output);\n                if (isOffline || isPassiveAudioNode(this)) {\n                    this._nativeAudioNode.disconnect(nativeAudioParam, output);\n                }\n            }\n            catch (err) {\n                // Bug #58: Safari doesn't throw an InvalidAccessError yet.\n                if (err.code === 12) {\n                    throw createInvalidAccessError();\n                }\n                throw err;\n            }\n            const isNewConnectionToAudioParam = addConnectionToAudioParamOfAudioContext(this, destination, output, isOffline);\n            // Bug #164: Only Firefox detects cycles so far.\n            if (isNewConnectionToAudioParam) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, createIncrementCycleCounter(isOffline));\n            }\n        }\n        disconnect(destinationOrOutput, output, input) {\n            let destinations;\n            const nativeContext = getNativeContext(this._context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            if (destinationOrOutput === undefined) {\n                destinations = deleteAnyConnection(this, isOffline);\n            }\n            else if (typeof destinationOrOutput === 'number') {\n                if (destinationOrOutput < 0 || destinationOrOutput >= this.numberOfOutputs) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionAtOutput(this, isOffline, destinationOrOutput);\n            }\n            else {\n                if (output !== undefined && (output < 0 || output >= this.numberOfOutputs)) {\n                    throw createIndexSizeError();\n                }\n                if (isAudioNode(destinationOrOutput) && input !== undefined && (input < 0 || input >= destinationOrOutput.numberOfInputs)) {\n                    throw createIndexSizeError();\n                }\n                destinations = deleteConnectionToDestination(this, isOffline, destinationOrOutput, output, input);\n                if (destinations.length === 0) {\n                    throw createInvalidAccessError();\n                }\n            }\n            // Bug #164: Only Firefox detects cycles so far.\n            for (const destination of destinations) {\n                const cycles = detectCycles([this], destination);\n                visitEachAudioNodeOnce(cycles, decrementCycleCounter);\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-node-constructor.js.map","import { AutomationEventList } from 'automation-events';\nexport const createAudioParamFactory = (addAudioParamConnections, audioParamAudioNodeStore, audioParamStore, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible) => {\n    return (audioNode, isAudioParamOfOfflineAudioContext, nativeAudioParam, maxValue = null, minValue = null) => {\n        const automationEventList = new AutomationEventList(nativeAudioParam.defaultValue);\n        const audioParamRenderer = isAudioParamOfOfflineAudioContext ? createAudioParamRenderer(automationEventList) : null;\n        const audioParam = {\n            get defaultValue() {\n                return nativeAudioParam.defaultValue;\n            },\n            get maxValue() {\n                return maxValue === null ? nativeAudioParam.maxValue : maxValue;\n            },\n            get minValue() {\n                return minValue === null ? nativeAudioParam.minValue : minValue;\n            },\n            get value() {\n                return nativeAudioParam.value;\n            },\n            set value(value) {\n                nativeAudioParam.value = value;\n                // Bug #98: Firefox & Safari do not yet treat the value setter like a call to setValueAtTime().\n                audioParam.setValueAtTime(value, audioNode.context.currentTime);\n            },\n            cancelAndHoldAtTime(cancelTime) {\n                // Bug #28: Firefox & Safari do not yet implement cancelAndHoldAtTime().\n                if (typeof nativeAudioParam.cancelAndHoldAtTime === 'function') {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    nativeAudioParam.cancelAndHoldAtTime(cancelTime);\n                }\n                else {\n                    const previousLastEvent = Array.from(automationEventList).pop();\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createCancelAndHoldAutomationEvent(cancelTime));\n                    const currentLastEvent = Array.from(automationEventList).pop();\n                    nativeAudioParam.cancelScheduledValues(cancelTime);\n                    if (previousLastEvent !== currentLastEvent && currentLastEvent !== undefined) {\n                        if (currentLastEvent.type === 'exponentialRampToValue') {\n                            nativeAudioParam.exponentialRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'linearRampToValue') {\n                            nativeAudioParam.linearRampToValueAtTime(currentLastEvent.value, currentLastEvent.endTime);\n                        }\n                        else if (currentLastEvent.type === 'setValue') {\n                            nativeAudioParam.setValueAtTime(currentLastEvent.value, currentLastEvent.startTime);\n                        }\n                        else if (currentLastEvent.type === 'setValueCurve') {\n                            nativeAudioParam.setValueCurveAtTime(currentLastEvent.values, currentLastEvent.startTime, currentLastEvent.duration);\n                        }\n                    }\n                }\n                return audioParam;\n            },\n            cancelScheduledValues(cancelTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createCancelScheduledValuesAutomationEvent(cancelTime));\n                nativeAudioParam.cancelScheduledValues(cancelTime);\n                return audioParam;\n            },\n            exponentialRampToValueAtTime(value, endTime) {\n                // Bug #45: Safari does not throw an error yet.\n                if (value === 0) {\n                    throw new RangeError();\n                }\n                // Bug #187: Safari does not throw an error yet.\n                if (!Number.isFinite(endTime) || endTime < 0) {\n                    throw new RangeError();\n                }\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createExponentialRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.exponentialRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            linearRampToValueAtTime(value, endTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createLinearRampToValueAutomationEvent(value, endTime));\n                nativeAudioParam.linearRampToValueAtTime(value, endTime);\n                return audioParam;\n            },\n            setTargetAtTime(target, startTime, timeConstant) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetTargetAutomationEvent(target, startTime, timeConstant));\n                nativeAudioParam.setTargetAtTime(target, startTime, timeConstant);\n                return audioParam;\n            },\n            setValueAtTime(value, startTime) {\n                if (audioParamRenderer === null) {\n                    automationEventList.flush(audioNode.context.currentTime);\n                }\n                automationEventList.add(createSetValueAutomationEvent(value, startTime));\n                nativeAudioParam.setValueAtTime(value, startTime);\n                return audioParam;\n            },\n            setValueCurveAtTime(values, startTime, duration) {\n                // Bug 183: Safari only accepts a Float32Array.\n                const convertedValues = values instanceof Float32Array ? values : new Float32Array(values);\n                /*\n                 * Bug #152: Safari does not correctly interpolate the values of the curve.\n                 * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the\n                 * existence of the webkitAudioContext is used as a workaround here.\n                 */\n                if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                    const endTime = startTime + duration;\n                    const sampleRate = audioNode.context.sampleRate;\n                    const firstSample = Math.ceil(startTime * sampleRate);\n                    const lastSample = Math.floor(endTime * sampleRate);\n                    const numberOfInterpolatedValues = lastSample - firstSample;\n                    const interpolatedValues = new Float32Array(numberOfInterpolatedValues);\n                    for (let i = 0; i < numberOfInterpolatedValues; i += 1) {\n                        const theoreticIndex = ((convertedValues.length - 1) / duration) * ((firstSample + i) / sampleRate - startTime);\n                        const lowerIndex = Math.floor(theoreticIndex);\n                        const upperIndex = Math.ceil(theoreticIndex);\n                        interpolatedValues[i] =\n                            lowerIndex === upperIndex\n                                ? convertedValues[lowerIndex]\n                                : (1 - (theoreticIndex - lowerIndex)) * convertedValues[lowerIndex] +\n                                    (1 - (upperIndex - theoreticIndex)) * convertedValues[upperIndex];\n                    }\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(interpolatedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(interpolatedValues, startTime, duration);\n                    const timeOfLastSample = lastSample / sampleRate;\n                    if (timeOfLastSample < endTime) {\n                        setValueAtTimeUntilPossible(audioParam, interpolatedValues[interpolatedValues.length - 1], timeOfLastSample);\n                    }\n                    setValueAtTimeUntilPossible(audioParam, convertedValues[convertedValues.length - 1], endTime);\n                }\n                else {\n                    if (audioParamRenderer === null) {\n                        automationEventList.flush(audioNode.context.currentTime);\n                    }\n                    automationEventList.add(createSetValueCurveAutomationEvent(convertedValues, startTime, duration));\n                    nativeAudioParam.setValueCurveAtTime(convertedValues, startTime, duration);\n                }\n                return audioParam;\n            }\n        };\n        audioParamStore.set(audioParam, nativeAudioParam);\n        audioParamAudioNodeStore.set(audioParam, audioNode);\n        addAudioParamConnections(audioParam, audioParamRenderer);\n        return audioParam;\n    };\n};\n//# sourceMappingURL=audio-param-factory.js.map","export const createAudioParamRenderer = (automationEventList) => {\n    return {\n        replay(audioParam) {\n            for (const automationEvent of automationEventList) {\n                if (automationEvent.type === 'exponentialRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.exponentialRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'linearRampToValue') {\n                    const { endTime, value } = automationEvent;\n                    audioParam.linearRampToValueAtTime(value, endTime);\n                }\n                else if (automationEvent.type === 'setTarget') {\n                    const { startTime, target, timeConstant } = automationEvent;\n                    audioParam.setTargetAtTime(target, startTime, timeConstant);\n                }\n                else if (automationEvent.type === 'setValue') {\n                    const { startTime, value } = automationEvent;\n                    audioParam.setValueAtTime(value, startTime);\n                }\n                else if (automationEvent.type === 'setValueCurve') {\n                    const { duration, startTime, values } = automationEvent;\n                    audioParam.setValueCurveAtTime(values, startTime, duration);\n                }\n                else {\n                    throw new Error(\"Can't apply an unknown automation.\");\n                }\n            }\n        }\n    };\n};\n//# sourceMappingURL=audio-param-renderer.js.map","export class ReadOnlyMap {\n    constructor(parameters) {\n        this._map = new Map(parameters);\n    }\n    get size() {\n        return this._map.size;\n    }\n    entries() {\n        return this._map.entries();\n    }\n    forEach(callback, thisArg = null) {\n        return this._map.forEach((value, key) => callback.call(thisArg, value, key, this));\n    }\n    get(name) {\n        return this._map.get(name);\n    }\n    has(name) {\n        return this._map.has(name);\n    }\n    keys() {\n        return this._map.keys();\n    }\n    values() {\n        return this._map.values();\n    }\n}\n//# sourceMappingURL=read-only-map.js.map","import { NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS } from '../globals';\nimport { ReadOnlyMap } from '../read-only-map';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    // Bug #61: The channelCountMode should be 'max' according to the spec but is set to 'explicit' to achieve consistent behavior.\n    channelCountMode: 'explicit',\n    channelInterpretation: 'speakers',\n    numberOfInputs: 1,\n    numberOfOutputs: 1,\n    parameterData: {},\n    processorOptions: {}\n};\nexport const createAudioWorkletNodeConstructor = (addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener) => {\n    return class AudioWorkletNode extends audioNodeConstructor {\n        constructor(context, name, options) {\n            var _a;\n            const nativeContext = getNativeContext(context);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const mergedOptions = sanitizeAudioWorkletNodeOptions({ ...DEFAULT_OPTIONS, ...options });\n            // Bug #191: Safari doesn't throw an error if the options aren't clonable.\n            testAudioWorkletNodeOptionsClonability(mergedOptions);\n            const nodeNameToProcessorConstructorMap = NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(nativeContext);\n            const processorConstructor = nodeNameToProcessorConstructorMap === null || nodeNameToProcessorConstructorMap === void 0 ? void 0 : nodeNameToProcessorConstructorMap.get(name);\n            // Bug #186: Chrome and Edge do not allow to create an AudioWorkletNode on a closed AudioContext.\n            const nativeContextOrBackupOfflineAudioContext = isOffline || nativeContext.state !== 'closed'\n                ? nativeContext\n                : (_a = getBackupOfflineAudioContext(nativeContext)) !== null && _a !== void 0 ? _a : nativeContext;\n            const nativeAudioWorkletNode = createNativeAudioWorkletNode(nativeContextOrBackupOfflineAudioContext, isOffline ? null : context.baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, mergedOptions);\n            const audioWorkletNodeRenderer = ((isOffline ? createAudioWorkletNodeRenderer(name, mergedOptions, processorConstructor) : null));\n            /*\n             * @todo Add a mechanism to switch an AudioWorkletNode to passive once the process() function of the AudioWorkletProcessor\n             * returns false.\n             */\n            super(context, true, nativeAudioWorkletNode, audioWorkletNodeRenderer);\n            const parameters = [];\n            nativeAudioWorkletNode.parameters.forEach((nativeAudioParam, nm) => {\n                const audioParam = createAudioParam(this, isOffline, nativeAudioParam);\n                parameters.push([nm, audioParam]);\n            });\n            this._nativeAudioWorkletNode = nativeAudioWorkletNode;\n            this._onprocessorerror = null;\n            this._parameters = new ReadOnlyMap(parameters);\n            /*\n             * Bug #86 & #87: Invoking the renderer of an AudioWorkletNode might be necessary if it has no direct or indirect connection to\n             * the destination.\n             */\n            if (isOffline) {\n                addUnrenderedAudioWorkletNode(nativeContext, this);\n            }\n            const { activeInputs } = getAudioNodeConnections(this);\n            setActiveAudioWorkletNodeInputs(nativeAudioWorkletNode, activeInputs);\n        }\n        get onprocessorerror() {\n            return this._onprocessorerror;\n        }\n        set onprocessorerror(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeAudioWorkletNode.onprocessorerror = wrappedListener;\n            const nativeOnProcessorError = this._nativeAudioWorkletNode.onprocessorerror;\n            this._onprocessorerror =\n                nativeOnProcessorError !== null && nativeOnProcessorError === wrappedListener\n                    ? value\n                    : nativeOnProcessorError;\n        }\n        get parameters() {\n            if (this._parameters === null) {\n                // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                return this._nativeAudioWorkletNode.parameters;\n            }\n            return this._parameters;\n        }\n        get port() {\n            return this._nativeAudioWorkletNode.port;\n        }\n    };\n};\n//# sourceMappingURL=audio-worklet-node-constructor.js.map","export function copyFromChannel(audioBuffer, \n// @todo There is currently no way to define something like { [ key: number | string ]: Float32Array }\nparent, key, channelNumber, bufferOffset) {\n    if (typeof audioBuffer.copyFromChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = new Float32Array(128);\n        }\n        audioBuffer.copyFromChannel(parent[key], channelNumber, bufferOffset);\n        // Bug #5: Safari does not support copyFromChannel().\n    }\n    else {\n        const channelData = audioBuffer.getChannelData(channelNumber);\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength === 0) {\n            parent[key] = channelData.slice(bufferOffset, bufferOffset + 128);\n        }\n        else {\n            const slicedInput = new Float32Array(channelData.buffer, bufferOffset * Float32Array.BYTES_PER_ELEMENT, 128);\n            parent[key].set(slicedInput);\n        }\n    }\n}\n//# sourceMappingURL=copy-from-channel.js.map","export const copyToChannel = (audioBuffer, parent, key, channelNumber, bufferOffset) => {\n    if (typeof audioBuffer.copyToChannel === 'function') {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.copyToChannel(parent[key], channelNumber, bufferOffset);\n        }\n        // Bug #5: Safari does not support copyToChannel().\n    }\n    else {\n        // The byteLength will be 0 when the ArrayBuffer was transferred.\n        if (parent[key].byteLength !== 0) {\n            audioBuffer.getChannelData(channelNumber).set(parent[key], bufferOffset);\n        }\n    }\n};\n//# sourceMappingURL=copy-to-channel.js.map","export const createNestedArrays = (x, y) => {\n    const arrays = [];\n    for (let i = 0; i < x; i += 1) {\n        const array = [];\n        const length = typeof y === 'number' ? y : y[i];\n        for (let j = 0; j < length; j += 1) {\n            array.push(new Float32Array(128));\n        }\n        arrays.push(array);\n    }\n    return arrays;\n};\n//# sourceMappingURL=create-nested-arrays.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { getNativeAudioNode } from './get-native-audio-node';\nimport { getValueForKey } from './get-value-for-key';\nexport const getAudioWorkletProcessor = (nativeOfflineAudioContext, proxy) => {\n    const nodeToProcessorMap = getValueForKey(NODE_TO_PROCESSOR_MAPS, nativeOfflineAudioContext);\n    const nativeAudioWorkletNode = getNativeAudioNode(proxy);\n    return getValueForKey(nodeToProcessorMap, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-audio-worklet-processor.js.map","import { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { getAudioNodeConnections } from '../helpers/get-audio-node-connections';\nimport { getAudioWorkletProcessor } from '../helpers/get-audio-worklet-processor';\nimport { isOwnedByContext } from '../helpers/is-owned-by-context';\nconst processBuffer = async (proxy, renderedBuffer, nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime) => {\n    // Ceil the length to the next full render quantum.\n    // Bug #17: Safari does not yet expose the length.\n    const length = renderedBuffer === null ? Math.ceil(proxy.context.length / 128) * 128 : renderedBuffer.length;\n    const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n    const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n    const processedBuffer = numberOfOutputChannels === 0\n        ? null\n        : nativeOfflineAudioContext.createBuffer(numberOfOutputChannels, length, nativeOfflineAudioContext.sampleRate);\n    if (processorConstructor === undefined) {\n        throw new Error('Missing the processor constructor.');\n    }\n    const audioNodeConnections = getAudioNodeConnections(proxy);\n    const audioWorkletProcessor = await getAudioWorkletProcessor(nativeOfflineAudioContext, proxy);\n    const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n    const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n    const parameters = Array.from(proxy.parameters.keys()).reduce((prmtrs, name) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n    for (let i = 0; i < length; i += 128) {\n        if (options.numberOfInputs > 0 && renderedBuffer !== null) {\n            for (let j = 0; j < options.numberOfInputs; j += 1) {\n                for (let k = 0; k < options.channelCount; k += 1) {\n                    copyFromChannel(renderedBuffer, inputs[j], k, k, i);\n                }\n            }\n        }\n        if (processorConstructor.parameterDescriptors !== undefined && renderedBuffer !== null) {\n            processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                copyFromChannel(renderedBuffer, parameters, name, numberOfInputChannels + index, i);\n            });\n        }\n        for (let j = 0; j < options.numberOfInputs; j += 1) {\n            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                // The byteLength will be 0 when the ArrayBuffer was transferred.\n                if (outputs[j][k].byteLength === 0) {\n                    outputs[j][k] = new Float32Array(128);\n                }\n            }\n        }\n        try {\n            const potentiallyEmptyInputs = inputs.map((input, index) => {\n                if (audioNodeConnections.activeInputs[index].size === 0) {\n                    return [];\n                }\n                return input;\n            });\n            const activeSourceFlag = exposeCurrentFrameAndCurrentTime(i / nativeOfflineAudioContext.sampleRate, nativeOfflineAudioContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n            if (processedBuffer !== null) {\n                for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                    for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                        copyToChannel(processedBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[j];\n                }\n            }\n            if (!activeSourceFlag) {\n                break;\n            }\n        }\n        catch (error) {\n            proxy.dispatchEvent(new ErrorEvent('processorerror', {\n                colno: error.colno,\n                filename: error.filename,\n                lineno: error.lineno,\n                message: error.message\n            }));\n            break;\n        }\n    }\n    return processedBuffer;\n};\nexport const createAudioWorkletNodeRendererFactory = (connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext) => {\n    return (name, options, processorConstructor) => {\n        const renderedNativeAudioNodes = new WeakMap();\n        let processedBufferPromise = null;\n        const createAudioNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeAudioWorkletNode = getNativeAudioNode(proxy);\n            let nativeOutputNodes = null;\n            const nativeAudioWorkletNodeIsOwnedByContext = isOwnedByContext(nativeAudioWorkletNode, nativeOfflineAudioContext);\n            const outputChannelCount = Array.isArray(options.outputChannelCount)\n                ? options.outputChannelCount\n                : Array.from(options.outputChannelCount);\n            // Bug #61: Only Chrome, Edge & Firefox have an implementation of the AudioWorkletNode yet.\n            if (nativeAudioWorkletNodeConstructor === null) {\n                const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n                const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeOfflineAudioContext, {\n                    channelCount: Math.max(1, numberOfOutputChannels),\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    numberOfOutputs: Math.max(1, numberOfOutputChannels)\n                });\n                const outputChannelMergerNodes = [];\n                for (let i = 0; i < proxy.numberOfOutputs; i += 1) {\n                    outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeOfflineAudioContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'speakers',\n                        numberOfInputs: outputChannelCount[i]\n                    }));\n                }\n                const outputGainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                    channelCount: options.channelCount,\n                    channelCountMode: options.channelCountMode,\n                    channelInterpretation: options.channelInterpretation,\n                    gain: 1\n                });\n                outputGainNode.connect = connectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                outputGainNode.disconnect = disconnectMultipleOutputs.bind(null, outputChannelMergerNodes);\n                nativeOutputNodes = [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode];\n            }\n            else if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeOfflineAudioContext, name);\n            }\n            renderedNativeAudioNodes.set(nativeOfflineAudioContext, nativeOutputNodes === null ? nativeAudioWorkletNode : nativeOutputNodes[2]);\n            if (nativeOutputNodes !== null) {\n                if (processedBufferPromise === null) {\n                    if (processorConstructor === undefined) {\n                        throw new Error('Missing the processor constructor.');\n                    }\n                    if (nativeOfflineAudioContextConstructor === null) {\n                        throw new Error('Missing the native OfflineAudioContext constructor.');\n                    }\n                    // Bug #47: The AudioDestinationNode in Safari gets not initialized correctly.\n                    const numberOfInputChannels = proxy.channelCount * proxy.numberOfInputs;\n                    const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n                    const numberOfChannels = numberOfInputChannels + numberOfParameters;\n                    const renderBuffer = async () => {\n                        const partialOfflineAudioContext = new nativeOfflineAudioContextConstructor(numberOfChannels, \n                        // Ceil the length to the next full render quantum.\n                        // Bug #17: Safari does not yet expose the length.\n                        Math.ceil(proxy.context.length / 128) * 128, nativeOfflineAudioContext.sampleRate);\n                        const gainNodes = [];\n                        const inputChannelSplitterNodes = [];\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes.push(createNativeGainNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: options.channelCountMode,\n                                channelInterpretation: options.channelInterpretation,\n                                gain: 1\n                            }));\n                            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(partialOfflineAudioContext, {\n                                channelCount: options.channelCount,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                numberOfOutputs: options.channelCount\n                            }));\n                        }\n                        const constantSourceNodes = await Promise.all(Array.from(proxy.parameters.values()).map(async (audioParam) => {\n                            const constantSourceNode = createNativeConstantSourceNode(partialOfflineAudioContext, {\n                                channelCount: 1,\n                                channelCountMode: 'explicit',\n                                channelInterpretation: 'discrete',\n                                offset: audioParam.value\n                            });\n                            await renderAutomation(partialOfflineAudioContext, audioParam, constantSourceNode.offset);\n                            return constantSourceNode;\n                        }));\n                        const inputChannelMergerNode = createNativeChannelMergerNode(partialOfflineAudioContext, {\n                            channelCount: 1,\n                            channelCountMode: 'explicit',\n                            channelInterpretation: 'speakers',\n                            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n                        });\n                        for (let i = 0; i < options.numberOfInputs; i += 1) {\n                            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n                            for (let j = 0; j < options.channelCount; j += 1) {\n                                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n                            }\n                        }\n                        for (const [index, constantSourceNode] of constantSourceNodes.entries()) {\n                            constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                            constantSourceNode.start(0);\n                        }\n                        inputChannelMergerNode.connect(partialOfflineAudioContext.destination);\n                        await Promise.all(gainNodes.map((gainNode) => renderInputsOfAudioNode(proxy, partialOfflineAudioContext, gainNode)));\n                        return renderNativeOfflineAudioContext(partialOfflineAudioContext);\n                    };\n                    processedBufferPromise = processBuffer(proxy, numberOfChannels === 0 ? null : await renderBuffer(), nativeOfflineAudioContext, options, outputChannelCount, processorConstructor, exposeCurrentFrameAndCurrentTime);\n                }\n                const processedBuffer = await processedBufferPromise;\n                const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeOfflineAudioContext, {\n                    buffer: null,\n                    channelCount: 2,\n                    channelCountMode: 'max',\n                    channelInterpretation: 'speakers',\n                    loop: false,\n                    loopEnd: 0,\n                    loopStart: 0,\n                    playbackRate: 1\n                });\n                const [outputChannelSplitterNode, outputChannelMergerNodes, outputGainNode] = nativeOutputNodes;\n                if (processedBuffer !== null) {\n                    audioBufferSourceNode.buffer = processedBuffer;\n                    audioBufferSourceNode.start(0);\n                }\n                audioBufferSourceNode.connect(outputChannelSplitterNode);\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < proxy.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n                return outputGainNode;\n            }\n            if (!nativeAudioWorkletNodeIsOwnedByContext) {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await renderAutomation(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            else {\n                for (const [nm, audioParam] of proxy.parameters.entries()) {\n                    await connectAudioParam(nativeOfflineAudioContext, audioParam, \n                    // @todo The definition that TypeScript uses of the AudioParamMap is lacking many methods.\n                    nativeAudioWorkletNode.parameters.get(nm));\n                }\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeAudioWorkletNode);\n            return nativeAudioWorkletNode;\n        };\n        return {\n            render(proxy, nativeOfflineAudioContext) {\n                deleteUnrenderedAudioWorkletNode(nativeOfflineAudioContext, proxy);\n                const renderedNativeAudioWorkletNodeOrGainNode = renderedNativeAudioNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeAudioWorkletNodeOrGainNode !== undefined) {\n                    return Promise.resolve(renderedNativeAudioWorkletNodeOrGainNode);\n                }\n                return createAudioNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=audio-worklet-node-renderer-factory.js.map","export const createCacheTestResult = (ongoingTests, testResults) => {\n    return (tester, test) => {\n        const cachedTestResult = testResults.get(tester);\n        if (cachedTestResult !== undefined) {\n            return cachedTestResult;\n        }\n        const ongoingTest = ongoingTests.get(tester);\n        if (ongoingTest !== undefined) {\n            return ongoingTest;\n        }\n        try {\n            const synchronousTestResult = test();\n            if (synchronousTestResult instanceof Promise) {\n                ongoingTests.set(tester, synchronousTestResult);\n                return synchronousTestResult\n                    .catch(() => false)\n                    .then((finalTestResult) => {\n                    ongoingTests.delete(tester);\n                    testResults.set(tester, finalTestResult);\n                    return finalTestResult;\n                });\n            }\n            testResults.set(tester, synchronousTestResult);\n            return synchronousTestResult;\n        }\n        catch {\n            testResults.set(tester, false);\n            return false;\n        }\n    };\n};\n//# sourceMappingURL=cache-test-result.js.map","export const createConnectAudioParam = (renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=connect-audio-param.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nexport const createConnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destination, output = 0, input = 0) => {\n        const outputAudioNode = outputAudioNodes[output];\n        if (outputAudioNode === undefined) {\n            throw createIndexSizeError();\n        }\n        if (isNativeAudioNode(destination)) {\n            return outputAudioNode.connect(destination, 0, input);\n        }\n        return outputAudioNode.connect(destination, 0);\n    };\n};\n//# sourceMappingURL=connect-multiple-outputs.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { isActiveAudioNode } from '../helpers/is-active-audio-node';\nimport { setInternalStateToActive } from '../helpers/set-internal-state-to-active';\nimport { setInternalStateToPassive } from '../helpers/set-internal-state-to-passive';\nconst DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    offset: 1\n};\nexport const createConstantSourceNodeConstructor = (audioNodeConstructor, createAudioParam, createConstantSourceNodeRendererFactory, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener) => {\n    return class ConstantSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeConstantSourceNode = createNativeConstantSourceNode(nativeContext, mergedOptions);\n            const isOffline = isNativeOfflineAudioContext(nativeContext);\n            const constantSourceNodeRenderer = ((isOffline ? createConstantSourceNodeRendererFactory() : null));\n            super(context, false, nativeConstantSourceNode, constantSourceNodeRenderer);\n            this._constantSourceNodeRenderer = constantSourceNodeRenderer;\n            this._nativeConstantSourceNode = nativeConstantSourceNode;\n            /*\n             * Bug #62 & #74: Safari does not support ConstantSourceNodes and does not export the correct values for maxValue and minValue\n             * for GainNodes.\n             */\n            this._offset = createAudioParam(this, isOffline, nativeConstantSourceNode.offset, MOST_POSITIVE_SINGLE_FLOAT, MOST_NEGATIVE_SINGLE_FLOAT);\n            this._onended = null;\n        }\n        get offset() {\n            return this._offset;\n        }\n        get onended() {\n            return this._onended;\n        }\n        set onended(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeConstantSourceNode.onended = wrappedListener;\n            const nativeOnEnded = this._nativeConstantSourceNode.onended;\n            this._onended = nativeOnEnded !== null && nativeOnEnded === wrappedListener ? value : nativeOnEnded;\n        }\n        start(when = 0) {\n            this._nativeConstantSourceNode.start(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.start = when;\n            }\n            if (this.context.state !== 'closed') {\n                setInternalStateToActive(this);\n                const resetInternalStateToPassive = () => {\n                    this._nativeConstantSourceNode.removeEventListener('ended', resetInternalStateToPassive);\n                    if (isActiveAudioNode(this)) {\n                        setInternalStateToPassive(this);\n                    }\n                };\n                this._nativeConstantSourceNode.addEventListener('ended', resetInternalStateToPassive);\n            }\n        }\n        stop(when = 0) {\n            this._nativeConstantSourceNode.stop(when);\n            if (this._constantSourceNodeRenderer !== null) {\n                this._constantSourceNodeRenderer.stop = when;\n            }\n        }\n    };\n};\n//# sourceMappingURL=constant-source-node-constructor.js.map","import { isOwnedByContext } from '../helpers/is-owned-by-context';\nexport const createConstantSourceNodeRendererFactory = (connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode) => {\n    return () => {\n        const renderedNativeConstantSourceNodes = new WeakMap();\n        let start = null;\n        let stop = null;\n        const createConstantSourceNode = async (proxy, nativeOfflineAudioContext) => {\n            let nativeConstantSourceNode = getNativeAudioNode(proxy);\n            /*\n             * If the initially used nativeConstantSourceNode was not constructed on the same OfflineAudioContext it needs to be created\n             * again.\n             */\n            const nativeConstantSourceNodeIsOwnedByContext = isOwnedByContext(nativeConstantSourceNode, nativeOfflineAudioContext);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                const options = {\n                    channelCount: nativeConstantSourceNode.channelCount,\n                    channelCountMode: nativeConstantSourceNode.channelCountMode,\n                    channelInterpretation: nativeConstantSourceNode.channelInterpretation,\n                    offset: nativeConstantSourceNode.offset.value\n                };\n                nativeConstantSourceNode = createNativeConstantSourceNode(nativeOfflineAudioContext, options);\n                if (start !== null) {\n                    nativeConstantSourceNode.start(start);\n                }\n                if (stop !== null) {\n                    nativeConstantSourceNode.stop(stop);\n                }\n            }\n            renderedNativeConstantSourceNodes.set(nativeOfflineAudioContext, nativeConstantSourceNode);\n            if (!nativeConstantSourceNodeIsOwnedByContext) {\n                await renderAutomation(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            else {\n                await connectAudioParam(nativeOfflineAudioContext, proxy.offset, nativeConstantSourceNode.offset);\n            }\n            await renderInputsOfAudioNode(proxy, nativeOfflineAudioContext, nativeConstantSourceNode);\n            return nativeConstantSourceNode;\n        };\n        return {\n            set start(value) {\n                start = value;\n            },\n            set stop(value) {\n                stop = value;\n            },\n            render(proxy, nativeOfflineAudioContext) {\n                const renderedNativeConstantSourceNode = renderedNativeConstantSourceNodes.get(nativeOfflineAudioContext);\n                if (renderedNativeConstantSourceNode !== undefined) {\n                    return Promise.resolve(renderedNativeConstantSourceNode);\n                }\n                return createConstantSourceNode(proxy, nativeOfflineAudioContext);\n            }\n        };\n    };\n};\n//# sourceMappingURL=constant-source-node-renderer-factory.js.map","export const createConvertNumberToUnsignedLong = (unit32Array) => {\n    return (value) => {\n        unit32Array[0] = value;\n        return unit32Array[0];\n    };\n};\n//# sourceMappingURL=convert-number-to-unsigned-long.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createDecrementCycleCounter = (connectNativeAudioNodeToNativeAudioNode, cycleCounters, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext) => {\n    return (audioNode, count) => {\n        const cycleCounter = cycleCounters.get(audioNode);\n        if (cycleCounter === undefined) {\n            throw new Error('Missing the expected cycle count.');\n        }\n        const nativeContext = getNativeContext(audioNode.context);\n        const isOffline = isNativeOfflineAudioContext(nativeContext);\n        if (cycleCounter === count) {\n            cycleCounters.delete(audioNode);\n            if (!isOffline && isActiveAudioNode(audioNode)) {\n                const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                const { outputs } = getAudioNodeConnections(audioNode);\n                for (const output of outputs) {\n                    if (isAudioNodeOutputConnection(output)) {\n                        const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                        connectNativeAudioNodeToNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                    }\n                    else {\n                        const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                        nativeSourceAudioNode.connect(nativeDestinationAudioParam, output[1]);\n                    }\n                }\n            }\n        }\n        else {\n            cycleCounters.set(audioNode, cycleCounter - count);\n        }\n    };\n};\n//# sourceMappingURL=decrement-cycle-counter.js.map","export const createDeleteActiveInputConnectionToAudioNode = (pickElementFromSet) => {\n    return (activeInputs, source, output, input) => {\n        return pickElementFromSet(activeInputs[input], (activeInputConnection) => activeInputConnection[0] === source && activeInputConnection[1] === output);\n    };\n};\n//# sourceMappingURL=delete-active-input-connection-to-audio-node.js.map","export const createDeleteUnrenderedAudioWorkletNode = (getUnrenderedAudioWorkletNodes) => {\n    return (nativeContext, audioWorkletNode) => {\n        getUnrenderedAudioWorkletNodes(nativeContext).delete(audioWorkletNode);\n    };\n};\n//# sourceMappingURL=delete-unrendered-audio-worklet-node.js.map","export const isDelayNode = (audioNode) => {\n    return 'delayTime' in audioNode;\n};\n//# sourceMappingURL=delay-node.js.map","import { isAudioNode } from '../guards/audio-node';\nimport { isDelayNode } from '../guards/delay-node';\nexport const createDetectCycles = (audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey) => {\n    return function detectCycles(chain, nextLink) {\n        const audioNode = isAudioNode(nextLink) ? nextLink : getValueForKey(audioParamAudioNodeStore, nextLink);\n        if (isDelayNode(audioNode)) {\n            return [];\n        }\n        if (chain[0] === audioNode) {\n            return [chain];\n        }\n        if (chain.includes(audioNode)) {\n            return [];\n        }\n        const { outputs } = getAudioNodeConnections(audioNode);\n        return Array.from(outputs)\n            .map((outputConnection) => detectCycles([...chain, audioNode], outputConnection[0]))\n            .reduce((mergedCycles, nestedCycles) => mergedCycles.concat(nestedCycles), []);\n    };\n};\n//# sourceMappingURL=detect-cycles.js.map","import { isNativeAudioNode } from '../guards/native-audio-node';\nconst getOutputAudioNodeAtIndex = (createIndexSizeError, outputAudioNodes, output) => {\n    const outputAudioNode = outputAudioNodes[output];\n    if (outputAudioNode === undefined) {\n        throw createIndexSizeError();\n    }\n    return outputAudioNode;\n};\nexport const createDisconnectMultipleOutputs = (createIndexSizeError) => {\n    return (outputAudioNodes, destinationOrOutput = undefined, output = undefined, input = 0) => {\n        if (destinationOrOutput === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect());\n        }\n        if (typeof destinationOrOutput === 'number') {\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, destinationOrOutput).disconnect();\n        }\n        if (isNativeAudioNode(destinationOrOutput)) {\n            if (output === undefined) {\n                return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n            }\n            if (input === undefined) {\n                return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n            }\n            return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0, input);\n        }\n        if (output === undefined) {\n            return outputAudioNodes.forEach((outputAudioNode) => outputAudioNode.disconnect(destinationOrOutput));\n        }\n        return getOutputAudioNodeAtIndex(createIndexSizeError, outputAudioNodes, output).disconnect(destinationOrOutput, 0);\n    };\n};\n//# sourceMappingURL=disconnect-multiple-outputs.js.map","export const createEvaluateSource = (window) => {\n    return (source) => new Promise((resolve, reject) => {\n        if (window === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n            return;\n        }\n        const head = window.document.head;\n        if (head === null) {\n            // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n            reject(new SyntaxError());\n        }\n        else {\n            const script = window.document.createElement('script');\n            // @todo Safari doesn't like URLs with a type of 'application/javascript; charset=utf-8'.\n            const blob = new Blob([source], { type: 'application/javascript' });\n            const url = URL.createObjectURL(blob);\n            const originalOnErrorHandler = window.onerror;\n            const removeErrorEventListenerAndRevokeUrl = () => {\n                window.onerror = originalOnErrorHandler;\n                URL.revokeObjectURL(url);\n            };\n            window.onerror = (message, src, lineno, colno, error) => {\n                // @todo Edge thinks the source is the one of the html document.\n                if (src === url || (src === window.location.href && lineno === 1 && colno === 1)) {\n                    removeErrorEventListenerAndRevokeUrl();\n                    reject(error);\n                    return false;\n                }\n                if (originalOnErrorHandler !== null) {\n                    return originalOnErrorHandler(message, src, lineno, colno, error);\n                }\n            };\n            script.onerror = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                // Bug #182 Chrome and Edge do throw an instance of a SyntaxError instead of a DOMException.\n                reject(new SyntaxError());\n            };\n            script.onload = () => {\n                removeErrorEventListenerAndRevokeUrl();\n                resolve();\n            };\n            script.src = url;\n            script.type = 'module';\n            head.appendChild(script);\n        }\n    });\n};\n//# sourceMappingURL=evaluate-source.js.map","export const createEventTargetConstructor = (wrapEventListener) => {\n    return class EventTarget {\n        constructor(_nativeEventTarget) {\n            this._nativeEventTarget = _nativeEventTarget;\n            this._listeners = new WeakMap();\n        }\n        addEventListener(type, listener, options) {\n            if (listener !== null) {\n                let wrappedEventListener = this._listeners.get(listener);\n                if (wrappedEventListener === undefined) {\n                    wrappedEventListener = wrapEventListener(this, listener);\n                    if (typeof listener === 'function') {\n                        this._listeners.set(listener, wrappedEventListener);\n                    }\n                }\n                this._nativeEventTarget.addEventListener(type, wrappedEventListener, options);\n            }\n        }\n        dispatchEvent(event) {\n            return this._nativeEventTarget.dispatchEvent(event);\n        }\n        removeEventListener(type, listener, options) {\n            const wrappedEventListener = listener === null ? undefined : this._listeners.get(listener);\n            this._nativeEventTarget.removeEventListener(type, wrappedEventListener === undefined ? null : wrappedEventListener, options);\n        }\n    };\n};\n//# sourceMappingURL=event-target-constructor.js.map","export const createExposeCurrentFrameAndCurrentTime = (window) => {\n    return (currentTime, sampleRate, fn) => {\n        Object.defineProperties(window, {\n            currentFrame: {\n                configurable: true,\n                get() {\n                    return Math.round(currentTime * sampleRate);\n                }\n            },\n            currentTime: {\n                configurable: true,\n                get() {\n                    return currentTime;\n                }\n            }\n        });\n        try {\n            return fn();\n        }\n        finally {\n            if (window !== null) {\n                delete window.currentFrame;\n                delete window.currentTime;\n            }\n        }\n    };\n};\n//# sourceMappingURL=expose-current-frame-and-current-time.js.map","export const createFetchSource = (createAbortError) => {\n    return async (url) => {\n        try {\n            const response = await fetch(url);\n            if (response.ok) {\n                return [await response.text(), response.url];\n            }\n        }\n        catch {\n            // Ignore errors.\n        } // tslint:disable-line:no-empty\n        throw createAbortError();\n    };\n};\n//# sourceMappingURL=fetch-source.js.map","export const createGetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore, getValueForKey) => {\n    return (nativeAudioWorkletNode) => getValueForKey(activeAudioWorkletNodeInputsStore, nativeAudioWorkletNode);\n};\n//# sourceMappingURL=get-active-audio-worklet-node-inputs.js.map","export const createGetAudioNodeRenderer = (getAudioNodeConnections) => {\n    return (audioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        if (audioNodeConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioNode in the audio graph.');\n        }\n        return audioNodeConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-node-renderer.js.map","export const createGetAudioNodeTailTime = (audioNodeTailTimeStore) => {\n    return (audioNode) => { var _a; return (_a = audioNodeTailTimeStore.get(audioNode)) !== null && _a !== void 0 ? _a : 0; };\n};\n//# sourceMappingURL=get-audio-node-tail-time.js.map","export const createGetAudioParamRenderer = (getAudioParamConnections) => {\n    return (audioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        if (audioParamConnections.renderer === null) {\n            throw new Error('Missing the renderer of the given AudioParam in the audio graph.');\n        }\n        return audioParamConnections.renderer;\n    };\n};\n//# sourceMappingURL=get-audio-param-renderer.js.map","export const createGetBackupOfflineAudioContext = (backupOfflineAudioContextStore) => {\n    return (nativeContext) => {\n        return backupOfflineAudioContextStore.get(nativeContext);\n    };\n};\n//# sourceMappingURL=get-backup-offline-audio-context.js.map","export const createInvalidStateError = () => new DOMException('', 'InvalidStateError');\n//# sourceMappingURL=invalid-state-error.js.map","import { createInvalidStateError } from './invalid-state-error';\nexport const createGetNativeContext = (contextStore) => {\n    return (context) => {\n        const nativeContext = contextStore.get(context);\n        if (nativeContext === undefined) {\n            throw createInvalidStateError();\n        }\n        return (nativeContext);\n    };\n};\n//# sourceMappingURL=get-native-context.js.map","export const createGetOrCreateBackupOfflineAudioContext = (backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor) => {\n    return (nativeContext) => {\n        let backupOfflineAudioContext = backupOfflineAudioContextStore.get(nativeContext);\n        if (backupOfflineAudioContext !== undefined) {\n            return backupOfflineAudioContext;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            throw new Error('Missing the native OfflineAudioContext constructor.');\n        }\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        backupOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        backupOfflineAudioContextStore.set(nativeContext, backupOfflineAudioContext);\n        return backupOfflineAudioContext;\n    };\n};\n//# sourceMappingURL=get-or-create-backup-offline-audio-context.js.map","export const createGetUnrenderedAudioWorkletNodes = (unrenderedAudioWorkletNodeStore) => {\n    return (nativeContext) => {\n        const unrenderedAudioWorkletNodes = unrenderedAudioWorkletNodeStore.get(nativeContext);\n        if (unrenderedAudioWorkletNodes === undefined) {\n            throw new Error('The context has no set of AudioWorkletNodes.');\n        }\n        return unrenderedAudioWorkletNodes;\n    };\n};\n//# sourceMappingURL=get-unrendered-audio-worklet-nodes.js.map","export const createInvalidAccessError = () => new DOMException('', 'InvalidAccessError');\n//# sourceMappingURL=invalid-access-error.js.map","import { isAudioNodeOutputConnection } from '../guards/audio-node-output-connection';\nexport const createIncrementCycleCounterFactory = (cycleCounters, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode) => {\n    return (isOffline) => {\n        return (audioNode, count) => {\n            const cycleCounter = cycleCounters.get(audioNode);\n            if (cycleCounter === undefined) {\n                if (!isOffline && isActiveAudioNode(audioNode)) {\n                    const nativeSourceAudioNode = getNativeAudioNode(audioNode);\n                    const { outputs } = getAudioNodeConnections(audioNode);\n                    for (const output of outputs) {\n                        if (isAudioNodeOutputConnection(output)) {\n                            const nativeDestinationAudioNode = getNativeAudioNode(output[0]);\n                            disconnectNativeAudioNodeFromNativeAudioNode(nativeSourceAudioNode, nativeDestinationAudioNode, output[1], output[2]);\n                        }\n                        else {\n                            const nativeDestinationAudioParam = getNativeAudioParam(output[0]);\n                            nativeSourceAudioNode.disconnect(nativeDestinationAudioParam, output[1]);\n                        }\n                    }\n                }\n                cycleCounters.set(audioNode, count);\n            }\n            else {\n                cycleCounters.set(audioNode, cycleCounter + count);\n            }\n        };\n    };\n};\n//# sourceMappingURL=increment-cycle-counter-factory.js.map","export const createIsNativeAudioContext = (nativeAudioContextConstructor) => {\n    return (anything) => {\n        return nativeAudioContextConstructor !== null && anything instanceof nativeAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-audio-context.js.map","export const createIsNativeAudioNode = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioNode === 'function' && anything instanceof window.AudioNode;\n    };\n};\n//# sourceMappingURL=is-native-audio-node.js.map","export const createIsNativeAudioParam = (window) => {\n    return (anything) => {\n        return window !== null && typeof window.AudioParam === 'function' && anything instanceof window.AudioParam;\n    };\n};\n//# sourceMappingURL=is-native-audio-param.js.map","export const createIsNativeOfflineAudioContext = (nativeOfflineAudioContextConstructor) => {\n    return (anything) => {\n        return nativeOfflineAudioContextConstructor !== null && anything instanceof nativeOfflineAudioContextConstructor;\n    };\n};\n//# sourceMappingURL=is-native-offline-audio-context.js.map","export const createIsSecureContext = (window) => window !== null && window.isSecureContext;\n//# sourceMappingURL=is-secure-context.js.map","export const createMediaStreamAudioSourceNodeConstructor = (audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class MediaStreamAudioSourceNode extends audioNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const nativeMediaStreamAudioSourceNode = createNativeMediaStreamAudioSourceNode(nativeContext, options);\n            // Bug #172: Safari allows to create a MediaStreamAudioSourceNode with an OfflineAudioContext.\n            if (isNativeOfflineAudioContext(nativeContext)) {\n                throw new TypeError();\n            }\n            super(context, true, nativeMediaStreamAudioSourceNode, null);\n            this._nativeMediaStreamAudioSourceNode = nativeMediaStreamAudioSourceNode;\n        }\n        get mediaStream() {\n            return this._nativeMediaStreamAudioSourceNode.mediaStream;\n        }\n    };\n};\n//# sourceMappingURL=media-stream-audio-source-node-constructor.js.map","import { deactivateAudioGraph } from '../helpers/deactivate-audio-graph';\nimport { isValidLatencyHint } from '../helpers/is-valid-latency-hint';\nexport const createMinimalAudioContextConstructor = (createInvalidStateError, createNotSupportedError, createUnknownError, minimalBaseAudioContextConstructor, nativeAudioContextConstructor) => {\n    return class MinimalAudioContext extends minimalBaseAudioContextConstructor {\n        constructor(options = {}) {\n            if (nativeAudioContextConstructor === null) {\n                throw new Error('Missing the native AudioContext constructor.');\n            }\n            let nativeAudioContext;\n            try {\n                nativeAudioContext = new nativeAudioContextConstructor(options);\n            }\n            catch (err) {\n                // Bug #192 Safari does throw a SyntaxError if the sampleRate is not supported.\n                if (err.code === 12 && err.message === 'sampleRate is not in range') {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n            // Bug #131 Safari returns null when there are four other AudioContexts running already.\n            if (nativeAudioContext === null) {\n                throw createUnknownError();\n            }\n            // Bug #51 Only Chrome and Edge throw an error if the given latencyHint is invalid.\n            if (!isValidLatencyHint(options.latencyHint)) {\n                throw new TypeError(`The provided value '${options.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);\n            }\n            // Bug #150 Safari does not support setting the sampleRate.\n            if (options.sampleRate !== undefined && nativeAudioContext.sampleRate !== options.sampleRate) {\n                throw createNotSupportedError();\n            }\n            super(nativeAudioContext, 2);\n            const { latencyHint } = options;\n            const { sampleRate } = nativeAudioContext;\n            // @todo The values for 'balanced', 'interactive' and 'playback' are just copied from Chrome's implementation.\n            this._baseLatency =\n                typeof nativeAudioContext.baseLatency === 'number'\n                    ? nativeAudioContext.baseLatency\n                    : latencyHint === 'balanced'\n                        ? 512 / sampleRate\n                        : latencyHint === 'interactive' || latencyHint === undefined\n                            ? 256 / sampleRate\n                            : latencyHint === 'playback'\n                                ? 1024 / sampleRate\n                                : /*\n                                   * @todo The min (256) and max (16384) values are taken from the allowed bufferSize values of a\n                                   * ScriptProcessorNode.\n                                   */\n                                    (Math.max(2, Math.min(128, Math.round((latencyHint * sampleRate) / 128))) * 128) / sampleRate;\n            this._nativeAudioContext = nativeAudioContext;\n            // Bug #188: Safari will set the context's state to 'interrupted' in case the user switches tabs.\n            if (nativeAudioContextConstructor.name === 'webkitAudioContext') {\n                this._nativeGainNode = nativeAudioContext.createGain();\n                this._nativeOscillatorNode = nativeAudioContext.createOscillator();\n                this._nativeGainNode.gain.value = 1e-37;\n                this._nativeOscillatorNode.connect(this._nativeGainNode).connect(nativeAudioContext.destination);\n                this._nativeOscillatorNode.start();\n            }\n            else {\n                this._nativeGainNode = null;\n                this._nativeOscillatorNode = null;\n            }\n            this._state = null;\n            /*\n             * Bug #34: Chrome and Edge pretend to be running right away, but fire an onstatechange event when the state actually changes\n             * to 'running'.\n             */\n            if (nativeAudioContext.state === 'running') {\n                this._state = 'suspended';\n                const revokeState = () => {\n                    if (this._state === 'suspended') {\n                        this._state = null;\n                    }\n                    nativeAudioContext.removeEventListener('statechange', revokeState);\n                };\n                nativeAudioContext.addEventListener('statechange', revokeState);\n            }\n        }\n        get baseLatency() {\n            return this._baseLatency;\n        }\n        get state() {\n            return this._state !== null ? this._state : this._nativeAudioContext.state;\n        }\n        close() {\n            // Bug #35: Firefox does not throw an error if the AudioContext was closed before.\n            if (this.state === 'closed') {\n                return this._nativeAudioContext.close().then(() => {\n                    throw createInvalidStateError();\n                });\n            }\n            // Bug #34: If the state was set to suspended before it should be revoked now.\n            if (this._state === 'suspended') {\n                this._state = null;\n            }\n            return this._nativeAudioContext.close().then(() => {\n                if (this._nativeGainNode !== null && this._nativeOscillatorNode !== null) {\n                    this._nativeOscillatorNode.stop();\n                    this._nativeGainNode.disconnect();\n                    this._nativeOscillatorNode.disconnect();\n                }\n                deactivateAudioGraph(this);\n            });\n        }\n        resume() {\n            if (this._state === 'suspended') {\n                return new Promise((resolve, reject) => {\n                    const resolvePromise = () => {\n                        this._nativeAudioContext.removeEventListener('statechange', resolvePromise);\n                        if (this._nativeAudioContext.state === 'running') {\n                            resolve();\n                        }\n                        else {\n                            this.resume().then(resolve, reject);\n                        }\n                    };\n                    this._nativeAudioContext.addEventListener('statechange', resolvePromise);\n                });\n            }\n            return this._nativeAudioContext.resume().catch((err) => {\n                // Bug #55: Chrome and Edge do throw an InvalidAccessError instead of an InvalidStateError.\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined || err.code === 15) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n        suspend() {\n            return this._nativeAudioContext.suspend().catch((err) => {\n                // Bug #56: Safari invokes the catch handler but without an error.\n                if (err === undefined) {\n                    throw createInvalidStateError();\n                }\n                throw err;\n            });\n        }\n    };\n};\n//# sourceMappingURL=minimal-audio-context-constructor.js.map","import { CONTEXT_STORE } from '../globals';\nexport const createMinimalBaseAudioContextConstructor = (audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener) => {\n    return class MinimalBaseAudioContext extends eventTargetConstructor {\n        constructor(_nativeContext, numberOfChannels) {\n            super(_nativeContext);\n            this._nativeContext = _nativeContext;\n            CONTEXT_STORE.set(this, _nativeContext);\n            if (isNativeOfflineAudioContext(_nativeContext)) {\n                unrenderedAudioWorkletNodeStore.set(_nativeContext, new Set());\n            }\n            this._destination = new audioDestinationNodeConstructor(this, numberOfChannels);\n            this._listener = createAudioListener(this, _nativeContext);\n            this._onstatechange = null;\n        }\n        get currentTime() {\n            return this._nativeContext.currentTime;\n        }\n        get destination() {\n            return this._destination;\n        }\n        get listener() {\n            return this._listener;\n        }\n        get onstatechange() {\n            return this._onstatechange;\n        }\n        set onstatechange(value) {\n            const wrappedListener = typeof value === 'function' ? wrapEventListener(this, value) : null;\n            this._nativeContext.onstatechange = wrappedListener;\n            const nativeOnStateChange = this._nativeContext.onstatechange;\n            this._onstatechange = nativeOnStateChange !== null && nativeOnStateChange === wrappedListener ? value : nativeOnStateChange;\n        }\n        get sampleRate() {\n            return this._nativeContext.sampleRate;\n        }\n        get state() {\n            return this._nativeContext.state;\n        }\n    };\n};\n//# sourceMappingURL=minimal-base-audio-context-constructor.js.map","export const testPromiseSupport = (nativeContext) => {\n    // This 12 numbers represent the 48 bytes of an empty WAVE file with a single sample.\n    const uint32Array = new Uint32Array([1179011410, 40, 1163280727, 544501094, 16, 131073, 44100, 176400, 1048580, 1635017060, 4, 0]);\n    try {\n        // Bug #1: Safari requires a successCallback.\n        const promise = nativeContext.decodeAudioData(uint32Array.buffer, () => {\n            // Ignore the success callback.\n        });\n        if (promise === undefined) {\n            return false;\n        }\n        promise.catch(() => {\n            // Ignore rejected errors.\n        });\n        return true;\n    }\n    catch {\n        // Ignore errors.\n    }\n    return false;\n};\n//# sourceMappingURL=test-promise-support.js.map","export const createMonitorConnections = (insertElementInSet, isNativeAudioNode) => {\n    return (nativeAudioNode, whenConnected, whenDisconnected) => {\n        const connections = new Set();\n        nativeAudioNode.connect = ((connect) => {\n            // tslint:disable-next-line:invalid-void no-inferrable-types\n            return (destination, output = 0, input = 0) => {\n                const wasDisconnected = connections.size === 0;\n                if (isNativeAudioNode(destination)) {\n                    // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                    connect.call(nativeAudioNode, destination, output, input);\n                    insertElementInSet(connections, [destination, output, input], (connection) => connection[0] === destination && connection[1] === output && connection[2] === input, true);\n                    if (wasDisconnected) {\n                        whenConnected();\n                    }\n                    return destination;\n                }\n                connect.call(nativeAudioNode, destination, output);\n                insertElementInSet(connections, [destination, output], (connection) => connection[0] === destination && connection[1] === output, true);\n                if (wasDisconnected) {\n                    whenConnected();\n                }\n                return;\n            };\n        })(nativeAudioNode.connect);\n        nativeAudioNode.disconnect = ((disconnect) => {\n            return (destinationOrOutput, output, input) => {\n                const wasConnected = connections.size > 0;\n                if (destinationOrOutput === undefined) {\n                    disconnect.apply(nativeAudioNode);\n                    connections.clear();\n                }\n                else if (typeof destinationOrOutput === 'number') {\n                    // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n                    disconnect.call(nativeAudioNode, destinationOrOutput);\n                    for (const connection of connections) {\n                        if (connection[1] === destinationOrOutput) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                else {\n                    if (isNativeAudioNode(destinationOrOutput)) {\n                        // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output, input);\n                    }\n                    else {\n                        // @todo TypeScript cannot infer the overloaded signature with 2 arguments yet.\n                        disconnect.call(nativeAudioNode, destinationOrOutput, output);\n                    }\n                    for (const connection of connections) {\n                        if (connection[0] === destinationOrOutput &&\n                            (output === undefined || connection[1] === output) &&\n                            (input === undefined || connection[2] === input)) {\n                            connections.delete(connection);\n                        }\n                    }\n                }\n                const isDisconnected = connections.size === 0;\n                if (wasConnected && isDisconnected) {\n                    whenDisconnected();\n                }\n            };\n        })(nativeAudioNode.disconnect);\n        return nativeAudioNode;\n    };\n};\n//# sourceMappingURL=monitor-connections.js.map","export const assignNativeAudioNodeOption = (nativeAudioNode, options, option) => {\n    const value = options[option];\n    if (value !== undefined && value !== nativeAudioNode[option]) {\n        nativeAudioNode[option] = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-option.js.map","import { assignNativeAudioNodeOption } from './assign-native-audio-node-option';\nexport const assignNativeAudioNodeOptions = (nativeAudioNode, options) => {\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCount');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelCountMode');\n    assignNativeAudioNodeOption(nativeAudioNode, options, 'channelInterpretation');\n};\n//# sourceMappingURL=assign-native-audio-node-options.js.map","export const createNativeAudioBufferConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioBuffer')) {\n        return window.AudioBuffer;\n    }\n    return null;\n};\n//# sourceMappingURL=native-audio-buffer-constructor.js.map","export const assignNativeAudioNodeAudioParamValue = (nativeAudioNode, options, audioParam) => {\n    const value = options[audioParam];\n    if (value !== undefined && value !== nativeAudioNode[audioParam].value) {\n        nativeAudioNode[audioParam].value = value;\n    }\n};\n//# sourceMappingURL=assign-native-audio-node-audio-param-value.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapAudioBufferSourceNodeStartMethodConsecutiveCalls = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        let isScheduled = false;\n        return (when = 0, offset = 0, duration) => {\n            if (isScheduled) {\n                throw createInvalidStateError();\n            }\n            start.call(nativeAudioBufferSourceNode, when, offset, duration);\n            isScheduled = true;\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-consecutive-calls.js.map","export const wrapAudioScheduledSourceNodeStartMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            if ((typeof duration === 'number' && duration < 0) || offset < 0 || when < 0) {\n                throw new RangeError(\"The parameters can't be negative.\");\n            }\n            // @todo TypeScript cannot infer the overloaded signature with 3 arguments yet.\n            start.call(nativeAudioScheduledSourceNode, when, offset, duration);\n        };\n    })(nativeAudioScheduledSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-start-method-negative-parameters.js.map","export const wrapAudioScheduledSourceNodeStopMethodNegativeParameters = (nativeAudioScheduledSourceNode) => {\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        return (when = 0) => {\n            if (when < 0) {\n                throw new RangeError(\"The parameter can't be negative.\");\n            }\n            stop.call(nativeAudioScheduledSourceNode, when);\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-negative-parameters.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOption } from '../helpers/assign-native-audio-node-option';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioBufferSourceNodeStartMethodConsecutiveCalls } from '../helpers/wrap-audio-buffer-source-node-start-method-consecutive-calls';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeAudioBufferSourceNodeFactory = (addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClampling, wrapAudioBufferSourceNodeStopMethodNullifiedBuffer, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls) => {\n    return (nativeContext, options) => {\n        const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n        assignNativeAudioNodeOptions(nativeAudioBufferSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeAudioBufferSourceNode, options, 'playbackRate');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'buffer');\n        // Bug #149: Safari does not yet support the detune AudioParam.\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loop');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopEnd');\n        assignNativeAudioNodeOption(nativeAudioBufferSourceNode, options, 'loopStart');\n        // Bug #69: Safari does allow calls to start() of an already scheduled AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, () => testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(nativeAudioBufferSourceNode);\n        }\n        // Bug #154 & #155: Safari does not handle offsets which are equal to or greater than the duration of the buffer.\n        if (!cacheTestResult(testAudioBufferSourceNodeStartMethodOffsetClampingSupport, () => testAudioBufferSourceNodeStartMethodOffsetClampingSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStartMethodOffsetClampling(nativeAudioBufferSourceNode);\n        }\n        // Bug #162: Safari does throw an error when stop() is called on an AudioBufferSourceNode which has no buffer assigned to it.\n        if (!cacheTestResult(testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, () => testAudioBufferSourceNodeStopMethodNullifiedBufferSupport(nativeContext))) {\n            wrapAudioBufferSourceNodeStopMethodNullifiedBuffer(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #19: Safari does not ignore calls to stop() of an already stopped AudioBufferSourceNode.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, () => testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls(nativeAudioBufferSourceNode, nativeContext);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeAudioBufferSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeAudioBufferSourceNode);\n        return nativeAudioBufferSourceNode;\n    };\n};\n//# sourceMappingURL=native-audio-buffer-source-node-factory.js.map","export const createNativeAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('AudioContext')) {\n        return window.AudioContext;\n    }\n    return window.hasOwnProperty('webkitAudioContext') ? window.webkitAudioContext : null;\n};\n//# sourceMappingURL=native-audio-context-constructor.js.map","export const createNativeAudioDestinationNodeFactory = (createNativeGainNode, overwriteAccessors) => {\n    return (nativeContext, channelCount, isNodeOfNativeOfflineAudioContext) => {\n        const nativeAudioDestinationNode = nativeContext.destination;\n        // Bug #132: Safari does not have the correct channelCount.\n        if (nativeAudioDestinationNode.channelCount !== channelCount) {\n            try {\n                nativeAudioDestinationNode.channelCount = channelCount;\n            }\n            catch {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n            }\n        }\n        // Bug #83: Safari does not have the correct channelCountMode.\n        if (isNodeOfNativeOfflineAudioContext && nativeAudioDestinationNode.channelCountMode !== 'explicit') {\n            nativeAudioDestinationNode.channelCountMode = 'explicit';\n        }\n        // Bug #47: The AudioDestinationNode in Safari does not initialize the maxChannelCount property correctly.\n        if (nativeAudioDestinationNode.maxChannelCount === 0) {\n            Object.defineProperty(nativeAudioDestinationNode, 'maxChannelCount', {\n                value: channelCount\n            });\n        }\n        // Bug #168: No browser does yet have an AudioDestinationNode with an output.\n        const gainNode = createNativeGainNode(nativeContext, {\n            channelCount,\n            channelCountMode: nativeAudioDestinationNode.channelCountMode,\n            channelInterpretation: nativeAudioDestinationNode.channelInterpretation,\n            gain: 1\n        });\n        overwriteAccessors(gainNode, 'channelCount', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            try {\n                nativeAudioDestinationNode.channelCount = value;\n            }\n            catch (err) {\n                // Bug #169: Safari throws an error on each attempt to change the channelCount.\n                if (value > nativeAudioDestinationNode.maxChannelCount) {\n                    throw err;\n                }\n            }\n        });\n        overwriteAccessors(gainNode, 'channelCountMode', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelCountMode = value;\n        });\n        overwriteAccessors(gainNode, 'channelInterpretation', (get) => () => get.call(gainNode), (set) => (value) => {\n            set.call(gainNode, value);\n            nativeAudioDestinationNode.channelInterpretation = value;\n        });\n        Object.defineProperty(gainNode, 'maxChannelCount', {\n            get: () => nativeAudioDestinationNode.maxChannelCount\n        });\n        // @todo This should be disconnected when the context is closed.\n        gainNode.connect(nativeAudioDestinationNode);\n        return gainNode;\n    };\n};\n//# sourceMappingURL=native-audio-destination-node.js.map","export const createNativeAudioWorkletNodeConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    return window.hasOwnProperty('AudioWorkletNode') ? window.AudioWorkletNode : null;\n};\n//# sourceMappingURL=native-audio-worklet-node-constructor.js.map","export const testClonabilityOfAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    const { port1 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n    }\n};\n//# sourceMappingURL=test-clonability-of-audio-worklet-node-options.js.map","import { testClonabilityOfAudioWorkletNodeOptions } from '../helpers/test-clonability-of-audio-worklet-node-options';\nexport const createNativeAudioWorkletNodeFactory = (createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections) => {\n    return (nativeContext, baseLatency, nativeAudioWorkletNodeConstructor, name, processorConstructor, options) => {\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            try {\n                const nativeAudioWorkletNode = new nativeAudioWorkletNodeConstructor(nativeContext, name, options);\n                const patchedEventListeners = new Map();\n                let onprocessorerror = null;\n                Object.defineProperties(nativeAudioWorkletNode, {\n                    /*\n                     * Bug #61: Overwriting the property accessors for channelCount and channelCountMode is necessary as long as some\n                     * browsers have no native implementation to achieve a consistent behavior.\n                     */\n                    channelCount: {\n                        get: () => options.channelCount,\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    channelCountMode: {\n                        get: () => 'explicit',\n                        set: () => {\n                            throw createInvalidStateError();\n                        }\n                    },\n                    // Bug #156: Chrome and Edge do not yet fire an ErrorEvent.\n                    onprocessorerror: {\n                        get: () => onprocessorerror,\n                        set: (value) => {\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.removeEventListener('processorerror', onprocessorerror);\n                            }\n                            onprocessorerror = typeof value === 'function' ? value : null;\n                            if (typeof onprocessorerror === 'function') {\n                                nativeAudioWorkletNode.addEventListener('processorerror', onprocessorerror);\n                            }\n                        }\n                    }\n                });\n                nativeAudioWorkletNode.addEventListener = ((addEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const unpatchedEventListener = typeof args[1] === 'function'\n                                ? args[1]\n                                : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                                    ? args[1].handleEvent\n                                    : null;\n                            if (unpatchedEventListener !== null) {\n                                const patchedEventListener = patchedEventListeners.get(args[1]);\n                                if (patchedEventListener !== undefined) {\n                                    args[1] = patchedEventListener;\n                                }\n                                else {\n                                    args[1] = (event) => {\n                                        // Bug #178: Chrome and Edge do fire an event of type error.\n                                        if (event.type === 'error') {\n                                            Object.defineProperties(event, {\n                                                type: { value: 'processorerror' }\n                                            });\n                                            unpatchedEventListener(event);\n                                        }\n                                        else {\n                                            unpatchedEventListener(new ErrorEvent(args[0], { ...event }));\n                                        }\n                                    };\n                                    patchedEventListeners.set(unpatchedEventListener, args[1]);\n                                }\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        addEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return addEventListener.call(nativeAudioWorkletNode, ...args);\n                    };\n                })(nativeAudioWorkletNode.addEventListener);\n                nativeAudioWorkletNode.removeEventListener = ((removeEventListener) => {\n                    return (...args) => {\n                        if (args[0] === 'processorerror') {\n                            const patchedEventListener = patchedEventListeners.get(args[1]);\n                            if (patchedEventListener !== undefined) {\n                                patchedEventListeners.delete(args[1]);\n                                args[1] = patchedEventListener;\n                            }\n                        }\n                        // Bug #178: Chrome and Edge do fire an event of type error.\n                        removeEventListener.call(nativeAudioWorkletNode, 'error', args[1], args[2]);\n                        return removeEventListener.call(nativeAudioWorkletNode, args[0], args[1], args[2]);\n                    };\n                })(nativeAudioWorkletNode.removeEventListener);\n                /*\n                 * Bug #86: Chrome and Edge do not invoke the process() function if the corresponding AudioWorkletNode is unconnected but\n                 * has an output.\n                 */\n                if (options.numberOfOutputs !== 0) {\n                    const nativeGainNode = createNativeGainNode(nativeContext, {\n                        channelCount: 1,\n                        channelCountMode: 'explicit',\n                        channelInterpretation: 'discrete',\n                        gain: 0\n                    });\n                    nativeAudioWorkletNode.connect(nativeGainNode).connect(nativeContext.destination);\n                    const whenConnected = () => nativeGainNode.disconnect();\n                    const whenDisconnected = () => nativeGainNode.connect(nativeContext.destination);\n                    // @todo Disconnect the connection when the process() function of the AudioWorkletNode returns false.\n                    return monitorConnections(nativeAudioWorkletNode, whenConnected, whenDisconnected);\n                }\n                return nativeAudioWorkletNode;\n            }\n            catch (err) {\n                // Bug #60: Chrome & Edge throw an InvalidStateError instead of a NotSupportedError.\n                if (err.code === 11) {\n                    throw createNotSupportedError();\n                }\n                throw err;\n            }\n        }\n        // Bug #61: Only Chrome & Edge have an implementation of the AudioWorkletNode yet.\n        if (processorConstructor === undefined) {\n            throw createNotSupportedError();\n        }\n        testClonabilityOfAudioWorkletNodeOptions(options);\n        return createNativeAudioWorkletNodeFaker(nativeContext, baseLatency, processorConstructor, options);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-factory.js.map","export const computeBufferSize = (baseLatency, sampleRate) => {\n    if (baseLatency === null) {\n        return 512;\n    }\n    return Math.max(512, Math.min(16384, Math.pow(2, Math.round(Math.log2(baseLatency * sampleRate)))));\n};\n//# sourceMappingURL=compute-buffer-size.js.map","export const cloneAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    return new Promise((resolve, reject) => {\n        const { port1, port2 } = new MessageChannel();\n        port1.onmessage = ({ data }) => {\n            port1.close();\n            port2.close();\n            resolve(data);\n        };\n        port1.onmessageerror = ({ data }) => {\n            port1.close();\n            port2.close();\n            reject(data);\n        };\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port2.postMessage(audioWorkletNodeOptions);\n    });\n};\n//# sourceMappingURL=clone-audio-worklet-node-options.js.map","import { cloneAudioWorkletNodeOptions } from './clone-audio-worklet-node-options';\nexport const createAudioWorkletProcessorPromise = async (processorConstructor, audioWorkletNodeOptions) => {\n    const clonedAudioWorkletNodeOptions = await cloneAudioWorkletNodeOptions(audioWorkletNodeOptions);\n    return new processorConstructor(clonedAudioWorkletNodeOptions);\n};\n//# sourceMappingURL=create-audio-worklet-processor-promise.js.map","import { NODE_TO_PROCESSOR_MAPS } from '../globals';\nimport { createAudioWorkletProcessorPromise } from './create-audio-worklet-processor-promise';\nexport const createAudioWorkletProcessor = (nativeContext, nativeAudioWorkletNode, processorConstructor, audioWorkletNodeOptions) => {\n    let nodeToProcessorMap = NODE_TO_PROCESSOR_MAPS.get(nativeContext);\n    if (nodeToProcessorMap === undefined) {\n        nodeToProcessorMap = new WeakMap();\n        NODE_TO_PROCESSOR_MAPS.set(nativeContext, nodeToProcessorMap);\n    }\n    const audioWorkletProcessorPromise = createAudioWorkletProcessorPromise(processorConstructor, audioWorkletNodeOptions);\n    nodeToProcessorMap.set(nativeAudioWorkletNode, audioWorkletProcessorPromise);\n    return audioWorkletProcessorPromise;\n};\n//# sourceMappingURL=create-audio-worklet-processor.js.map","import { MOST_NEGATIVE_SINGLE_FLOAT, MOST_POSITIVE_SINGLE_FLOAT } from '../constants';\nimport { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { copyFromChannel } from '../helpers/copy-from-channel';\nimport { copyToChannel } from '../helpers/copy-to-channel';\nimport { createAudioWorkletProcessor } from '../helpers/create-audio-worklet-processor';\nimport { createNestedArrays } from '../helpers/create-nested-arrays';\nimport { ReadOnlyMap } from '../read-only-map';\nexport const createNativeAudioWorkletNodeFakerFactory = (connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections) => {\n    return (nativeContext, baseLatency, processorConstructor, options) => {\n        if (options.numberOfInputs === 0 && options.numberOfOutputs === 0) {\n            throw createNotSupportedError();\n        }\n        const outputChannelCount = Array.isArray(options.outputChannelCount)\n            ? options.outputChannelCount\n            : Array.from(options.outputChannelCount);\n        // @todo Check if any of the channelCount values is greater than the implementation's maximum number of channels.\n        if (outputChannelCount.some((channelCount) => channelCount < 1)) {\n            throw createNotSupportedError();\n        }\n        if (outputChannelCount.length !== options.numberOfOutputs) {\n            throw createIndexSizeError();\n        }\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (options.channelCountMode !== 'explicit') {\n            throw createNotSupportedError();\n        }\n        const numberOfInputChannels = options.channelCount * options.numberOfInputs;\n        const numberOfOutputChannels = outputChannelCount.reduce((sum, value) => sum + value, 0);\n        const numberOfParameters = processorConstructor.parameterDescriptors === undefined ? 0 : processorConstructor.parameterDescriptors.length;\n        // Bug #61: This is not part of the standard but required for the faker to work.\n        if (numberOfInputChannels + numberOfParameters > 6 || numberOfOutputChannels > 6) {\n            throw createNotSupportedError();\n        }\n        const messageChannel = new MessageChannel();\n        const gainNodes = [];\n        const inputChannelSplitterNodes = [];\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes.push(createNativeGainNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: options.channelCountMode,\n                channelInterpretation: options.channelInterpretation,\n                gain: 1\n            }));\n            inputChannelSplitterNodes.push(createNativeChannelSplitterNode(nativeContext, {\n                channelCount: options.channelCount,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                numberOfOutputs: options.channelCount\n            }));\n        }\n        const constantSourceNodes = [];\n        if (processorConstructor.parameterDescriptors !== undefined) {\n            for (const { defaultValue, maxValue, minValue, name } of processorConstructor.parameterDescriptors) {\n                const constantSourceNode = createNativeConstantSourceNode(nativeContext, {\n                    channelCount: 1,\n                    channelCountMode: 'explicit',\n                    channelInterpretation: 'discrete',\n                    offset: options.parameterData[name] !== undefined\n                        ? options.parameterData[name]\n                        : defaultValue === undefined\n                            ? 0\n                            : defaultValue\n                });\n                Object.defineProperties(constantSourceNode.offset, {\n                    defaultValue: {\n                        get: () => (defaultValue === undefined ? 0 : defaultValue)\n                    },\n                    maxValue: {\n                        get: () => (maxValue === undefined ? MOST_POSITIVE_SINGLE_FLOAT : maxValue)\n                    },\n                    minValue: {\n                        get: () => (minValue === undefined ? MOST_NEGATIVE_SINGLE_FLOAT : minValue)\n                    }\n                });\n                constantSourceNodes.push(constantSourceNode);\n            }\n        }\n        const inputChannelMergerNode = createNativeChannelMergerNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'speakers',\n            numberOfInputs: Math.max(1, numberOfInputChannels + numberOfParameters)\n        });\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, numberOfInputChannels + numberOfParameters, \n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        Math.max(1, numberOfOutputChannels));\n        const outputChannelSplitterNode = createNativeChannelSplitterNode(nativeContext, {\n            channelCount: Math.max(1, numberOfOutputChannels),\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            numberOfOutputs: Math.max(1, numberOfOutputChannels)\n        });\n        const outputChannelMergerNodes = [];\n        for (let i = 0; i < options.numberOfOutputs; i += 1) {\n            outputChannelMergerNodes.push(createNativeChannelMergerNode(nativeContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'speakers',\n                numberOfInputs: outputChannelCount[i]\n            }));\n        }\n        for (let i = 0; i < options.numberOfInputs; i += 1) {\n            gainNodes[i].connect(inputChannelSplitterNodes[i]);\n            for (let j = 0; j < options.channelCount; j += 1) {\n                inputChannelSplitterNodes[i].connect(inputChannelMergerNode, j, i * options.channelCount + j);\n            }\n        }\n        const parameterMap = new ReadOnlyMap(processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.map(({ name }, index) => {\n                const constantSourceNode = constantSourceNodes[index];\n                constantSourceNode.connect(inputChannelMergerNode, 0, numberOfInputChannels + index);\n                constantSourceNode.start(0);\n                return [name, constantSourceNode.offset];\n            }));\n        inputChannelMergerNode.connect(scriptProcessorNode);\n        let channelInterpretation = options.channelInterpretation;\n        let onprocessorerror = null;\n        // Bug #87: Expose at least one output to make this node connectable.\n        const outputAudioNodes = options.numberOfOutputs === 0 ? [scriptProcessorNode] : outputChannelMergerNodes;\n        const nativeAudioWorkletNodeFaker = {\n            get bufferSize() {\n                return bufferSize;\n            },\n            get channelCount() {\n                return options.channelCount;\n            },\n            set channelCount(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelCountMode() {\n                return options.channelCountMode;\n            },\n            set channelCountMode(_) {\n                // Bug #61: This is not part of the standard but required for the faker to work.\n                throw createInvalidStateError();\n            },\n            get channelInterpretation() {\n                return channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                for (const gainNode of gainNodes) {\n                    gainNode.channelInterpretation = value;\n                }\n                channelInterpretation = value;\n            },\n            get context() {\n                return scriptProcessorNode.context;\n            },\n            get inputs() {\n                return gainNodes;\n            },\n            get numberOfInputs() {\n                return options.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return options.numberOfOutputs;\n            },\n            get onprocessorerror() {\n                return onprocessorerror;\n            },\n            set onprocessorerror(value) {\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.removeEventListener('processorerror', onprocessorerror);\n                }\n                onprocessorerror = typeof value === 'function' ? value : null;\n                if (typeof onprocessorerror === 'function') {\n                    nativeAudioWorkletNodeFaker.addEventListener('processorerror', onprocessorerror);\n                }\n            },\n            get parameters() {\n                return parameterMap;\n            },\n            get port() {\n                return messageChannel.port2;\n            },\n            addEventListener(...args) {\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            connect: connectMultipleOutputs.bind(null, outputAudioNodes),\n            disconnect: disconnectMultipleOutputs.bind(null, outputAudioNodes),\n            dispatchEvent(...args) {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n        const patchedEventListeners = new Map();\n        messageChannel.port1.addEventListener = ((addEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const unpatchedEventListener = typeof args[1] === 'function'\n                        ? args[1]\n                        : typeof args[1] === 'object' && args[1] !== null && typeof args[1].handleEvent === 'function'\n                            ? args[1].handleEvent\n                            : null;\n                    if (unpatchedEventListener !== null) {\n                        const patchedEventListener = patchedEventListeners.get(args[1]);\n                        if (patchedEventListener !== undefined) {\n                            args[1] = patchedEventListener;\n                        }\n                        else {\n                            args[1] = (event) => {\n                                exposeCurrentFrameAndCurrentTime(nativeContext.currentTime, nativeContext.sampleRate, () => unpatchedEventListener(event));\n                            };\n                            patchedEventListeners.set(unpatchedEventListener, args[1]);\n                        }\n                    }\n                }\n                return addEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.addEventListener);\n        messageChannel.port1.removeEventListener = ((removeEventListener) => {\n            return (...args) => {\n                if (args[0] === 'message') {\n                    const patchedEventListener = patchedEventListeners.get(args[1]);\n                    if (patchedEventListener !== undefined) {\n                        patchedEventListeners.delete(args[1]);\n                        args[1] = patchedEventListener;\n                    }\n                }\n                return removeEventListener.call(messageChannel.port1, args[0], args[1], args[2]);\n            };\n        })(messageChannel.port1.removeEventListener);\n        let onmessage = null;\n        Object.defineProperty(messageChannel.port1, 'onmessage', {\n            get: () => onmessage,\n            set: (value) => {\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.removeEventListener('message', onmessage);\n                }\n                onmessage = typeof value === 'function' ? value : null;\n                if (typeof onmessage === 'function') {\n                    messageChannel.port1.addEventListener('message', onmessage);\n                    messageChannel.port1.start();\n                }\n            }\n        });\n        processorConstructor.prototype.port = messageChannel.port1;\n        let audioWorkletProcessor = null;\n        const audioWorkletProcessorPromise = createAudioWorkletProcessor(nativeContext, nativeAudioWorkletNodeFaker, processorConstructor, options);\n        audioWorkletProcessorPromise.then((dWrkltPrcssr) => (audioWorkletProcessor = dWrkltPrcssr));\n        const inputs = createNestedArrays(options.numberOfInputs, options.channelCount);\n        const outputs = createNestedArrays(options.numberOfOutputs, outputChannelCount);\n        const parameters = processorConstructor.parameterDescriptors === undefined\n            ? []\n            : processorConstructor.parameterDescriptors.reduce((prmtrs, { name }) => ({ ...prmtrs, [name]: new Float32Array(128) }), {});\n        let isActive = true;\n        const disconnectOutputsGraph = () => {\n            if (options.numberOfOutputs > 0) {\n                scriptProcessorNode.disconnect(outputChannelSplitterNode);\n            }\n            for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                const outputChannelMergerNode = outputChannelMergerNodes[i];\n                for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                    outputChannelSplitterNode.disconnect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                }\n                outputChannelSplitterNodeOutput += outputChannelCount[i];\n            }\n        };\n        const activeInputIndexes = new Map();\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = ({ inputBuffer, outputBuffer }) => {\n            if (audioWorkletProcessor !== null) {\n                const activeInputs = getActiveAudioWorkletNodeInputs(nativeAudioWorkletNodeFaker);\n                for (let i = 0; i < bufferSize; i += 128) {\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < options.channelCount; k += 1) {\n                            copyFromChannel(inputBuffer, inputs[j], k, k, i);\n                        }\n                    }\n                    if (processorConstructor.parameterDescriptors !== undefined) {\n                        processorConstructor.parameterDescriptors.forEach(({ name }, index) => {\n                            copyFromChannel(inputBuffer, parameters, name, numberOfInputChannels + index, i);\n                        });\n                    }\n                    for (let j = 0; j < options.numberOfInputs; j += 1) {\n                        for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                            // The byteLength will be 0 when the ArrayBuffer was transferred.\n                            if (outputs[j][k].byteLength === 0) {\n                                outputs[j][k] = new Float32Array(128);\n                            }\n                        }\n                    }\n                    try {\n                        const potentiallyEmptyInputs = inputs.map((input, index) => {\n                            const activeInput = activeInputs[index];\n                            if (activeInput.size > 0) {\n                                activeInputIndexes.set(index, bufferSize / 128);\n                                return input;\n                            }\n                            const count = activeInputIndexes.get(index);\n                            if (count === undefined) {\n                                return [];\n                            }\n                            if (input.every((channelData) => channelData.every((sample) => sample === 0))) {\n                                if (count === 1) {\n                                    activeInputIndexes.delete(index);\n                                }\n                                else {\n                                    activeInputIndexes.set(index, count - 1);\n                                }\n                            }\n                            return input;\n                        });\n                        const activeSourceFlag = exposeCurrentFrameAndCurrentTime(nativeContext.currentTime + i / nativeContext.sampleRate, nativeContext.sampleRate, () => audioWorkletProcessor.process(potentiallyEmptyInputs, outputs, parameters));\n                        isActive = activeSourceFlag;\n                        for (let j = 0, outputChannelSplitterNodeOutput = 0; j < options.numberOfOutputs; j += 1) {\n                            for (let k = 0; k < outputChannelCount[j]; k += 1) {\n                                copyToChannel(outputBuffer, outputs[j], k, outputChannelSplitterNodeOutput + k, i);\n                            }\n                            outputChannelSplitterNodeOutput += outputChannelCount[j];\n                        }\n                    }\n                    catch (error) {\n                        isActive = false;\n                        nativeAudioWorkletNodeFaker.dispatchEvent(new ErrorEvent('processorerror', {\n                            colno: error.colno,\n                            filename: error.filename,\n                            lineno: error.lineno,\n                            message: error.message\n                        }));\n                    }\n                    if (!isActive) {\n                        for (let j = 0; j < options.numberOfInputs; j += 1) {\n                            gainNodes[j].disconnect(inputChannelSplitterNodes[j]);\n                            for (let k = 0; k < options.channelCount; k += 1) {\n                                inputChannelSplitterNodes[i].disconnect(inputChannelMergerNode, k, j * options.channelCount + k);\n                            }\n                        }\n                        if (processorConstructor.parameterDescriptors !== undefined) {\n                            const length = processorConstructor.parameterDescriptors.length;\n                            for (let j = 0; j < length; j += 1) {\n                                const constantSourceNode = constantSourceNodes[j];\n                                constantSourceNode.disconnect(inputChannelMergerNode, 0, numberOfInputChannels + j);\n                                constantSourceNode.stop();\n                            }\n                        }\n                        inputChannelMergerNode.disconnect(scriptProcessorNode);\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        if (isConnected) {\n                            disconnectOutputsGraph();\n                        }\n                        else {\n                            disconnectFakeGraph();\n                        }\n                        break;\n                    }\n                }\n            }\n        };\n        let isConnected = false;\n        // Bug #87: Only Firefox will fire an AudioProcessingEvent if there is no connected output.\n        const nativeGainNode = createNativeGainNode(nativeContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        const connectFakeGraph = () => scriptProcessorNode.connect(nativeGainNode).connect(nativeContext.destination);\n        const disconnectFakeGraph = () => {\n            scriptProcessorNode.disconnect(nativeGainNode);\n            nativeGainNode.disconnect();\n        };\n        const whenConnected = () => {\n            if (isActive) {\n                disconnectFakeGraph();\n                if (options.numberOfOutputs > 0) {\n                    scriptProcessorNode.connect(outputChannelSplitterNode);\n                }\n                for (let i = 0, outputChannelSplitterNodeOutput = 0; i < options.numberOfOutputs; i += 1) {\n                    const outputChannelMergerNode = outputChannelMergerNodes[i];\n                    for (let j = 0; j < outputChannelCount[i]; j += 1) {\n                        outputChannelSplitterNode.connect(outputChannelMergerNode, outputChannelSplitterNodeOutput + j, j);\n                    }\n                    outputChannelSplitterNodeOutput += outputChannelCount[i];\n                }\n            }\n            isConnected = true;\n        };\n        const whenDisconnected = () => {\n            if (isActive) {\n                connectFakeGraph();\n                disconnectOutputsGraph();\n            }\n            isConnected = false;\n        };\n        connectFakeGraph();\n        return monitorConnections(nativeAudioWorkletNodeFaker, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-audio-worklet-node-faker-factory.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeChannelMergerNodeFactory = (nativeAudioContextConstructor, wrapChannelMergerNode) => {\n    return (nativeContext, options) => {\n        const nativeChannelMergerNode = nativeContext.createChannelMerger(options.numberOfInputs);\n        /*\n         * Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n         * @todo Unfortunately there is no way to test for this behavior in a synchronous fashion which is why testing for the existence of\n         * the webkitAudioContext is used as a workaround here.\n         */\n        if (nativeAudioContextConstructor !== null && nativeAudioContextConstructor.name === 'webkitAudioContext') {\n            wrapChannelMergerNode(nativeContext, nativeChannelMergerNode);\n        }\n        assignNativeAudioNodeOptions(nativeChannelMergerNode, options);\n        return nativeChannelMergerNode;\n    };\n};\n//# sourceMappingURL=native-channel-merger-node-factory.js.map","import { createInvalidStateError } from '../factories/invalid-state-error';\nexport const wrapChannelSplitterNode = (channelSplitterNode) => {\n    const channelCount = channelSplitterNode.numberOfOutputs;\n    // Bug #97: Safari does not throw an error when attempting to change the channelCount to something other than its initial value.\n    Object.defineProperty(channelSplitterNode, 'channelCount', {\n        get: () => channelCount,\n        set: (value) => {\n            if (value !== channelCount) {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #30: Safari does not throw an error when attempting to change the channelCountMode to something other than explicit.\n    Object.defineProperty(channelSplitterNode, 'channelCountMode', {\n        get: () => 'explicit',\n        set: (value) => {\n            if (value !== 'explicit') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n    // Bug #32: Safari does not throw an error when attempting to change the channelInterpretation to something other than discrete.\n    Object.defineProperty(channelSplitterNode, 'channelInterpretation', {\n        get: () => 'discrete',\n        set: (value) => {\n            if (value !== 'discrete') {\n                throw createInvalidStateError();\n            }\n        }\n    });\n};\n//# sourceMappingURL=wrap-channel-splitter-node.js.map","import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapChannelSplitterNode } from '../helpers/wrap-channel-splitter-node';\nexport const createNativeChannelSplitterNode = (nativeContext, options) => {\n    const nativeChannelSplitterNode = nativeContext.createChannelSplitter(options.numberOfOutputs);\n    // Bug #96: Safari does not have the correct channelCount.\n    // Bug #29: Safari does not have the correct channelCountMode.\n    // Bug #31: Safari does not have the correct channelInterpretation.\n    assignNativeAudioNodeOptions(nativeChannelSplitterNode, options);\n    // Bug #29, #30, #31, #32, #96 & #97: Only Chrome, Edge & Firefox partially support the spec yet.\n    wrapChannelSplitterNode(nativeChannelSplitterNode);\n    return nativeChannelSplitterNode;\n};\n//# sourceMappingURL=native-channel-splitter-node.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nimport { wrapAudioScheduledSourceNodeStartMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-start-method-negative-parameters';\nimport { wrapAudioScheduledSourceNodeStopMethodNegativeParameters } from '../helpers/wrap-audio-scheduled-source-node-stop-method-negative-parameters';\nexport const createNativeConstantSourceNodeFactory = (addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport) => {\n    return (nativeContext, options) => {\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeContext.createConstantSource === undefined) {\n            return createNativeConstantSourceNodeFaker(nativeContext, options);\n        }\n        const nativeConstantSourceNode = nativeContext.createConstantSource();\n        assignNativeAudioNodeOptions(nativeConstantSourceNode, options);\n        assignNativeAudioNodeAudioParamValue(nativeConstantSourceNode, options, 'offset');\n        // Bug #44: Safari does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStartMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStartMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #44: Only Firefox does not throw a RangeError yet.\n        if (!cacheTestResult(testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, () => testAudioScheduledSourceNodeStopMethodNegativeParametersSupport(nativeContext))) {\n            wrapAudioScheduledSourceNodeStopMethodNegativeParameters(nativeConstantSourceNode);\n        }\n        // Bug #175: Safari will not fire an ended event if the ConstantSourceNode is unconnected.\n        addSilentConnection(nativeContext, nativeConstantSourceNode);\n        return nativeConstantSourceNode;\n    };\n};\n//# sourceMappingURL=native-constant-source-node-factory.js.map","export const interceptConnections = (original, interceptor) => {\n    original.connect = interceptor.connect.bind(interceptor);\n    original.disconnect = interceptor.disconnect.bind(interceptor);\n    return original;\n};\n//# sourceMappingURL=intercept-connections.js.map","import { interceptConnections } from '../helpers/intercept-connections';\nexport const createNativeConstantSourceNodeFakerFactory = (addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections) => {\n    return (nativeContext, { offset, ...audioNodeOptions }) => {\n        const audioBuffer = nativeContext.createBuffer(1, 2, 44100);\n        const audioBufferSourceNode = createNativeAudioBufferSourceNode(nativeContext, {\n            buffer: null,\n            channelCount: 2,\n            channelCountMode: 'max',\n            channelInterpretation: 'speakers',\n            loop: false,\n            loopEnd: 0,\n            loopStart: 0,\n            playbackRate: 1\n        });\n        const gainNode = createNativeGainNode(nativeContext, { ...audioNodeOptions, gain: offset });\n        // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n        const channelData = audioBuffer.getChannelData(0);\n        // Bug #95: Safari does not play or loop one sample buffers.\n        channelData[0] = 1;\n        channelData[1] = 1;\n        audioBufferSourceNode.buffer = audioBuffer;\n        audioBufferSourceNode.loop = true;\n        const nativeConstantSourceNodeFaker = {\n            get bufferSize() {\n                return undefined;\n            },\n            get channelCount() {\n                return gainNode.channelCount;\n            },\n            set channelCount(value) {\n                gainNode.channelCount = value;\n            },\n            get channelCountMode() {\n                return gainNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                gainNode.channelCountMode = value;\n            },\n            get channelInterpretation() {\n                return gainNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                gainNode.channelInterpretation = value;\n            },\n            get context() {\n                return gainNode.context;\n            },\n            get inputs() {\n                return [];\n            },\n            get numberOfInputs() {\n                return audioBufferSourceNode.numberOfInputs;\n            },\n            get numberOfOutputs() {\n                return gainNode.numberOfOutputs;\n            },\n            get offset() {\n                return gainNode.gain;\n            },\n            get onended() {\n                return audioBufferSourceNode.onended;\n            },\n            set onended(value) {\n                audioBufferSourceNode.onended = value;\n            },\n            addEventListener(...args) {\n                return audioBufferSourceNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args) {\n                return audioBufferSourceNode.dispatchEvent(args[0]);\n            },\n            removeEventListener(...args) {\n                return audioBufferSourceNode.removeEventListener(args[0], args[1], args[2]);\n            },\n            start(when = 0) {\n                audioBufferSourceNode.start.call(audioBufferSourceNode, when);\n            },\n            stop(when = 0) {\n                audioBufferSourceNode.stop.call(audioBufferSourceNode, when);\n            }\n        };\n        const whenConnected = () => audioBufferSourceNode.connect(gainNode);\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(gainNode);\n        // Bug #175: Safari will not fire an ended event if the AudioBufferSourceNode is unconnected.\n        addSilentConnection(nativeContext, audioBufferSourceNode);\n        return monitorConnections(interceptConnections(nativeConstantSourceNodeFaker, gainNode), whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=native-constant-source-node-faker-factory.js.map","import { assignNativeAudioNodeAudioParamValue } from '../helpers/assign-native-audio-node-audio-param-value';\nimport { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeGainNode = (nativeContext, options) => {\n    const nativeGainNode = nativeContext.createGain();\n    assignNativeAudioNodeOptions(nativeGainNode, options);\n    assignNativeAudioNodeAudioParamValue(nativeGainNode, options, 'gain');\n    return nativeGainNode;\n};\n//# sourceMappingURL=native-gain-node.js.map","export const createNativeMediaStreamAudioSourceNode = (nativeAudioContext, { mediaStream }) => {\n    const audioStreamTracks = mediaStream.getAudioTracks();\n    /*\n     * Bug #151: Safari does not use the audio track as input anymore if it gets removed from the mediaStream after construction.\n     * Bug #159: Safari picks the first audio track if the MediaStream has more than one audio track.\n     */\n    audioStreamTracks.sort((a, b) => (a.id < b.id ? -1 : a.id > b.id ? 1 : 0));\n    const filteredAudioStreamTracks = audioStreamTracks.slice(0, 1);\n    const nativeMediaStreamAudioSourceNode = nativeAudioContext.createMediaStreamSource(new MediaStream(filteredAudioStreamTracks));\n    /*\n     * Bug #151 & #159: The given mediaStream gets reconstructed before it gets passed to the native node which is why the accessor needs\n     * to be overwritten as it would otherwise expose the reconstructed version.\n     */\n    Object.defineProperty(nativeMediaStreamAudioSourceNode, 'mediaStream', { value: mediaStream });\n    return nativeMediaStreamAudioSourceNode;\n};\n//# sourceMappingURL=native-media-stream-audio-source-node.js.map","export const createNativeOfflineAudioContextConstructor = (window) => {\n    if (window === null) {\n        return null;\n    }\n    if (window.hasOwnProperty('OfflineAudioContext')) {\n        return window.OfflineAudioContext;\n    }\n    return window.hasOwnProperty('webkitOfflineAudioContext') ? window.webkitOfflineAudioContext : null;\n};\n//# sourceMappingURL=native-offline-audio-context-constructor.js.map","export const createNativeScriptProcessorNode = (nativeContext, bufferSize, numberOfInputChannels, numberOfOutputChannels) => {\n    return nativeContext.createScriptProcessor(bufferSize, numberOfInputChannels, numberOfOutputChannels); // tslint:disable-line deprecation\n};\n//# sourceMappingURL=native-script-processor-node.js.map","export const createNotSupportedError = () => new DOMException('', 'NotSupportedError');\n//# sourceMappingURL=not-supported-error.js.map","export const createRenderAutomation = (getAudioParamRenderer, renderInputsOfAudioParam) => {\n    return (nativeOfflineAudioContext, audioParam, nativeAudioParam) => {\n        const audioParamRenderer = getAudioParamRenderer(audioParam);\n        audioParamRenderer.replay(nativeAudioParam);\n        return renderInputsOfAudioParam(audioParam, nativeOfflineAudioContext, nativeAudioParam);\n    };\n};\n//# sourceMappingURL=render-automation.js.map","export const createRenderInputsOfAudioNode = (getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle) => {\n    return async (audioNode, nativeOfflineAudioContext, nativeAudioNode) => {\n        const audioNodeConnections = getAudioNodeConnections(audioNode);\n        await Promise.all(audioNodeConnections.activeInputs\n            .map((connections, input) => Array.from(connections).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            const destination = audioNode.context.destination;\n            if (!isPartOfACycle(source) && (audioNode !== destination || !isPartOfACycle(audioNode))) {\n                renderedNativeAudioNode.connect(nativeAudioNode, output, input);\n            }\n        }))\n            .reduce((allRenderingPromises, renderingPromises) => [...allRenderingPromises, ...renderingPromises], []));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-node.js.map","export const createRenderInputsOfAudioParam = (getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle) => {\n    return async (audioParam, nativeOfflineAudioContext, nativeAudioParam) => {\n        const audioParamConnections = getAudioParamConnections(audioParam);\n        await Promise.all(Array.from(audioParamConnections.activeInputs).map(async ([source, output]) => {\n            const audioNodeRenderer = getAudioNodeRenderer(source);\n            const renderedNativeAudioNode = await audioNodeRenderer.render(source, nativeOfflineAudioContext);\n            if (!isPartOfACycle(source)) {\n                renderedNativeAudioNode.connect(nativeAudioParam, output);\n            }\n        }));\n    };\n};\n//# sourceMappingURL=render-inputs-of-audio-param.js.map","import { testPromiseSupport } from '../helpers/test-promise-support';\nexport const createRenderNativeOfflineAudioContext = (cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, testOfflineAudioContextCurrentTimeSupport) => {\n    return (nativeOfflineAudioContext) => {\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n            // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n            return Promise.resolve(cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)).then((isOfflineAudioContextCurrentTimeSupported) => {\n                if (!isOfflineAudioContextCurrentTimeSupported) {\n                    const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n                    nativeOfflineAudioContext.oncomplete = () => {\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        scriptProcessorNode.disconnect();\n                    };\n                    scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n                    scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n                }\n                return nativeOfflineAudioContext.startRendering();\n            });\n        }\n        return new Promise((resolve) => {\n            // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n            const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                gain: 0\n            });\n            nativeOfflineAudioContext.oncomplete = (event) => {\n                gainNode.disconnect();\n                resolve(event.renderedBuffer);\n            };\n            gainNode.connect(nativeOfflineAudioContext.destination);\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=render-native-offline-audio-context.js.map","export const createSetActiveAudioWorkletNodeInputs = (activeAudioWorkletNodeInputsStore) => {\n    return (nativeAudioWorkletNode, activeInputs) => {\n        activeAudioWorkletNodeInputsStore.set(nativeAudioWorkletNode, activeInputs);\n    };\n};\n//# sourceMappingURL=set-active-audio-worklet-node-inputs.js.map","// Bug #33: Safari exposes an AudioBuffer but it can't be used as a constructor.\nexport const createTestAudioBufferConstructorSupport = (nativeAudioBufferConstructor) => {\n    return () => {\n        if (nativeAudioBufferConstructor === null) {\n            return false;\n        }\n        try {\n            new nativeAudioBufferConstructor({ length: 1, sampleRate: 44100 }); // tslint:disable-line:no-unused-expression\n        }\n        catch {\n            return false;\n        }\n        return true;\n    };\n};\n//# sourceMappingURL=test-audio-buffer-constructor-support.js.map","// Bug #179: Firefox does not allow to transfer any buffer which has been passed to the process() method as an argument.\nexport const createTestAudioWorkletProcessorPostMessageSupport = (nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor) => {\n    return async () => {\n        // Bug #61: If there is no native AudioWorkletNode it gets faked and therefore it is no problem if the it doesn't exist.\n        if (nativeAudioWorkletNodeConstructor === null) {\n            return true;\n        }\n        if (nativeOfflineAudioContextConstructor === null) {\n            return false;\n        }\n        const blob = new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'], {\n            type: 'application/javascript; charset=utf-8'\n        });\n        // Bug #141: Safari does not support creating an OfflineAudioContext with less than 44100 Hz.\n        const offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 128, 44100);\n        const url = URL.createObjectURL(blob);\n        let isEmittingMessageEvents = false;\n        let isEmittingProcessorErrorEvents = false;\n        try {\n            await offlineAudioContext.audioWorklet.addModule(url);\n            const audioWorkletNode = new nativeAudioWorkletNodeConstructor(offlineAudioContext, 'a', { numberOfOutputs: 0 });\n            const oscillator = offlineAudioContext.createOscillator();\n            audioWorkletNode.port.onmessage = () => (isEmittingMessageEvents = true);\n            audioWorkletNode.onprocessorerror = () => (isEmittingProcessorErrorEvents = true);\n            oscillator.connect(audioWorkletNode);\n            oscillator.start(0);\n            await offlineAudioContext.startRendering();\n        }\n        catch {\n            // Ignore errors.\n        }\n        finally {\n            URL.revokeObjectURL(url);\n        }\n        return isEmittingMessageEvents && !isEmittingProcessorErrorEvents;\n    };\n};\n//# sourceMappingURL=test-audio-worklet-processor-post-message-support.js.map","export const createTestOfflineAudioContextCurrentTimeSupport = (createNativeGainNode, nativeOfflineAudioContextConstructor) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n        // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n        const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n            channelCount: 1,\n            channelCountMode: 'explicit',\n            channelInterpretation: 'discrete',\n            gain: 0\n        });\n        // Bug #21: Safari does not support promises yet.\n        return new Promise((resolve) => {\n            nativeOfflineAudioContext.oncomplete = () => {\n                gainNode.disconnect();\n                resolve(nativeOfflineAudioContext.currentTime !== 0);\n            };\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=test-offline-audio-context-current-time-support.js.map","export const createUnknownError = () => new DOMException('', 'UnknownError');\n//# sourceMappingURL=unknown-error.js.map","export const createWindow = () => (typeof window === 'undefined' ? null : window);\n//# sourceMappingURL=window.js.map","export const createWrapAudioBufferCopyChannelMethods = (convertNumberToUnsignedLong, createIndexSizeError) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const destinationLength = destination.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < destinationLength; i += 1) {\n                destination[i] = channelData[i + bufferOffset];\n            }\n        };\n        audioBuffer.copyToChannel = (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n            const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n            const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n            if (channelNumber >= audioBuffer.numberOfChannels) {\n                throw createIndexSizeError();\n            }\n            const audioBufferLength = audioBuffer.length;\n            const channelData = audioBuffer.getChannelData(channelNumber);\n            const sourceLength = source.length;\n            for (let i = bufferOffset < 0 ? -bufferOffset : 0; i + bufferOffset < audioBufferLength && i < sourceLength; i += 1) {\n                channelData[i + bufferOffset] = source[i];\n            }\n        };\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods.js.map","export const createWrapAudioBufferCopyChannelMethodsOutOfBounds = (convertNumberToUnsignedLong) => {\n    return (audioBuffer) => {\n        audioBuffer.copyFromChannel = ((copyFromChannel) => {\n            return (destination, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyFromChannel.call(audioBuffer, destination, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyFromChannel);\n        audioBuffer.copyToChannel = ((copyToChannel) => {\n            return (source, channelNumberAsNumber, bufferOffsetAsNumber = 0) => {\n                const bufferOffset = convertNumberToUnsignedLong(bufferOffsetAsNumber);\n                const channelNumber = convertNumberToUnsignedLong(channelNumberAsNumber);\n                if (bufferOffset < audioBuffer.length) {\n                    return copyToChannel.call(audioBuffer, source, channelNumber, bufferOffset);\n                }\n            };\n        })(audioBuffer.copyToChannel);\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-copy-channel-methods-out-of-bounds.js.map","export const createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer = (overwriteAccessors) => {\n    return (nativeAudioBufferSourceNode, nativeContext) => {\n        const nullifiedBuffer = nativeContext.createBuffer(1, 1, 44100);\n        if (nativeAudioBufferSourceNode.buffer === null) {\n            nativeAudioBufferSourceNode.buffer = nullifiedBuffer;\n        }\n        overwriteAccessors(nativeAudioBufferSourceNode, 'buffer', (get) => () => {\n            const value = get.call(nativeAudioBufferSourceNode);\n            return value === nullifiedBuffer ? null : value;\n        }, (set) => (value) => {\n            return set.call(nativeAudioBufferSourceNode, value === null ? nullifiedBuffer : value);\n        });\n    };\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-stop-method-nullified-buffer.js.map","export const createWrapChannelMergerNode = (createInvalidStateError, monitorConnections) => {\n    return (nativeContext, channelMergerNode) => {\n        // Bug #15: Safari does not return the default properties.\n        channelMergerNode.channelCount = 1;\n        channelMergerNode.channelCountMode = 'explicit';\n        // Bug #16: Safari does not throw an error when setting a different channelCount or channelCountMode.\n        Object.defineProperty(channelMergerNode, 'channelCount', {\n            get: () => 1,\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        Object.defineProperty(channelMergerNode, 'channelCountMode', {\n            get: () => 'explicit',\n            set: () => {\n                throw createInvalidStateError();\n            }\n        });\n        // Bug #20: Safari requires a connection of any kind to treat the input signal correctly.\n        const audioBufferSourceNode = nativeContext.createBufferSource();\n        const whenConnected = () => {\n            const length = channelMergerNode.numberOfInputs;\n            for (let i = 0; i < length; i += 1) {\n                audioBufferSourceNode.connect(channelMergerNode, 0, i);\n            }\n        };\n        const whenDisconnected = () => audioBufferSourceNode.disconnect(channelMergerNode);\n        monitorConnections(channelMergerNode, whenConnected, whenDisconnected);\n    };\n};\n//# sourceMappingURL=wrap-channel-merger-node.js.map","export const getFirstSample = (audioBuffer, buffer, channelNumber) => {\n    // Bug #5: Safari does not support copyFromChannel() and copyToChannel().\n    if (audioBuffer.copyFromChannel === undefined) {\n        return audioBuffer.getChannelData(channelNumber)[0];\n    }\n    audioBuffer.copyFromChannel(buffer, channelNumber);\n    return buffer[0];\n};\n//# sourceMappingURL=get-first-sample.js.map","export const overwriteAccessors = (object, property, createGetter, createSetter) => {\n    let prototype = object;\n    while (!prototype.hasOwnProperty(property)) {\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    const { get, set } = Object.getOwnPropertyDescriptor(prototype, property);\n    Object.defineProperty(object, property, { get: createGetter(get), set: createSetter(set) });\n};\n//# sourceMappingURL=overwrite-accessors.js.map","export const sanitizeAudioWorkletNodeOptions = (options) => {\n    return {\n        ...options,\n        outputChannelCount: options.outputChannelCount !== undefined\n            ? options.outputChannelCount\n            : options.numberOfInputs === 1 && options.numberOfOutputs === 1\n                ? /*\n                   * Bug #61: This should be the computedNumberOfChannels, but unfortunately that is almost impossible to fake. That's why\n                   * the channelCountMode is required to be 'explicit' as long as there is not a native implementation in every browser. That\n                   * makes sure the computedNumberOfChannels is equivilant to the channelCount which makes it much easier to compute.\n                   */\n                    [options.channelCount]\n                : Array.from({ length: options.numberOfOutputs }, () => 1)\n    };\n};\n//# sourceMappingURL=sanitize-audio-worklet-node-options.js.map","export const setValueAtTimeUntilPossible = (audioParam, value, startTime) => {\n    try {\n        audioParam.setValueAtTime(value, startTime);\n    }\n    catch (err) {\n        if (err.code !== 9) {\n            throw err;\n        }\n        setValueAtTimeUntilPossible(audioParam, value, startTime + 1e-7);\n    }\n};\n//# sourceMappingURL=set-value-at-time-until-possible.js.map","export const testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.start();\n    }\n    catch {\n        return true;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-consecutive-calls-support.js.map","export const testAudioBufferSourceNodeStartMethodOffsetClampingSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    try {\n        nativeAudioBufferSourceNode.start(0, 1);\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-start-method-offset-clamping-support.js.map","export const testAudioBufferSourceNodeStopMethodNullifiedBufferSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.start();\n    try {\n        nativeAudioBufferSourceNode.stop();\n    }\n    catch {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=test-audio-buffer-source-node-stop-method-nullified-buffer-support.js.map","export const testAudioScheduledSourceNodeStartMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.start(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-start-method-negative-parameters-support.js.map","export const testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport = (nativeContext) => {\n    const nativeAudioBuffer = nativeContext.createBuffer(1, 1, 44100);\n    const nativeAudioBufferSourceNode = nativeContext.createBufferSource();\n    nativeAudioBufferSourceNode.buffer = nativeAudioBuffer;\n    nativeAudioBufferSourceNode.start();\n    nativeAudioBufferSourceNode.stop();\n    try {\n        nativeAudioBufferSourceNode.stop();\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-consecutive-calls-support.js.map","export const testAudioScheduledSourceNodeStopMethodNegativeParametersSupport = (nativeContext) => {\n    const nativeAudioBufferSourceNode = nativeContext.createOscillator();\n    try {\n        nativeAudioBufferSourceNode.stop(-1);\n    }\n    catch (err) {\n        return err instanceof RangeError;\n    }\n    return false;\n};\n//# sourceMappingURL=test-audio-scheduled-source-node-stop-method-negative-parameters-support.js.map","export const testAudioWorkletNodeOptionsClonability = (audioWorkletNodeOptions) => {\n    const { port1, port2 } = new MessageChannel();\n    try {\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port1.postMessage(audioWorkletNodeOptions);\n    }\n    finally {\n        port1.close();\n        port2.close();\n    }\n};\n//# sourceMappingURL=test-audio-worklet-node-options-clonability.js.map","export const wrapAudioBufferSourceNodeStartMethodOffsetClamping = (nativeAudioBufferSourceNode) => {\n    nativeAudioBufferSourceNode.start = ((start) => {\n        return (when = 0, offset = 0, duration) => {\n            const buffer = nativeAudioBufferSourceNode.buffer;\n            // Bug #154: Safari does not clamp the offset if it is equal to or greater than the duration of the buffer.\n            const clampedOffset = buffer === null ? offset : Math.min(buffer.duration, offset);\n            // Bug #155: Safari does not handle the offset correctly if it would cause the buffer to be not be played at all.\n            if (buffer !== null && clampedOffset > buffer.duration - 0.5 / nativeAudioBufferSourceNode.context.sampleRate) {\n                start.call(nativeAudioBufferSourceNode, when, 0, 0);\n            }\n            else {\n                start.call(nativeAudioBufferSourceNode, when, clampedOffset, duration);\n            }\n        };\n    })(nativeAudioBufferSourceNode.start);\n};\n//# sourceMappingURL=wrap-audio-buffer-source-node-start-method-offset-clamping.js.map","import { interceptConnections } from './intercept-connections';\nexport const wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls = (nativeAudioScheduledSourceNode, nativeContext) => {\n    const nativeGainNode = nativeContext.createGain();\n    nativeAudioScheduledSourceNode.connect(nativeGainNode);\n    const disconnectGainNode = ((disconnect) => {\n        return () => {\n            // @todo TypeScript cannot infer the overloaded signature with 1 argument yet.\n            disconnect.call(nativeAudioScheduledSourceNode, nativeGainNode);\n            nativeAudioScheduledSourceNode.removeEventListener('ended', disconnectGainNode);\n        };\n    })(nativeAudioScheduledSourceNode.disconnect);\n    nativeAudioScheduledSourceNode.addEventListener('ended', disconnectGainNode);\n    interceptConnections(nativeAudioScheduledSourceNode, nativeGainNode);\n    nativeAudioScheduledSourceNode.stop = ((stop) => {\n        let isStopped = false;\n        return (when = 0) => {\n            if (isStopped) {\n                try {\n                    stop.call(nativeAudioScheduledSourceNode, when);\n                }\n                catch {\n                    nativeGainNode.gain.setValueAtTime(0, when);\n                }\n            }\n            else {\n                stop.call(nativeAudioScheduledSourceNode, when);\n                isStopped = true;\n            }\n        };\n    })(nativeAudioScheduledSourceNode.stop);\n};\n//# sourceMappingURL=wrap-audio-scheduled-source-node-stop-method-consecutive-calls.js.map","export const wrapEventListener = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n//# sourceMappingURL=wrap-event-listener.js.map","import { createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent } from 'automation-events';\nimport { createAbortError } from './factories/abort-error';\nimport { createAddActiveInputConnectionToAudioNode } from './factories/add-active-input-connection-to-audio-node';\nimport { createAddAudioNodeConnections } from './factories/add-audio-node-connections';\nimport { createAddAudioParamConnections } from './factories/add-audio-param-connections';\nimport { createAddAudioWorkletModule } from './factories/add-audio-worklet-module';\nimport { createAddConnectionToAudioNode } from './factories/add-connection-to-audio-node';\nimport { createAddPassiveInputConnectionToAudioNode } from './factories/add-passive-input-connection-to-audio-node';\nimport { createAddSilentConnection } from './factories/add-silent-connection';\nimport { createAddUnrenderedAudioWorkletNode } from './factories/add-unrendered-audio-worklet-node';\nimport { createAnalyserNodeConstructor } from './factories/analyser-node-constructor';\nimport { createAnalyserNodeRendererFactory } from './factories/analyser-node-renderer-factory';\nimport { createAudioBufferConstructor } from './factories/audio-buffer-constructor';\nimport { createAudioBufferSourceNodeConstructor } from './factories/audio-buffer-source-node-constructor';\nimport { createAudioBufferSourceNodeRendererFactory } from './factories/audio-buffer-source-node-renderer-factory';\nimport { createAudioContextConstructor } from './factories/audio-context-constructor';\nimport { createAudioDestinationNodeConstructor } from './factories/audio-destination-node-constructor';\nimport { createAudioDestinationNodeRenderer } from './factories/audio-destination-node-renderer-factory';\nimport { createAudioListenerFactory } from './factories/audio-listener-factory';\nimport { createAudioNodeConstructor } from './factories/audio-node-constructor';\nimport { createAudioParamFactory } from './factories/audio-param-factory';\nimport { createAudioParamRenderer } from './factories/audio-param-renderer';\nimport { createAudioWorkletNodeConstructor } from './factories/audio-worklet-node-constructor';\nimport { createAudioWorkletNodeRendererFactory } from './factories/audio-worklet-node-renderer-factory';\nimport { createBaseAudioContextConstructor } from './factories/base-audio-context-constructor';\nimport { createBiquadFilterNodeConstructor } from './factories/biquad-filter-node-constructor';\nimport { createBiquadFilterNodeRendererFactory } from './factories/biquad-filter-node-renderer-factory';\nimport { createCacheTestResult } from './factories/cache-test-result';\nimport { createChannelMergerNodeConstructor } from './factories/channel-merger-node-constructor';\nimport { createChannelMergerNodeRendererFactory } from './factories/channel-merger-node-renderer-factory';\nimport { createChannelSplitterNodeConstructor } from './factories/channel-splitter-node-constructor';\nimport { createChannelSplitterNodeRendererFactory } from './factories/channel-splitter-node-renderer-factory';\nimport { createConnectAudioParam } from './factories/connect-audio-param';\nimport { createConnectMultipleOutputs } from './factories/connect-multiple-outputs';\nimport { createConnectedNativeAudioBufferSourceNodeFactory } from './factories/connected-native-audio-buffer-source-node-factory';\nimport { createConstantSourceNodeConstructor } from './factories/constant-source-node-constructor';\nimport { createConstantSourceNodeRendererFactory } from './factories/constant-source-node-renderer-factory';\nimport { createConvertNumberToUnsignedLong } from './factories/convert-number-to-unsigned-long';\nimport { createConvolverNodeConstructor } from './factories/convolver-node-constructor';\nimport { createConvolverNodeRendererFactory } from './factories/convolver-node-renderer-factory';\nimport { createCreateNativeOfflineAudioContext } from './factories/create-native-offline-audio-context';\nimport { createDataCloneError } from './factories/data-clone-error';\nimport { createDecodeAudioData } from './factories/decode-audio-data';\nimport { createDecrementCycleCounter } from './factories/decrement-cycle-counter';\nimport { createDelayNodeConstructor } from './factories/delay-node-constructor';\nimport { createDelayNodeRendererFactory } from './factories/delay-node-renderer-factory';\nimport { createDeleteActiveInputConnectionToAudioNode } from './factories/delete-active-input-connection-to-audio-node';\nimport { createDeleteUnrenderedAudioWorkletNode } from './factories/delete-unrendered-audio-worklet-node';\nimport { createDetectCycles } from './factories/detect-cycles';\nimport { createDisconnectMultipleOutputs } from './factories/disconnect-multiple-outputs';\nimport { createDynamicsCompressorNodeConstructor } from './factories/dynamics-compressor-node-constructor';\nimport { createDynamicsCompressorNodeRendererFactory } from './factories/dynamics-compressor-node-renderer-factory';\nimport { createEncodingError } from './factories/encoding-error';\nimport { createEvaluateSource } from './factories/evaluate-source';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createExposeCurrentFrameAndCurrentTime } from './factories/expose-current-frame-and-current-time';\nimport { createFetchSource } from './factories/fetch-source';\nimport { createGainNodeConstructor } from './factories/gain-node-constructor';\nimport { createGainNodeRendererFactory } from './factories/gain-node-renderer-factory';\nimport { createGetActiveAudioWorkletNodeInputs } from './factories/get-active-audio-worklet-node-inputs';\nimport { createGetAudioNodeRenderer } from './factories/get-audio-node-renderer';\nimport { createGetAudioNodeTailTime } from './factories/get-audio-node-tail-time';\nimport { createGetAudioParamRenderer } from './factories/get-audio-param-renderer';\nimport { createGetBackupOfflineAudioContext } from './factories/get-backup-offline-audio-context';\nimport { createGetNativeContext } from './factories/get-native-context';\nimport { createGetOrCreateBackupOfflineAudioContext } from './factories/get-or-create-backup-offline-audio-context';\nimport { createGetUnrenderedAudioWorkletNodes } from './factories/get-unrendered-audio-worklet-nodes';\nimport { createIIRFilterNodeConstructor } from './factories/iir-filter-node-constructor';\nimport { createIIRFilterNodeRendererFactory } from './factories/iir-filter-node-renderer-factory';\nimport { createIncrementCycleCounterFactory } from './factories/increment-cycle-counter-factory';\nimport { createIndexSizeError } from './factories/index-size-error';\nimport { createInvalidAccessError } from './factories/invalid-access-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsAnyAudioContext } from './factories/is-any-audio-context';\nimport { createIsAnyAudioNode } from './factories/is-any-audio-node';\nimport { createIsAnyAudioParam } from './factories/is-any-audio-param';\nimport { createIsAnyOfflineAudioContext } from './factories/is-any-offline-audio-context';\nimport { createIsNativeAudioContext } from './factories/is-native-audio-context';\nimport { createIsNativeAudioNode } from './factories/is-native-audio-node';\nimport { createIsNativeAudioParam } from './factories/is-native-audio-param';\nimport { createIsNativeContext } from './factories/is-native-context';\nimport { createIsNativeOfflineAudioContext } from './factories/is-native-offline-audio-context';\nimport { createIsSecureContext } from './factories/is-secure-context';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaElementAudioSourceNodeConstructor } from './factories/media-element-audio-source-node-constructor';\nimport { createMediaStreamAudioDestinationNodeConstructor } from './factories/media-stream-audio-destination-node-constructor';\nimport { createMediaStreamAudioSourceNodeConstructor } from './factories/media-stream-audio-source-node-constructor';\nimport { createMediaStreamTrackAudioSourceNodeConstructor } from './factories/media-stream-track-audio-source-node-constructor';\nimport { createMinimalAudioContextConstructor } from './factories/minimal-audio-context-constructor';\nimport { createMinimalBaseAudioContextConstructor } from './factories/minimal-base-audio-context-constructor';\nimport { createMinimalOfflineAudioContextConstructor } from './factories/minimal-offline-audio-context-constructor';\nimport { createMonitorConnections } from './factories/monitor-connections';\nimport { createNativeAnalyserNodeFactory } from './factories/native-analyser-node-factory';\nimport { createNativeAudioBufferConstructor } from './factories/native-audio-buffer-constructor';\nimport { createNativeAudioBufferSourceNodeFactory } from './factories/native-audio-buffer-source-node-factory';\nimport { createNativeAudioContextConstructor } from './factories/native-audio-context-constructor';\nimport { createNativeAudioDestinationNodeFactory } from './factories/native-audio-destination-node';\nimport { createNativeAudioWorkletNodeConstructor } from './factories/native-audio-worklet-node-constructor';\nimport { createNativeAudioWorkletNodeFactory } from './factories/native-audio-worklet-node-factory';\nimport { createNativeAudioWorkletNodeFakerFactory } from './factories/native-audio-worklet-node-faker-factory';\nimport { createNativeBiquadFilterNode } from './factories/native-biquad-filter-node';\nimport { createNativeChannelMergerNodeFactory } from './factories/native-channel-merger-node-factory';\nimport { createNativeChannelSplitterNode } from './factories/native-channel-splitter-node';\nimport { createNativeConstantSourceNodeFactory } from './factories/native-constant-source-node-factory';\nimport { createNativeConstantSourceNodeFakerFactory } from './factories/native-constant-source-node-faker-factory';\nimport { createNativeConvolverNodeFactory } from './factories/native-convolver-node-factory';\nimport { createNativeDelayNode } from './factories/native-delay-node';\nimport { createNativeDynamicsCompressorNodeFactory } from './factories/native-dynamics-compressor-node-factory';\nimport { createNativeGainNode } from './factories/native-gain-node';\nimport { createNativeIIRFilterNodeFactory } from './factories/native-iir-filter-node-factory';\nimport { createNativeIIRFilterNodeFakerFactory } from './factories/native-iir-filter-node-faker-factory';\nimport { createNativeMediaElementAudioSourceNode } from './factories/native-media-element-audio-source-node';\nimport { createNativeMediaStreamAudioDestinationNode } from './factories/native-media-stream-audio-destination-node';\nimport { createNativeMediaStreamAudioSourceNode } from './factories/native-media-stream-audio-source-node';\nimport { createNativeMediaStreamTrackAudioSourceNodeFactory } from './factories/native-media-stream-track-audio-source-node-factory';\nimport { createNativeOfflineAudioContextConstructor } from './factories/native-offline-audio-context-constructor';\nimport { createNativeOscillatorNodeFactory } from './factories/native-oscillator-node-factory';\nimport { createNativePannerNodeFactory } from './factories/native-panner-node-factory';\nimport { createNativePannerNodeFakerFactory } from './factories/native-panner-node-faker-factory';\nimport { createNativePeriodicWaveFactory } from './factories/native-periodic-wave-factory';\nimport { createNativeScriptProcessorNode } from './factories/native-script-processor-node';\nimport { createNativeStereoPannerNodeFactory } from './factories/native-stereo-panner-node-factory';\nimport { createNativeStereoPannerNodeFakerFactory } from './factories/native-stereo-panner-node-faker-factory';\nimport { createNativeWaveShaperNodeFactory } from './factories/native-wave-shaper-node-factory';\nimport { createNativeWaveShaperNodeFakerFactory } from './factories/native-wave-shaper-node-faker-factory';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createOfflineAudioContextConstructor } from './factories/offline-audio-context-constructor';\nimport { createOscillatorNodeConstructor } from './factories/oscillator-node-constructor';\nimport { createOscillatorNodeRendererFactory } from './factories/oscillator-node-renderer-factory';\nimport { createPannerNodeConstructor } from './factories/panner-node-constructor';\nimport { createPannerNodeRendererFactory } from './factories/panner-node-renderer-factory';\nimport { createPeriodicWaveConstructor } from './factories/periodic-wave-constructor';\nimport { createRenderAutomation } from './factories/render-automation';\nimport { createRenderInputsOfAudioNode } from './factories/render-inputs-of-audio-node';\nimport { createRenderInputsOfAudioParam } from './factories/render-inputs-of-audio-param';\nimport { createRenderNativeOfflineAudioContext } from './factories/render-native-offline-audio-context';\nimport { createSetActiveAudioWorkletNodeInputs } from './factories/set-active-audio-worklet-node-inputs';\nimport { createSetAudioNodeTailTime } from './factories/set-audio-node-tail-time';\nimport { createStartRendering } from './factories/start-rendering';\nimport { createStereoPannerNodeConstructor } from './factories/stereo-panner-node-constructor';\nimport { createStereoPannerNodeRendererFactory } from './factories/stereo-panner-node-renderer-factory';\nimport { createTestAudioBufferConstructorSupport } from './factories/test-audio-buffer-constructor-support';\nimport { createTestAudioBufferCopyChannelMethodsSubarraySupport } from './factories/test-audio-buffer-copy-channel-methods-subarray-support';\nimport { createTestAudioContextCloseMethodSupport } from './factories/test-audio-context-close-method-support';\nimport { createTestAudioContextDecodeAudioDataMethodTypeErrorSupport } from './factories/test-audio-context-decode-audio-data-method-type-error-support';\nimport { createTestAudioContextOptionsSupport } from './factories/test-audio-context-options-support';\nimport { createTestAudioNodeConnectMethodSupport } from './factories/test-audio-node-connect-method-support';\nimport { createTestAudioWorkletProcessorNoOutputsSupport } from './factories/test-audio-worklet-processor-no-outputs-support';\nimport { createTestAudioWorkletProcessorPostMessageSupport } from './factories/test-audio-worklet-processor-post-message-support';\nimport { createTestChannelMergerNodeChannelCountSupport } from './factories/test-channel-merger-node-channel-count-support';\nimport { createTestConstantSourceNodeAccurateSchedulingSupport } from './factories/test-constant-source-node-accurate-scheduling-support';\nimport { createTestConvolverNodeBufferReassignabilitySupport } from './factories/test-convolver-node-buffer-reassignability-support';\nimport { createTestConvolverNodeChannelCountSupport } from './factories/test-convolver-node-channel-count-support';\nimport { createTestIsSecureContextSupport } from './factories/test-is-secure-context-support';\nimport { createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport } from './factories/test-media-stream-audio-source-node-media-stream-without-audio-track-support';\nimport { createTestOfflineAudioContextCurrentTimeSupport } from './factories/test-offline-audio-context-current-time-support';\nimport { createTestStereoPannerNodeDefaultValueSupport } from './factories/test-stereo-panner-node-default-value-support';\nimport { createUnknownError } from './factories/unknown-error';\nimport { createWaveShaperNodeConstructor } from './factories/wave-shaper-node-constructor';\nimport { createWaveShaperNodeRendererFactory } from './factories/wave-shaper-node-renderer-factory';\nimport { createWindow } from './factories/window';\nimport { createWrapAudioBufferCopyChannelMethods } from './factories/wrap-audio-buffer-copy-channel-methods';\nimport { createWrapAudioBufferCopyChannelMethodsOutOfBounds } from './factories/wrap-audio-buffer-copy-channel-methods-out-of-bounds';\nimport { createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer } from './factories/wrap-audio-buffer-source-node-stop-method-nullified-buffer';\nimport { createWrapChannelMergerNode } from './factories/wrap-channel-merger-node';\nimport { AUDIO_NODE_CONNECTIONS_STORE, AUDIO_NODE_STORE, AUDIO_PARAM_CONNECTIONS_STORE, AUDIO_PARAM_STORE, CONTEXT_STORE, CYCLE_COUNTERS } from './globals';\nimport { connectNativeAudioNodeToNativeAudioNode } from './helpers/connect-native-audio-node-to-native-audio-node';\nimport { disconnectNativeAudioNodeFromNativeAudioNode } from './helpers/disconnect-native-audio-node-from-native-audio-node';\nimport { getAudioNodeConnections } from './helpers/get-audio-node-connections';\nimport { getAudioParamConnections } from './helpers/get-audio-param-connections';\nimport { getEventListenersOfAudioNode } from './helpers/get-event-listeners-of-audio-node';\nimport { getFirstSample } from './helpers/get-first-sample';\nimport { getNativeAudioNode } from './helpers/get-native-audio-node';\nimport { getNativeAudioParam } from './helpers/get-native-audio-param';\nimport { getValueForKey } from './helpers/get-value-for-key';\nimport { insertElementInSet } from './helpers/insert-element-in-set';\nimport { isActiveAudioNode } from './helpers/is-active-audio-node';\nimport { isDCCurve } from './helpers/is-dc-curve';\nimport { isPartOfACycle } from './helpers/is-part-of-a-cycle';\nimport { isPassiveAudioNode } from './helpers/is-passive-audio-node';\nimport { overwriteAccessors } from './helpers/overwrite-accessors';\nimport { pickElementFromSet } from './helpers/pick-element-from-set';\nimport { sanitizeAudioWorkletNodeOptions } from './helpers/sanitize-audio-worklet-node-options';\nimport { sanitizeChannelSplitterOptions } from './helpers/sanitize-channel-splitter-options';\nimport { sanitizePeriodicWaveOptions } from './helpers/sanitize-periodic-wave-options';\nimport { setValueAtTimeUntilPossible } from './helpers/set-value-at-time-until-possible';\nimport { testAudioBufferCopyChannelMethodsOutOfBoundsSupport } from './helpers/test-audio-buffer-copy-channel-methods-out-of-bounds-support';\nimport { testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport } from './helpers/test-audio-buffer-source-node-start-method-consecutive-calls-support';\nimport { testAudioBufferSourceNodeStartMethodOffsetClampingSupport } from './helpers/test-audio-buffer-source-node-start-method-offset-clamping-support';\nimport { testAudioBufferSourceNodeStopMethodNullifiedBufferSupport } from './helpers/test-audio-buffer-source-node-stop-method-nullified-buffer-support';\nimport { testAudioScheduledSourceNodeStartMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-start-method-negative-parameters-support';\nimport { testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport } from './helpers/test-audio-scheduled-source-node-stop-method-consecutive-calls-support';\nimport { testAudioScheduledSourceNodeStopMethodNegativeParametersSupport } from './helpers/test-audio-scheduled-source-node-stop-method-negative-parameters-support';\nimport { testAudioWorkletNodeOptionsClonability } from './helpers/test-audio-worklet-node-options-clonability';\nimport { testDomExceptionConstructorSupport } from './helpers/test-dom-exception-constructor-support';\nimport { testPromiseSupport } from './helpers/test-promise-support';\nimport { testTransferablesSupport } from './helpers/test-transferables-support';\nimport { wrapAudioBufferSourceNodeStartMethodOffsetClamping } from './helpers/wrap-audio-buffer-source-node-start-method-offset-clamping';\nimport { wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls } from './helpers/wrap-audio-scheduled-source-node-stop-method-consecutive-calls';\nimport { wrapEventListener } from './helpers/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst addActiveInputConnectionToAudioNode = createAddActiveInputConnectionToAudioNode(insertElementInSet);\nconst addPassiveInputConnectionToAudioNode = createAddPassiveInputConnectionToAudioNode(insertElementInSet);\nconst deleteActiveInputConnectionToAudioNode = createDeleteActiveInputConnectionToAudioNode(pickElementFromSet);\nconst audioNodeTailTimeStore = new WeakMap();\nconst getAudioNodeTailTime = createGetAudioNodeTailTime(audioNodeTailTimeStore);\nconst cacheTestResult = createCacheTestResult(new Map(), new WeakMap());\nconst window = createWindow();\nconst createNativeAnalyserNode = createNativeAnalyserNodeFactory(cacheTestResult, createIndexSizeError);\nconst getAudioNodeRenderer = createGetAudioNodeRenderer(getAudioNodeConnections);\nconst renderInputsOfAudioNode = createRenderInputsOfAudioNode(getAudioNodeConnections, getAudioNodeRenderer, isPartOfACycle);\nconst createAnalyserNodeRenderer = createAnalyserNodeRendererFactory(createNativeAnalyserNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst getNativeContext = createGetNativeContext(CONTEXT_STORE);\nconst nativeOfflineAudioContextConstructor = createNativeOfflineAudioContextConstructor(window);\nconst isNativeOfflineAudioContext = createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor);\nconst audioParamAudioNodeStore = new WeakMap();\nconst eventTargetConstructor = createEventTargetConstructor(wrapEventListener);\nconst nativeAudioContextConstructor = createNativeAudioContextConstructor(window);\nconst isNativeAudioContext = createIsNativeAudioContext(nativeAudioContextConstructor);\nconst isNativeAudioNode = createIsNativeAudioNode(window);\nconst isNativeAudioParam = createIsNativeAudioParam(window);\nconst nativeAudioWorkletNodeConstructor = createNativeAudioWorkletNodeConstructor(window);\nconst audioNodeConstructor = createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE), createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode, addPassiveInputConnectionToAudioNode, connectNativeAudioNodeToNativeAudioNode, deleteActiveInputConnectionToAudioNode, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getAudioNodeTailTime, getEventListenersOfAudioNode, getNativeAudioNode, insertElementInSet, isActiveAudioNode, isPartOfACycle, isPassiveAudioNode), cacheTestResult, createIncrementCycleCounterFactory(CYCLE_COUNTERS, disconnectNativeAudioNodeFromNativeAudioNode, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, isActiveAudioNode), createIndexSizeError, createInvalidAccessError, createNotSupportedError, createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode, CYCLE_COUNTERS, getAudioNodeConnections, getNativeAudioNode, getNativeAudioParam, getNativeContext, isActiveAudioNode, isNativeOfflineAudioContext), createDetectCycles(audioParamAudioNodeStore, getAudioNodeConnections, getValueForKey), eventTargetConstructor, getNativeContext, isNativeAudioContext, isNativeAudioNode, isNativeAudioParam, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor);\nconst analyserNodeConstructor = createAnalyserNodeConstructor(audioNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext);\nexport { analyserNodeConstructor as AnalyserNode };\nconst audioBufferStore = new WeakSet();\nconst nativeAudioBufferConstructor = createNativeAudioBufferConstructor(window);\nconst convertNumberToUnsignedLong = createConvertNumberToUnsignedLong(new Uint32Array(1));\nconst wrapAudioBufferCopyChannelMethods = createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong, createIndexSizeError);\nconst wrapAudioBufferCopyChannelMethodsOutOfBounds = createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong);\nconst audioBufferConstructor = createAudioBufferConstructor(audioBufferStore, cacheTestResult, createNotSupportedError, nativeAudioBufferConstructor, nativeOfflineAudioContextConstructor, createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor), wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nexport { audioBufferConstructor as AudioBuffer };\nconst addSilentConnection = createAddSilentConnection(createNativeGainNode);\nconst renderInputsOfAudioParam = createRenderInputsOfAudioParam(getAudioNodeRenderer, getAudioParamConnections, isPartOfACycle);\nconst connectAudioParam = createConnectAudioParam(renderInputsOfAudioParam);\nconst createNativeAudioBufferSourceNode = createNativeAudioBufferSourceNodeFactory(addSilentConnection, cacheTestResult, testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport, testAudioBufferSourceNodeStartMethodOffsetClampingSupport, testAudioBufferSourceNodeStopMethodNullifiedBufferSupport, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioBufferSourceNodeStartMethodOffsetClamping, createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors), wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst renderAutomation = createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections), renderInputsOfAudioParam);\nconst createAudioBufferSourceNodeRenderer = createAudioBufferSourceNodeRendererFactory(connectAudioParam, createNativeAudioBufferSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst createAudioParam = createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE), audioParamAudioNodeStore, AUDIO_PARAM_STORE, createAudioParamRenderer, createCancelAndHoldAutomationEvent, createCancelScheduledValuesAutomationEvent, createExponentialRampToValueAutomationEvent, createLinearRampToValueAutomationEvent, createSetTargetAutomationEvent, createSetValueAutomationEvent, createSetValueCurveAutomationEvent, nativeAudioContextConstructor, setValueAtTimeUntilPossible);\nconst audioBufferSourceNodeConstructor = createAudioBufferSourceNodeConstructor(audioNodeConstructor, createAudioBufferSourceNodeRenderer, createAudioParam, createInvalidStateError, createNativeAudioBufferSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nexport { audioBufferSourceNodeConstructor as AudioBufferSourceNode };\nconst audioDestinationNodeConstructor = createAudioDestinationNodeConstructor(audioNodeConstructor, createAudioDestinationNodeRenderer, createIndexSizeError, createInvalidStateError, createNativeAudioDestinationNodeFactory(createNativeGainNode, overwriteAccessors), getNativeContext, isNativeOfflineAudioContext, renderInputsOfAudioNode);\nconst createBiquadFilterNodeRenderer = createBiquadFilterNodeRendererFactory(connectAudioParam, createNativeBiquadFilterNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst setAudioNodeTailTime = createSetAudioNodeTailTime(audioNodeTailTimeStore);\nconst biquadFilterNodeConstructor = createBiquadFilterNodeConstructor(audioNodeConstructor, createAudioParam, createBiquadFilterNodeRenderer, createInvalidAccessError, createNativeBiquadFilterNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst monitorConnections = createMonitorConnections(insertElementInSet, isNativeAudioNode);\nconst wrapChannelMergerNode = createWrapChannelMergerNode(createInvalidStateError, monitorConnections);\nconst createNativeChannelMergerNode = createNativeChannelMergerNodeFactory(nativeAudioContextConstructor, wrapChannelMergerNode);\nconst createChannelMergerNodeRenderer = createChannelMergerNodeRendererFactory(createNativeChannelMergerNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelMergerNodeConstructor = createChannelMergerNodeConstructor(audioNodeConstructor, createChannelMergerNodeRenderer, createNativeChannelMergerNode, getNativeContext, isNativeOfflineAudioContext);\nconst createChannelSplitterNodeRenderer = createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst channelSplitterNodeConstructor = createChannelSplitterNodeConstructor(audioNodeConstructor, createChannelSplitterNodeRenderer, createNativeChannelSplitterNode, getNativeContext, isNativeOfflineAudioContext, sanitizeChannelSplitterOptions);\nconst createNativeConstantSourceNodeFaker = createNativeConstantSourceNodeFakerFactory(addSilentConnection, createNativeAudioBufferSourceNode, createNativeGainNode, monitorConnections);\nconst createNativeConstantSourceNode = createNativeConstantSourceNodeFactory(addSilentConnection, cacheTestResult, createNativeConstantSourceNodeFaker, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport);\nconst createConstantSourceNodeRenderer = createConstantSourceNodeRendererFactory(connectAudioParam, createNativeConstantSourceNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst constantSourceNodeConstructor = createConstantSourceNodeConstructor(audioNodeConstructor, createAudioParam, createConstantSourceNodeRenderer, createNativeConstantSourceNode, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createNativeConvolverNode = createNativeConvolverNodeFactory(createNotSupportedError, overwriteAccessors);\nconst createConvolverNodeRenderer = createConvolverNodeRendererFactory(createNativeConvolverNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst convolverNodeConstructor = createConvolverNodeConstructor(audioNodeConstructor, createConvolverNodeRenderer, createNativeConvolverNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createDelayNodeRenderer = createDelayNodeRendererFactory(connectAudioParam, createNativeDelayNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst delayNodeConstructor = createDelayNodeConstructor(audioNodeConstructor, createAudioParam, createDelayNodeRenderer, createNativeDelayNode, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativeDynamicsCompressorNode = createNativeDynamicsCompressorNodeFactory(createNotSupportedError);\nconst createDynamicsCompressorNodeRenderer = createDynamicsCompressorNodeRendererFactory(connectAudioParam, createNativeDynamicsCompressorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst dynamicsCompressorNodeConstructor = createDynamicsCompressorNodeConstructor(audioNodeConstructor, createAudioParam, createDynamicsCompressorNodeRenderer, createNativeDynamicsCompressorNode, createNotSupportedError, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createGainNodeRenderer = createGainNodeRendererFactory(connectAudioParam, createNativeGainNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst gainNodeConstructor = createGainNodeConstructor(audioNodeConstructor, createAudioParam, createGainNodeRenderer, createNativeGainNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeIIRFilterNodeFaker = createNativeIIRFilterNodeFakerFactory(createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError);\nconst renderNativeOfflineAudioContext = createRenderNativeOfflineAudioContext(cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode, nativeOfflineAudioContextConstructor));\nconst createIIRFilterNodeRenderer = createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst createNativeIIRFilterNode = createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker);\nconst iIRFilterNodeConstructor = createIIRFilterNodeConstructor(audioNodeConstructor, createNativeIIRFilterNode, createIIRFilterNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createAudioListener = createAudioListenerFactory(createAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeScriptProcessorNode, createNotSupportedError, getFirstSample, isNativeOfflineAudioContext, overwriteAccessors);\nconst unrenderedAudioWorkletNodeStore = new WeakMap();\nconst minimalBaseAudioContextConstructor = createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor, createAudioListener, eventTargetConstructor, isNativeOfflineAudioContext, unrenderedAudioWorkletNodeStore, wrapEventListener);\nconst createNativeOscillatorNode = createNativeOscillatorNodeFactory(addSilentConnection, cacheTestResult, testAudioScheduledSourceNodeStartMethodNegativeParametersSupport, testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport, testAudioScheduledSourceNodeStopMethodNegativeParametersSupport, wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls);\nconst createOscillatorNodeRenderer = createOscillatorNodeRendererFactory(connectAudioParam, createNativeOscillatorNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst oscillatorNodeConstructor = createOscillatorNodeConstructor(audioNodeConstructor, createAudioParam, createNativeOscillatorNode, createOscillatorNodeRenderer, getNativeContext, isNativeOfflineAudioContext, wrapEventListener);\nconst createConnectedNativeAudioBufferSourceNode = createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode);\nconst createNativeWaveShaperNodeFaker = createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeGainNode, isDCCurve, monitorConnections);\nconst createNativeWaveShaperNode = createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode, createInvalidStateError, createNativeWaveShaperNodeFaker, isDCCurve, monitorConnections, nativeAudioContextConstructor, overwriteAccessors);\nconst createNativePannerNodeFaker = createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode, createInvalidStateError, createNativeChannelMergerNode, createNativeGainNode, createNativeScriptProcessorNode, createNativeWaveShaperNode, createNotSupportedError, disconnectNativeAudioNodeFromNativeAudioNode, getFirstSample, monitorConnections);\nconst createNativePannerNode = createNativePannerNodeFactory(createNativePannerNodeFaker);\nconst createPannerNodeRenderer = createPannerNodeRendererFactory(connectAudioParam, createNativeChannelMergerNode, createNativeConstantSourceNode, createNativeGainNode, createNativePannerNode, getNativeAudioNode, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst pannerNodeConstructor = createPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativePannerNode, createPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst createNativePeriodicWave = createNativePeriodicWaveFactory(createIndexSizeError);\nconst periodicWaveConstructor = createPeriodicWaveConstructor(createNativePeriodicWave, getNativeContext, new WeakSet(), sanitizePeriodicWaveOptions);\nconst nativeStereoPannerNodeFakerFactory = createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeGainNode, createNativeWaveShaperNode, createNotSupportedError, monitorConnections);\nconst createNativeStereoPannerNode = createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory, createNotSupportedError);\nconst createStereoPannerNodeRenderer = createStereoPannerNodeRendererFactory(connectAudioParam, createNativeStereoPannerNode, getNativeAudioNode, renderAutomation, renderInputsOfAudioNode);\nconst stereoPannerNodeConstructor = createStereoPannerNodeConstructor(audioNodeConstructor, createAudioParam, createNativeStereoPannerNode, createStereoPannerNodeRenderer, getNativeContext, isNativeOfflineAudioContext);\nconst createWaveShaperNodeRenderer = createWaveShaperNodeRendererFactory(createNativeWaveShaperNode, getNativeAudioNode, renderInputsOfAudioNode);\nconst waveShaperNodeConstructor = createWaveShaperNodeConstructor(audioNodeConstructor, createInvalidStateError, createNativeWaveShaperNode, createWaveShaperNodeRenderer, getNativeContext, isNativeOfflineAudioContext, setAudioNodeTailTime);\nconst isSecureContext = createIsSecureContext(window);\nconst exposeCurrentFrameAndCurrentTime = createExposeCurrentFrameAndCurrentTime(window);\nconst backupOfflineAudioContextStore = new WeakMap();\nconst getOrCreateBackupOfflineAudioContext = createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore, nativeOfflineAudioContextConstructor);\n// The addAudioWorkletModule() function is only available in a SecureContext.\nexport const addAudioWorkletModule = isSecureContext\n    ? createAddAudioWorkletModule(cacheTestResult, createNotSupportedError, createEvaluateSource(window), exposeCurrentFrameAndCurrentTime, createFetchSource(createAbortError), getNativeContext, getOrCreateBackupOfflineAudioContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, new WeakMap(), new WeakMap(), createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), \n    // @todo window is guaranteed to be defined because isSecureContext checks that as well.\n    window)\n    : undefined;\nconst isNativeContext = createIsNativeContext(isNativeAudioContext, isNativeOfflineAudioContext);\nexport const decodeAudioData = createDecodeAudioData(audioBufferStore, cacheTestResult, createDataCloneError, createEncodingError, new WeakSet(), getNativeContext, isNativeContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, testPromiseSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst baseAudioContextConstructor = createBaseAudioContextConstructor(addAudioWorkletModule, analyserNodeConstructor, audioBufferConstructor, audioBufferSourceNodeConstructor, biquadFilterNodeConstructor, channelMergerNodeConstructor, channelSplitterNodeConstructor, constantSourceNodeConstructor, convolverNodeConstructor, decodeAudioData, delayNodeConstructor, dynamicsCompressorNodeConstructor, gainNodeConstructor, iIRFilterNodeConstructor, minimalBaseAudioContextConstructor, oscillatorNodeConstructor, pannerNodeConstructor, periodicWaveConstructor, stereoPannerNodeConstructor, waveShaperNodeConstructor);\nconst mediaElementAudioSourceNodeConstructor = createMediaElementAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaElementAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioDestinationNodeConstructor = createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioDestinationNode, getNativeContext, isNativeOfflineAudioContext);\nconst mediaStreamAudioSourceNodeConstructor = createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamAudioSourceNode, getNativeContext, isNativeOfflineAudioContext);\nconst createNativeMediaStreamTrackAudioSourceNode = createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError, isNativeOfflineAudioContext);\nconst mediaStreamTrackAudioSourceNodeConstructor = createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor, createNativeMediaStreamTrackAudioSourceNode, getNativeContext);\nconst audioContextConstructor = createAudioContextConstructor(baseAudioContextConstructor, createInvalidStateError, createNotSupportedError, createUnknownError, mediaElementAudioSourceNodeConstructor, mediaStreamAudioDestinationNodeConstructor, mediaStreamAudioSourceNodeConstructor, mediaStreamTrackAudioSourceNodeConstructor, nativeAudioContextConstructor);\nexport { audioContextConstructor as AudioContext };\nconst getUnrenderedAudioWorkletNodes = createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore);\nconst addUnrenderedAudioWorkletNode = createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst connectMultipleOutputs = createConnectMultipleOutputs(createIndexSizeError);\nconst deleteUnrenderedAudioWorkletNode = createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes);\nconst disconnectMultipleOutputs = createDisconnectMultipleOutputs(createIndexSizeError);\nconst activeAudioWorkletNodeInputsStore = new WeakMap();\nconst getActiveAudioWorkletNodeInputs = createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore, getValueForKey);\nconst createNativeAudioWorkletNodeFaker = createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs, createIndexSizeError, createInvalidStateError, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, createNativeScriptProcessorNode, createNotSupportedError, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getActiveAudioWorkletNodeInputs, monitorConnections);\nconst createNativeAudioWorkletNode = createNativeAudioWorkletNodeFactory(createInvalidStateError, createNativeAudioWorkletNodeFaker, createNativeGainNode, createNotSupportedError, monitorConnections);\nconst createAudioWorkletNodeRenderer = createAudioWorkletNodeRendererFactory(connectAudioParam, connectMultipleOutputs, createNativeAudioBufferSourceNode, createNativeChannelMergerNode, createNativeChannelSplitterNode, createNativeConstantSourceNode, createNativeGainNode, deleteUnrenderedAudioWorkletNode, disconnectMultipleOutputs, exposeCurrentFrameAndCurrentTime, getNativeAudioNode, nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor, renderAutomation, renderInputsOfAudioNode, renderNativeOfflineAudioContext);\nconst getBackupOfflineAudioContext = createGetBackupOfflineAudioContext(backupOfflineAudioContextStore);\nconst setActiveAudioWorkletNodeInputs = createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore);\n// The AudioWorkletNode constructor is only available in a SecureContext.\nconst audioWorkletNodeConstructor = isSecureContext\n    ? createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode, audioNodeConstructor, createAudioParam, createAudioWorkletNodeRenderer, createNativeAudioWorkletNode, getAudioNodeConnections, getBackupOfflineAudioContext, getNativeContext, isNativeOfflineAudioContext, nativeAudioWorkletNodeConstructor, sanitizeAudioWorkletNodeOptions, setActiveAudioWorkletNodeInputs, testAudioWorkletNodeOptionsClonability, wrapEventListener)\n    : undefined;\nexport { audioWorkletNodeConstructor as AudioWorkletNode };\nexport { biquadFilterNodeConstructor as BiquadFilterNode };\nexport { channelMergerNodeConstructor as ChannelMergerNode };\nexport { channelSplitterNodeConstructor as ChannelSplitterNode };\nexport { convolverNodeConstructor as ConvolverNode };\nexport { constantSourceNodeConstructor as ConstantSourceNode };\nexport { delayNodeConstructor as DelayNode };\nexport { dynamicsCompressorNodeConstructor as DynamicsCompressorNode };\nexport { gainNodeConstructor as GainNode };\nexport { iIRFilterNodeConstructor as IIRFilterNode };\nexport { mediaElementAudioSourceNodeConstructor as MediaElementAudioSourceNode };\nexport { mediaStreamAudioDestinationNodeConstructor as MediaStreamAudioDestinationNode };\nexport { mediaStreamAudioSourceNodeConstructor as MediaStreamAudioSourceNode };\nexport { mediaStreamTrackAudioSourceNodeConstructor as MediaStreamTrackAudioSourceNode };\nconst minimalAudioContextConstructor = createMinimalAudioContextConstructor(createInvalidStateError, createNotSupportedError, createUnknownError, minimalBaseAudioContextConstructor, nativeAudioContextConstructor);\nexport { minimalAudioContextConstructor as MinimalAudioContext };\nconst createNativeOfflineAudioContext = createCreateNativeOfflineAudioContext(createNotSupportedError, nativeOfflineAudioContextConstructor);\nconst startRendering = createStartRendering(audioBufferStore, cacheTestResult, getAudioNodeRenderer, getUnrenderedAudioWorkletNodes, renderNativeOfflineAudioContext, testAudioBufferCopyChannelMethodsOutOfBoundsSupport, wrapAudioBufferCopyChannelMethods, wrapAudioBufferCopyChannelMethodsOutOfBounds);\nconst minimalOfflineAudioContextConstructor = createMinimalOfflineAudioContextConstructor(cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, minimalBaseAudioContextConstructor, startRendering);\nexport { minimalOfflineAudioContextConstructor as MinimalOfflineAudioContext };\nconst offlineAudioContextConstructor = createOfflineAudioContextConstructor(baseAudioContextConstructor, cacheTestResult, createInvalidStateError, createNativeOfflineAudioContext, startRendering);\nexport { offlineAudioContextConstructor as OfflineAudioContext };\nexport { oscillatorNodeConstructor as OscillatorNode };\nexport { pannerNodeConstructor as PannerNode };\nexport { periodicWaveConstructor as PeriodicWave };\nexport { stereoPannerNodeConstructor as StereoPannerNode };\nexport { waveShaperNodeConstructor as WaveShaperNode };\nexport const isAnyAudioContext = createIsAnyAudioContext(CONTEXT_STORE, isNativeAudioContext);\nexport const isAnyAudioNode = createIsAnyAudioNode(AUDIO_NODE_STORE, isNativeAudioNode);\nexport const isAnyAudioParam = createIsAnyAudioParam(AUDIO_PARAM_STORE, isNativeAudioParam);\nexport const isAnyOfflineAudioContext = createIsAnyOfflineAudioContext(CONTEXT_STORE, isNativeOfflineAudioContext);\nexport const isSupported = () => createIsSupportedPromise(cacheTestResult, createTestAudioBufferCopyChannelMethodsSubarraySupport(nativeOfflineAudioContextConstructor), createTestAudioContextCloseMethodSupport(nativeAudioContextConstructor), createTestAudioContextDecodeAudioDataMethodTypeErrorSupport(nativeOfflineAudioContextConstructor), createTestAudioContextOptionsSupport(nativeAudioContextConstructor), createTestAudioNodeConnectMethodSupport(nativeOfflineAudioContextConstructor), createTestAudioWorkletProcessorNoOutputsSupport(nativeAudioWorkletNodeConstructor, nativeOfflineAudioContextConstructor), createTestChannelMergerNodeChannelCountSupport(nativeOfflineAudioContextConstructor), createTestConstantSourceNodeAccurateSchedulingSupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeBufferReassignabilitySupport(nativeOfflineAudioContextConstructor), createTestConvolverNodeChannelCountSupport(nativeOfflineAudioContextConstructor), testDomExceptionConstructorSupport, createTestIsSecureContextSupport(window), createTestMediaStreamAudioSourceNodeMediaStreamWithoutAudioTrackSupport(nativeAudioContextConstructor), createTestStereoPannerNodeDefaultValueSupport(nativeOfflineAudioContextConstructor), testTransferablesSupport);\n//# sourceMappingURL=module.js.map","import { encode, instantiate } from 'media-encoder-host';\nimport { addRecorderAudioWorkletModule, createRecorderAudioWorkletNode } from 'recorder-audio-worklet';\nimport { AudioBuffer, AudioBufferSourceNode, AudioWorkletNode, ConstantSourceNode, MediaStreamAudioSourceNode, MinimalAudioContext, addAudioWorkletModule } from 'standardized-audio-context';\nconst ERROR_MESSAGE = 'Missing AudioWorklet support. Maybe this is not running in a secure context.';\n// @todo This should live in a separate file.\nconst createPromisedAudioNodesEncoderIdAndPort = async (audioBuffer, audioContext, channelCount, mediaStream, mimeType) => {\n    const { encoderId, port } = await instantiate(mimeType, audioContext.sampleRate);\n    if (AudioWorkletNode === undefined) {\n        throw new Error(ERROR_MESSAGE);\n    }\n    const audioBufferSourceNode = new AudioBufferSourceNode(audioContext, { buffer: audioBuffer });\n    const mediaStreamAudioSourceNode = new MediaStreamAudioSourceNode(audioContext, { mediaStream });\n    const recorderAudioWorkletNode = createRecorderAudioWorkletNode(AudioWorkletNode, audioContext, { channelCount });\n    return { audioBufferSourceNode, encoderId, mediaStreamAudioSourceNode, port, recorderAudioWorkletNode };\n};\nexport const createWebAudioMediaRecorderFactory = (createBlobEvent, createInvalidModificationError, createInvalidStateError, createNotSupportedError) => {\n    return (eventTarget, mediaStream, mimeType) => {\n        var _a;\n        const sampleRate = (_a = mediaStream.getAudioTracks()[0]) === null || _a === void 0 ? void 0 : _a.getSettings().sampleRate;\n        const audioContext = new MinimalAudioContext({ latencyHint: 'playback', sampleRate });\n        const length = Math.max(1024, Math.ceil(audioContext.baseLatency * audioContext.sampleRate));\n        const audioBuffer = new AudioBuffer({ length, sampleRate: audioContext.sampleRate });\n        const bufferedArrayBuffers = [];\n        const promisedAudioWorkletModule = addRecorderAudioWorkletModule((url) => {\n            if (addAudioWorkletModule === undefined) {\n                throw new Error(ERROR_MESSAGE);\n            }\n            return addAudioWorkletModule(audioContext, url);\n        });\n        let abortRecording = null;\n        let intervalId = null;\n        let promisedAudioNodesAndEncoderId = null;\n        let promisedPartialRecording = null;\n        let isAudioContextRunning = true;\n        const dispatchDataAvailableEvent = (arrayBuffers) => {\n            eventTarget.dispatchEvent(createBlobEvent('dataavailable', { data: new Blob(arrayBuffers, { type: mimeType }) }));\n        };\n        const requestNextPartialRecording = async (encoderId, timeslice) => {\n            const arrayBuffers = await encode(encoderId, timeslice);\n            if (promisedAudioNodesAndEncoderId === null) {\n                bufferedArrayBuffers.push(...arrayBuffers);\n            }\n            else {\n                dispatchDataAvailableEvent(arrayBuffers);\n                promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n            }\n        };\n        const resume = () => {\n            isAudioContextRunning = true;\n            return audioContext.resume();\n        };\n        const stop = () => {\n            if (promisedAudioNodesAndEncoderId === null) {\n                return;\n            }\n            if (abortRecording !== null) {\n                mediaStream.removeEventListener('addtrack', abortRecording);\n                mediaStream.removeEventListener('removetrack', abortRecording);\n            }\n            if (intervalId !== null) {\n                clearTimeout(intervalId);\n            }\n            promisedAudioNodesAndEncoderId.then(async ({ constantSourceNode, encoderId, mediaStreamAudioSourceNode, recorderAudioWorkletNode }) => {\n                if (promisedPartialRecording !== null) {\n                    promisedPartialRecording.catch(() => {\n                        /* @todo Only catch the errors caused by a duplicate call to encode. */\n                    });\n                    promisedPartialRecording = null;\n                }\n                await recorderAudioWorkletNode.stop();\n                mediaStreamAudioSourceNode.disconnect(recorderAudioWorkletNode);\n                constantSourceNode.stop();\n                const arrayBuffers = await encode(encoderId, null);\n                if (promisedAudioNodesAndEncoderId === null) {\n                    await suspend();\n                }\n                dispatchDataAvailableEvent([...bufferedArrayBuffers, ...arrayBuffers]);\n                bufferedArrayBuffers.length = 0;\n                eventTarget.dispatchEvent(new Event('stop'));\n            });\n            promisedAudioNodesAndEncoderId = null;\n        };\n        const suspend = () => {\n            isAudioContextRunning = false;\n            return audioContext.suspend();\n        };\n        suspend();\n        return {\n            get mimeType() {\n                return mimeType;\n            },\n            get state() {\n                return promisedAudioNodesAndEncoderId === null ? 'inactive' : isAudioContextRunning ? 'recording' : 'paused';\n            },\n            pause() {\n                if (promisedAudioNodesAndEncoderId === null) {\n                    throw createInvalidStateError();\n                }\n                if (isAudioContextRunning) {\n                    suspend();\n                    eventTarget.dispatchEvent(new Event('pause'));\n                }\n            },\n            resume() {\n                if (promisedAudioNodesAndEncoderId === null) {\n                    throw createInvalidStateError();\n                }\n                if (!isAudioContextRunning) {\n                    resume();\n                    eventTarget.dispatchEvent(new Event('resume'));\n                }\n            },\n            start(timeslice) {\n                var _a;\n                if (promisedAudioNodesAndEncoderId !== null) {\n                    throw createInvalidStateError();\n                }\n                if (mediaStream.getVideoTracks().length > 0) {\n                    throw createNotSupportedError();\n                }\n                eventTarget.dispatchEvent(new Event('start'));\n                const audioTracks = mediaStream.getAudioTracks();\n                // @todo TypeScript v4.4.2 removed the channelCount property from the MediaTrackSettings interface.\n                const channelCount = audioTracks.length === 0\n                    ? 2\n                    : (_a = audioTracks[0].getSettings().channelCount) !== null && _a !== void 0 ? _a : 2;\n                promisedAudioNodesAndEncoderId = Promise.all([\n                    resume(),\n                    promisedAudioWorkletModule.then(() => createPromisedAudioNodesEncoderIdAndPort(audioBuffer, audioContext, channelCount, mediaStream, mimeType))\n                ]).then(async ([, { audioBufferSourceNode, encoderId, mediaStreamAudioSourceNode, port, recorderAudioWorkletNode }]) => {\n                    mediaStreamAudioSourceNode.connect(recorderAudioWorkletNode);\n                    await new Promise((resolve) => {\n                        audioBufferSourceNode.onended = resolve;\n                        audioBufferSourceNode.connect(recorderAudioWorkletNode);\n                        audioBufferSourceNode.start(audioContext.currentTime + length / audioContext.sampleRate);\n                    });\n                    audioBufferSourceNode.disconnect(recorderAudioWorkletNode);\n                    // Bug #17: Safari does throttle the processing on hidden tabs if there is no active audio output.\n                    const constantSourceNode = new ConstantSourceNode(audioContext, { offset: 0 });\n                    constantSourceNode.onended = () => constantSourceNode.disconnect();\n                    constantSourceNode.connect(audioContext.destination);\n                    constantSourceNode.start();\n                    await recorderAudioWorkletNode.record(port);\n                    if (timeslice !== undefined) {\n                        promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n                    }\n                    return { constantSourceNode, encoderId, mediaStreamAudioSourceNode, recorderAudioWorkletNode };\n                });\n                const tracks = mediaStream.getTracks();\n                abortRecording = () => {\n                    stop();\n                    eventTarget.dispatchEvent(new ErrorEvent('error', { error: createInvalidModificationError() }));\n                };\n                mediaStream.addEventListener('addtrack', abortRecording);\n                mediaStream.addEventListener('removetrack', abortRecording);\n                intervalId = setInterval(() => {\n                    const currentTracks = mediaStream.getTracks();\n                    if ((currentTracks.length !== tracks.length || currentTracks.some((track, index) => track !== tracks[index])) &&\n                        abortRecording !== null) {\n                        abortRecording();\n                    }\n                }, 1000);\n            },\n            stop\n        };\n    };\n};\n//# sourceMappingURL=web-audio-media-recorder.js.map","export class MultiBufferDataView {\n    constructor(buffers, byteOffset = 0, byteLength) {\n        if (byteOffset < 0 || (byteLength !== undefined && byteLength < 0)) {\n            throw new RangeError();\n        }\n        const availableBytes = buffers.reduce((length, buffer) => length + buffer.byteLength, 0);\n        if (byteOffset > availableBytes || (byteLength !== undefined && byteOffset + byteLength > availableBytes)) {\n            throw new RangeError();\n        }\n        const dataViews = [];\n        const effectiveByteLength = byteLength === undefined ? availableBytes - byteOffset : byteLength;\n        const truncatedBuffers = [];\n        let consumedByteLength = 0;\n        let truncatedByteOffset = byteOffset;\n        for (const buffer of buffers) {\n            if (truncatedBuffers.length === 0) {\n                if (buffer.byteLength > truncatedByteOffset) {\n                    consumedByteLength = buffer.byteLength - truncatedByteOffset;\n                    const byteLengthOfDataView = consumedByteLength > effectiveByteLength ? effectiveByteLength : consumedByteLength;\n                    dataViews.push(new DataView(buffer, truncatedByteOffset, byteLengthOfDataView));\n                    truncatedBuffers.push(buffer);\n                }\n                else {\n                    truncatedByteOffset -= buffer.byteLength;\n                }\n            }\n            else if (consumedByteLength < effectiveByteLength) {\n                consumedByteLength += buffer.byteLength;\n                const byteLengthOfDataView = consumedByteLength > effectiveByteLength\n                    ? buffer.byteLength - consumedByteLength + effectiveByteLength\n                    : buffer.byteLength;\n                dataViews.push(new DataView(buffer, 0, byteLengthOfDataView));\n                truncatedBuffers.push(buffer);\n            }\n        }\n        this._buffers = truncatedBuffers;\n        this._byteLength = effectiveByteLength;\n        this._byteOffset = truncatedByteOffset;\n        this._dataViews = dataViews;\n        this._internalBuffer = new DataView(new ArrayBuffer(8));\n    }\n    get buffers() {\n        return this._buffers;\n    }\n    get byteLength() {\n        return this._byteLength;\n    }\n    get byteOffset() {\n        return this._byteOffset;\n    }\n    getFloat32(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n        return this._internalBuffer.getFloat32(0, littleEndian);\n    }\n    getFloat64(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n        this._internalBuffer.setUint8(4, this.getUint8(byteOffset + 4));\n        this._internalBuffer.setUint8(5, this.getUint8(byteOffset + 5));\n        this._internalBuffer.setUint8(6, this.getUint8(byteOffset + 6));\n        this._internalBuffer.setUint8(7, this.getUint8(byteOffset + 7));\n        return this._internalBuffer.getFloat64(0, littleEndian);\n    }\n    getInt16(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        return this._internalBuffer.getInt16(0, littleEndian);\n    }\n    getInt32(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n        return this._internalBuffer.getInt32(0, littleEndian);\n    }\n    getInt8(byteOffset) {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n        return dataView.getInt8(byteOffset - byteOffsetOfDataView);\n    }\n    getUint16(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        return this._internalBuffer.getUint16(0, littleEndian);\n    }\n    getUint32(byteOffset, littleEndian) {\n        this._internalBuffer.setUint8(0, this.getUint8(byteOffset + 0));\n        this._internalBuffer.setUint8(1, this.getUint8(byteOffset + 1));\n        this._internalBuffer.setUint8(2, this.getUint8(byteOffset + 2));\n        this._internalBuffer.setUint8(3, this.getUint8(byteOffset + 3));\n        return this._internalBuffer.getUint32(0, littleEndian);\n    }\n    getUint8(byteOffset) {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n        return dataView.getUint8(byteOffset - byteOffsetOfDataView);\n    }\n    setFloat32(byteOffset, value, littleEndian) {\n        this._internalBuffer.setFloat32(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n    setFloat64(byteOffset, value, littleEndian) {\n        this._internalBuffer.setFloat64(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n        this.setUint8(byteOffset + 4, this._internalBuffer.getUint8(4));\n        this.setUint8(byteOffset + 5, this._internalBuffer.getUint8(5));\n        this.setUint8(byteOffset + 6, this._internalBuffer.getUint8(6));\n        this.setUint8(byteOffset + 7, this._internalBuffer.getUint8(7));\n    }\n    setInt16(byteOffset, value, littleEndian) {\n        this._internalBuffer.setInt16(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n    }\n    setInt32(byteOffset, value, littleEndian) {\n        this._internalBuffer.setInt32(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n    setInt8(byteOffset, value) {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n        dataView.setInt8(byteOffset - byteOffsetOfDataView, value);\n    }\n    setUint16(byteOffset, value, littleEndian) {\n        this._internalBuffer.setUint16(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n    }\n    setUint32(byteOffset, value, littleEndian) {\n        this._internalBuffer.setUint32(0, value, littleEndian);\n        this.setUint8(byteOffset, this._internalBuffer.getUint8(0));\n        this.setUint8(byteOffset + 1, this._internalBuffer.getUint8(1));\n        this.setUint8(byteOffset + 2, this._internalBuffer.getUint8(2));\n        this.setUint8(byteOffset + 3, this._internalBuffer.getUint8(3));\n    }\n    setUint8(byteOffset, value) {\n        const [dataView, byteOffsetOfDataView] = this._findDataViewWithOffset(byteOffset);\n        dataView.setUint8(byteOffset - byteOffsetOfDataView, value);\n    }\n    _findDataViewWithOffset(byteOffset) {\n        let byteOffsetOfDataView = 0;\n        for (const dataView of this._dataViews) {\n            const byteOffsetOfNextDataView = byteOffsetOfDataView + dataView.byteLength;\n            if (byteOffset >= byteOffsetOfDataView && byteOffset < byteOffsetOfNextDataView) {\n                return [dataView, byteOffsetOfDataView];\n            }\n            byteOffsetOfDataView = byteOffsetOfNextDataView;\n        }\n        throw new RangeError();\n    }\n}\n//# sourceMappingURL=multi-buffer-data-view.js.map","import { encode, instantiate } from 'media-encoder-host';\nimport { MultiBufferDataView } from 'multi-buffer-data-view';\nimport { on } from 'subscribable-things';\nexport const createWebmPcmMediaRecorderFactory = (createBlobEvent, createInvalidModificationError, createNotSupportedError, decodeWebMChunk, readVariableSizeInteger) => {\n    return (eventTarget, nativeMediaRecorderConstructor, mediaStream, mimeType) => {\n        const audioTracks = mediaStream.getAudioTracks();\n        const bufferedArrayBuffers = [];\n        // @todo TypeScript v4.4.2 removed the channelCount property from the MediaTrackSettings interface.\n        const channelCount = audioTracks.length === 0\n            ? undefined\n            : audioTracks[0].getSettings().channelCount;\n        const nativeMediaRecorder = new nativeMediaRecorderConstructor(mediaStream, { mimeType: 'audio/webm;codecs=pcm' });\n        const sampleRate = audioTracks.length === 0 ? undefined : audioTracks[0].getSettings().sampleRate;\n        let promisedPartialRecording = null;\n        let stopRecording = () => { }; // tslint:disable-line:no-empty\n        const dispatchDataAvailableEvent = (arrayBuffers) => {\n            eventTarget.dispatchEvent(createBlobEvent('dataavailable', { data: new Blob(arrayBuffers, { type: mimeType }) }));\n        };\n        const requestNextPartialRecording = async (encoderId, timeslice) => {\n            const arrayBuffers = await encode(encoderId, timeslice);\n            if (nativeMediaRecorder.state === 'inactive') {\n                bufferedArrayBuffers.push(...arrayBuffers);\n            }\n            else {\n                dispatchDataAvailableEvent(arrayBuffers);\n                promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice);\n            }\n        };\n        const stop = () => {\n            if (nativeMediaRecorder.state === 'inactive') {\n                return;\n            }\n            if (promisedPartialRecording !== null) {\n                promisedPartialRecording.catch(() => {\n                    /* @todo Only catch the errors caused by a duplicate call to encode. */\n                });\n                promisedPartialRecording = null;\n            }\n            stopRecording();\n            stopRecording = () => { }; // tslint:disable-line:no-empty\n            nativeMediaRecorder.stop();\n        };\n        nativeMediaRecorder.addEventListener('error', () => {\n            stop();\n            // Bug #3 & #4: Chrome throws an error event without any error.\n            eventTarget.dispatchEvent(new ErrorEvent('error', { error: createInvalidModificationError() }));\n        });\n        nativeMediaRecorder.addEventListener('start', () => eventTarget.dispatchEvent(new Event('start')));\n        return {\n            get mimeType() {\n                return mimeType;\n            },\n            get state() {\n                return nativeMediaRecorder.state;\n            },\n            pause() {\n                return nativeMediaRecorder.pause();\n            },\n            resume() {\n                return nativeMediaRecorder.resume();\n            },\n            start(timeslice) {\n                /*\n                 * Bug #6: Chrome will emit a blob without any data when asked to encode a MediaStream with a video track into an audio\n                 * codec.\n                 */\n                if (mediaStream.getVideoTracks().length > 0) {\n                    throw createNotSupportedError();\n                }\n                if (nativeMediaRecorder.state === 'inactive') {\n                    if (sampleRate === undefined) {\n                        throw new Error('The sampleRate is not defined.');\n                    }\n                    let isRecording = false;\n                    let isStopped = false;\n                    // Bug #9: Chrome sometimes fires more than one dataavailable event while being inactive.\n                    let pendingInvocations = 0;\n                    let promisedDataViewElementTypeEncoderIdAndPort = instantiate(mimeType, sampleRate);\n                    stopRecording = () => {\n                        isStopped = true;\n                    };\n                    const removeEventListener = on(nativeMediaRecorder, 'dataavailable')(({ data }) => {\n                        pendingInvocations += 1;\n                        promisedDataViewElementTypeEncoderIdAndPort = promisedDataViewElementTypeEncoderIdAndPort.then(async ({ dataView = null, elementType = null, encoderId, port }) => {\n                            const arrayBuffer = await data.arrayBuffer();\n                            pendingInvocations -= 1;\n                            const currentDataView = dataView === null\n                                ? new MultiBufferDataView([arrayBuffer])\n                                : new MultiBufferDataView([...dataView.buffers, arrayBuffer], dataView.byteOffset);\n                            if (!isRecording && nativeMediaRecorder.state === 'recording' && !isStopped) {\n                                const lengthAndValue = readVariableSizeInteger(currentDataView, 0);\n                                if (lengthAndValue === null) {\n                                    return { dataView: currentDataView, elementType, encoderId, port };\n                                }\n                                const { value } = lengthAndValue;\n                                if (value !== 172351395) {\n                                    return { dataView, elementType, encoderId, port };\n                                }\n                                isRecording = true;\n                            }\n                            const { currentElementType, offset, contents } = decodeWebMChunk(currentDataView, elementType, channelCount);\n                            const remainingDataView = offset < currentDataView.byteLength\n                                ? new MultiBufferDataView(currentDataView.buffers, currentDataView.byteOffset + offset)\n                                : null;\n                            contents.forEach((content) => port.postMessage(content, content.map(({ buffer }) => buffer)));\n                            if (pendingInvocations === 0 && (nativeMediaRecorder.state === 'inactive' || isStopped)) {\n                                encode(encoderId, null).then((arrayBuffers) => {\n                                    dispatchDataAvailableEvent([...bufferedArrayBuffers, ...arrayBuffers]);\n                                    bufferedArrayBuffers.length = 0;\n                                    eventTarget.dispatchEvent(new Event('stop'));\n                                });\n                                port.postMessage([]);\n                                port.close();\n                                removeEventListener();\n                            }\n                            return { dataView: remainingDataView, elementType: currentElementType, encoderId, port };\n                        });\n                    });\n                    if (timeslice !== undefined) {\n                        promisedDataViewElementTypeEncoderIdAndPort.then(({ encoderId }) => (promisedPartialRecording = requestNextPartialRecording(encoderId, timeslice)));\n                    }\n                }\n                nativeMediaRecorder.start(100);\n            },\n            stop\n        };\n    };\n};\n//# sourceMappingURL=webm-pcm-media-recorder.js.map","export const createWindow = () => (typeof window === 'undefined' ? null : window);\n//# sourceMappingURL=window.js.map","export const readVariableSizeIntegerLength = (dataView, offset) => {\n    if (offset >= dataView.byteLength) {\n        return null;\n    }\n    const byte = dataView.getUint8(offset);\n    if (byte > 127) {\n        return 1;\n    }\n    if (byte > 63) {\n        return 2;\n    }\n    if (byte > 31) {\n        return 3;\n    }\n    if (byte > 15) {\n        return 4;\n    }\n    if (byte > 7) {\n        return 5;\n    }\n    if (byte > 3) {\n        return 6;\n    }\n    if (byte > 1) {\n        return 7;\n    }\n    if (byte > 0) {\n        return 8;\n    }\n    const length = readVariableSizeIntegerLength(dataView, offset + 1);\n    return length === null ? null : length + 8;\n};\n//# sourceMappingURL=read-variable-size-integer-length.js.map","export const wrapEventListener = (target, eventListener) => {\n    return (event) => {\n        const descriptor = { value: target };\n        Object.defineProperties(event, {\n            currentTarget: descriptor,\n            target: descriptor\n        });\n        if (typeof eventListener === 'function') {\n            return eventListener.call(target, event);\n        }\n        return eventListener.handleEvent.call(target, event);\n    };\n};\n//# sourceMappingURL=wrap-event-listener.js.map","import { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst encoderRegexes = [];\nconst window = createWindow();\nconst nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nconst createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nconst createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createInvalidStateError, createNotSupportedError);\nconst readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nconst readElementContent = createReadElementContent(readVariableSizeInteger);\nconst readElementType = createReadElementType(readVariableSizeInteger);\nconst decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nconst createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createNotSupportedError, decodeWebMChunk, readVariableSizeInteger);\nconst createEventTarget = createEventTargetFactory(window);\nconst nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\nconst createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nconst mediaRecorderConstructor = createMediaRecorderConstructor(createNativeMediaRecorder, createNotSupportedError, createWebAudioMediaRecorder, createWebmPcmMediaRecorder, encoderRegexes, createEventTargetConstructor(createEventTarget, wrapEventListener), nativeMediaRecorderConstructor);\nexport { mediaRecorderConstructor as MediaRecorder };\nexport const isSupported = () => createIsSupportedPromise(window);\nexport const register = async (port) => {\n    encoderRegexes.push(await rgstr(port));\n};\n//# sourceMappingURL=module.js.map"],"names":["loadWorker","register","createEventTargetConstructor","createInvalidStateError","createNotSupportedError","DEFAULT_OPTIONS","isNativeAudioNode","createWindow","wrapEventListener","window","AudioWorkletNode","AudioBufferSourceNode","MediaStreamAudioSourceNode","MinimalAudioContext","AudioBuffer","ConstantSourceNode","rgstr"],"mappings":"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"}